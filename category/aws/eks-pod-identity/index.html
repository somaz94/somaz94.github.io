<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    

    
    

    
    

    
    

    <!-- ✅ Google Tag Manager 추가 -->
    <script>
        (function(w,d,s,l,i){
            w[l]=w[l]||[];
            w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
            var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
            j.async=true;
            j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
            f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MBP83N4Q');
    </script>
      <!-- ✅ End Google Tag Manager -->

    <!-- Mermaid.js 직접 로드 -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

    <title>Understanding Amazon EKS Pod Identity Addon | somaz</title>
    <meta name="description" content="Learn about Amazon EKS Pod Identity, its features, and how it differs from IRSA">
    
        <meta name="keywords" content="aws, eks, kubernetes, iam">
    

    <!-- Social: Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Understanding Amazon EKS Pod Identity Addon | somaz">
    <meta name="twitter:description" content="Learn about Amazon EKS Pod Identity, its features, and how it differs from IRSA">

    
        <meta property="twitter:image" content="https://res.cloudinary.com/dkcm26aem/image/upload/v1767929916/eks-pod-identity-1_b2jj20.png">
    
    
    
        <meta name="twitter:site" content="@twitter_username">
    

    <!-- Social: Facebook / Open Graph -->
    <meta property="og:url" content="https://somaz.blog/category/aws/eks-pod-identity/">
    <meta property="og:title" content="Understanding Amazon EKS Pod Identity Addon | somaz">
    <meta property="og:image" content="https://res.cloudinary.com/dkcm26aem/image/upload/v1767929916/eks-pod-identity-1_b2jj20.png">
    <meta property="og:description" content="Learn about Amazon EKS Pod Identity, its features, and how it differs from IRSA">
    <meta property="og:site_name" content="Somaz Tech Blog">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/assets/img/icons/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/icons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/icons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/icons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/icons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/icons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/icons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/icons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/icons/apple-touch-icon-152x152.png" />

    <!-- Windows 8 Tile Icons -->
    <meta name="application-name" content="somaz">
    <meta name="msapplication-TileColor" content="#141414">
    <meta name="msapplication-square70x70logo" content="smalltile.png" />
    <meta name="msapplication-square150x150logo" content="mediumtile.png" />
    <meta name="msapplication-wide310x150logo" content="widetile.png" />
    <meta name="msapplication-square310x310logo" content="largetile.png" />
    
    <!-- Android Lolipop Theme Color -->
    <meta name="theme-color" content="#141414">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="canonical" href="https://somaz.blog/category/aws/eks-pod-identity/">
    <link rel="alternate" type="application/rss+xml" title="Somaz Tech Blog" href="https://somaz.blog/feed.xml" />

    <!-- Include extra styles -->
    

    <!-- JavaScript enabled/disabled -->
    <script>
        document.querySelector('html').classList.remove('no-js');
    </script>

    <!-- Google Adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8725590811736154"
        crossorigin="anonymous"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/variable/woff2/SUIT-Variable.css" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:wght@400;500;700&display=swap" rel="stylesheet"> -->

    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />

</head>
<!-- ✅ Google Tag Manager (noscript) -->
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MBP83N4Q"
            height="0" width="0" style="display:none;visibility:hidden">
    </iframe>
</noscript>
<!-- ✅ End Google Tag Manager (noscript) -->
    <body class="has-push-menu">
        





        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" display="none" version="1.1"><defs><symbol id="icon-menu" viewBox="0 0 1024 1024"><path class="path1" d="M128 213.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 725.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 469.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5z"/></symbol><symbol id="icon-search" viewBox="0 0 951 1024"><path class="path1" d="M658.286 475.429q0-105.714-75.143-180.857t-180.857-75.143-180.857 75.143-75.143 180.857 75.143 180.857 180.857 75.143 180.857-75.143 75.143-180.857zM950.857 950.857q0 29.714-21.714 51.429t-51.429 21.714q-30.857 0-51.429-21.714l-196-195.429q-102.286 70.857-228 70.857-81.714 0-156.286-31.714t-128.571-85.714-85.714-128.571-31.714-156.286 31.714-156.286 85.714-128.571 128.571-85.714 156.286-31.714 156.286 31.714 128.571 85.714 85.714 128.571 31.714 156.286q0 125.714-70.857 228l196 196q21.143 21.143 21.143 51.429z"/></symbol><symbol id="icon-close" viewBox="0 0 1000 1000"><path d="M969.8,870.3c27,27.7,27,71.8,0,99.1C955.7,983,937.9,990,920,990c-17.9,0-35.7-7-49.7-20.7L500,599L129.6,969.4C115.6,983,97.8,990,79.9,990s-35.7-7-49.7-20.7c-27-27.3-27-71.4,0-99.1L400.9,500L30.3,129.3c-27-27.3-27-71.4,0-99.1c27.3-27,71.8-27,99.4,0L500,400.9L870.4,30.2c27.7-27,71.8-27,99.4,0c27,27.7,27,71.8,0,99.1L599.1,500L969.8,870.3z"/></symbol><symbol id="icon-twitter" viewBox="0 0 951 1024"><path class="path1" d="M925.714 233.143q-38.286 56-92.571 95.429 0.571 8 0.571 24 0 74.286-21.714 148.286t-66 142-105.429 120.286-147.429 83.429-184.571 31.143q-154.857 0-283.429-82.857 20 2.286 44.571 2.286 128.571 0 229.143-78.857-60-1.143-107.429-36.857t-65.143-91.143q18.857 2.857 34.857 2.857 24.571 0 48.571-6.286-64-13.143-106-63.714t-42-117.429v-2.286q38.857 21.714 83.429 23.429-37.714-25.143-60-65.714t-22.286-88q0-50.286 25.143-93.143 69.143 85.143 168.286 136.286t212.286 56.857q-4.571-21.714-4.571-42.286 0-76.571 54-130.571t130.571-54q80 0 134.857 58.286 62.286-12 117.143-44.571-21.143 65.714-81.143 101.714 53.143-5.714 106.286-28.571z"/></symbol><symbol id="icon-facebook" viewBox="0 0 585 1024"><path class="path1" d="M548 6.857v150.857h-89.714q-49.143 0-66.286 20.571t-17.143 61.714v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571q0-106.286 59.429-164.857t158.286-58.571q84 0 130.286 6.857z"/></symbol><symbol id="icon-clock" viewBox="0 0 1000 1000"><path d="M500,10C229.8,10,10,229.8,10,500c0,270.2,219.8,490,490,490c270.2,0,490-219.8,490-490C990,229.8,770.2,10,500,10z M500,910.2c-226.2,0-410.2-184-410.2-410.2c0-226.2,184-410.2,410.2-410.2c226.2,0,410.2,184,410.2,410.2C910.2,726.1,726.2,910.2,500,910.2z M753.1,374c8.2,11.9,5.2,28.1-6.6,36.3L509.9,573.7c-4.4,3.1-9.6,4.6-14.8,4.6c-4.1,0-8.3-1-12.1-3c-8.6-4.5-14-13.4-14-23.1V202.5c0-14.4,11.7-26.1,26.1-26.1c14.4,0,26.1,11.7,26.1,26.1v300l195.6-135.1C728.7,359.2,744.9,362.1,753.1,374z"/></symbol><symbol id="icon-calendar" viewBox="0 0 1000 1000"><path d="M920,500v420H80V500H920 M990,430H10v490c0,38.7,31.3,70,70,70h840c38.7,0,70-31.3,70-70V430L990,430z"/><path d="M850,80v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80H360v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80C72.8,80,10,142.7,10,220v140h980V220C990,142.7,927.2,80,850,80z"/><path d="M255,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C290,25.8,274.3,10,255,10z"/><path d="M745,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C780,25.8,764.3,10,745,10z"/></symbol><symbol id="icon-github" viewBox="0 0 12 14"><path d="M6 1q1.633 0 3.012 0.805t2.184 2.184 0.805 3.012q0 1.961-1.145 3.527t-2.957 2.168q-0.211 0.039-0.312-0.055t-0.102-0.234q0-0.023 0.004-0.598t0.004-1.051q0-0.758-0.406-1.109 0.445-0.047 0.801-0.141t0.734-0.305 0.633-0.52 0.414-0.82 0.16-1.176q0-0.93-0.617-1.609 0.289-0.711-0.062-1.594-0.219-0.070-0.633 0.086t-0.719 0.344l-0.297 0.187q-0.727-0.203-1.5-0.203t-1.5 0.203q-0.125-0.086-0.332-0.211t-0.652-0.301-0.664-0.105q-0.352 0.883-0.062 1.594-0.617 0.68-0.617 1.609 0 0.664 0.16 1.172t0.41 0.82 0.629 0.523 0.734 0.305 0.801 0.141q-0.305 0.281-0.383 0.805-0.164 0.078-0.352 0.117t-0.445 0.039-0.512-0.168-0.434-0.488q-0.148-0.25-0.379-0.406t-0.387-0.187l-0.156-0.023q-0.164 0-0.227 0.035t-0.039 0.090 0.070 0.109 0.102 0.094l0.055 0.039q0.172 0.078 0.34 0.297t0.246 0.398l0.078 0.18q0.102 0.297 0.344 0.48t0.523 0.234 0.543 0.055 0.434-0.027l0.18-0.031q0 0.297 0.004 0.691t0.004 0.426q0 0.141-0.102 0.234t-0.312 0.055q-1.812-0.602-2.957-2.168t-1.145-3.527q0-1.633 0.805-3.012t2.184-2.184 3.012-0.805zM2.273 9.617q0.023-0.055-0.055-0.094-0.078-0.023-0.102 0.016-0.023 0.055 0.055 0.094 0.070 0.047 0.102-0.016zM2.516 9.883q0.055-0.039-0.016-0.125-0.078-0.070-0.125-0.023-0.055 0.039 0.016 0.125 0.078 0.078 0.125 0.023zM2.75 10.234q0.070-0.055 0-0.148-0.062-0.102-0.133-0.047-0.070 0.039 0 0.141t0.133 0.055zM3.078 10.562q0.062-0.062-0.031-0.148-0.094-0.094-0.156-0.023-0.070 0.062 0.031 0.148 0.094 0.094 0.156 0.023zM3.523 10.758q0.023-0.086-0.102-0.125-0.117-0.031-0.148 0.055t0.102 0.117q0.117 0.047 0.148-0.047zM4.016 10.797q0-0.102-0.133-0.086-0.125 0-0.125 0.086 0 0.102 0.133 0.086 0.125 0 0.125-0.086zM4.469 10.719q-0.016-0.086-0.141-0.070-0.125 0.023-0.109 0.117t0.141 0.062 0.109-0.109z"></path></symbol><symbol id="icon-medium" viewBox="0 0 1000 1000"><path d="M336.5,240.2v641.5c0,9.1-2.3,16.9-6.8,23.2s-11.2,9.6-20,9.6c-6.2,0-12.2-1.5-18-4.4L37.3,782.7c-7.7-3.6-14.1-9.8-19.4-18.3S10,747.4,10,739V115.5c0-7.3,1.8-13.5,5.5-18.6c3.6-5.1,8.9-7.7,15.9-7.7c5.1,0,13.1,2.7,24.1,8.2l279.5,140C335.9,238.6,336.5,239.5,336.5,240.2L336.5,240.2z M371.5,295.5l292,473.6l-292-145.5V295.5z M990,305.3v576.4c0,9.1-2.6,16.5-7.7,22.1c-5.1,5.7-12,8.5-20.8,8.5s-17.3-2.4-25.7-7.1L694.7,784.9L990,305.3z M988.4,239.7c0,1.1-46.8,77.6-140.3,229.4C754.6,621,699.8,709.8,683.8,735.7L470.5,389l177.2-288.2c6.2-10.2,15.7-15.3,28.4-15.3c5.1,0,9.8,1.1,14.2,3.3l295.9,147.7C987.6,237.1,988.4,238.2,988.4,239.7L988.4,239.7z"/></symbol><symbol id="icon-instagram" viewBox="0 0 489.84 489.84"><path d="M249.62,50.46c65.4,0,73.14.25,99,1.43C372.47,53,385.44,57,394.07,60.32a75.88,75.88,0,0,1,28.16,18.32,75.88,75.88,0,0,1,18.32,28.16c3.35,8.63,7.34,21.6,8.43,45.48,1.18,25.83,1.43,33.57,1.43,99s-0.25,73.14-1.43,99c-1.09,23.88-5.08,36.85-8.43,45.48a81.11,81.11,0,0,1-46.48,46.48c-8.63,3.35-21.6,7.34-45.48,8.43-25.82,1.18-33.57,1.43-99,1.43s-73.15-.25-99-1.43c-23.88-1.09-36.85-5.08-45.48-8.43A75.88,75.88,0,0,1,77,423.86,75.88,75.88,0,0,1,58.69,395.7c-3.35-8.63-7.34-21.6-8.43-45.48-1.18-25.83-1.43-33.57-1.43-99s0.25-73.14,1.43-99c1.09-23.88,5.08-36.85,8.43-45.48A75.88,75.88,0,0,1,77,78.64a75.88,75.88,0,0,1,28.16-18.32c8.63-3.35,21.6-7.34,45.48-8.43,25.83-1.18,33.57-1.43,99-1.43m0-44.13c-66.52,0-74.86.28-101,1.47s-43.87,5.33-59.45,11.38A120.06,120.06,0,0,0,45.81,47.44,120.06,120.06,0,0,0,17.56,90.82C11.5,106.4,7.36,124.2,6.17,150.27s-1.47,34.46-1.47,101,0.28,74.86,1.47,101,5.33,43.87,11.38,59.45a120.06,120.06,0,0,0,28.25,43.38,120.06,120.06,0,0,0,43.38,28.25c15.58,6.05,33.38,10.19,59.45,11.38s34.46,1.47,101,1.47,74.86-.28,101-1.47,43.87-5.33,59.45-11.38a125.24,125.24,0,0,0,71.63-71.63c6.05-15.58,10.19-33.38,11.38-59.45s1.47-34.46,1.47-101-0.28-74.86-1.47-101-5.33-43.87-11.38-59.45a120.06,120.06,0,0,0-28.25-43.38,120.06,120.06,0,0,0-43.38-28.25C394.47,13.13,376.67,9,350.6,7.8s-34.46-1.47-101-1.47h0Z" transform="translate(-4.7 -6.33)" /><path d="M249.62,125.48A125.77,125.77,0,1,0,375.39,251.25,125.77,125.77,0,0,0,249.62,125.48Zm0,207.41a81.64,81.64,0,1,1,81.64-81.64A81.64,81.64,0,0,1,249.62,332.89Z" transform="translate(-4.7 -6.33)"/><circle cx="375.66" cy="114.18" r="29.39" /></symbol><symbol id="icon-linkedin" viewBox="0 0 12 14"><path d="M2.727 4.883v7.742h-2.578v-7.742h2.578zM2.891 2.492q0.008 0.57-0.395 0.953t-1.059 0.383h-0.016q-0.641 0-1.031-0.383t-0.391-0.953q0-0.578 0.402-0.957t1.051-0.379 1.039 0.379 0.398 0.957zM12 8.187v4.437h-2.57v-4.141q0-0.82-0.316-1.285t-0.988-0.465q-0.492 0-0.824 0.27t-0.496 0.668q-0.086 0.234-0.086 0.633v4.32h-2.57q0.016-3.117 0.016-5.055t-0.008-2.313l-0.008-0.375h2.57v1.125h-0.016q0.156-0.25 0.32-0.438t0.441-0.406 0.68-0.34 0.895-0.121q1.336 0 2.148 0.887t0.813 2.598z"></path></symbol><symbol id="icon-heart" viewBox="0 0 34 30"><path d="M17,29.7 L16.4,29.2 C3.5,18.7 0,15 0,9 C0,4 4,0 9,0 C13.1,0 15.4,2.3 17,4.1 C18.6,2.3 20.9,0 25,0 C30,0 34,4 34,9 C34,15 30.5,18.7 17.6,29.2 L17,29.7 Z M9,2 C5.1,2 2,5.1 2,9 C2,14.1 5.2,17.5 17,27.1 C28.8,17.5 32,14.1 32,9 C32,5.1 28.9,2 25,2 C21.5,2 19.6,4.1 18.1,5.8 L17,7.1 L15.9,5.8 C14.4,4.1 12.5,2 9,2 Z" id="Shape"></path></symbol><symbol id="icon-arrow-right" viewBox="0 0 25.452 25.452"><path d="M4.471,24.929v-2.004l12.409-9.788c0.122-0.101,0.195-0.251,0.195-0.411c0-0.156-0.073-0.31-0.195-0.409L4.471,2.526V0.522c0-0.2,0.115-0.384,0.293-0.469c0.18-0.087,0.396-0.066,0.552,0.061l15.47,12.202c0.123,0.1,0.195,0.253,0.195,0.409c0,0.16-0.072,0.311-0.195,0.411L5.316,25.34c-0.155,0.125-0.372,0.147-0.552,0.061C4.586,25.315,4.471,25.13,4.471,24.929z"/></symbol><symbol id="icon-star" viewBox="0 0 48 48"><path fill="currentColor" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"/><path fill="#ffffff" d="M24,11l3.898,7.898l8.703,1.301l-6.301,6.102l1.5,8.699L24,30.898L16.199,35l1.5-8.699l-6.301-6.102  l8.703-1.301L24,11z"/></symbol><symbol id="icon-read" viewBox="0 0 32 32"><path fill="currentColor" d="M29,4H3C1.343,4,0,5.343,0,7v18c0,1.657,1.343,3,3,3h10c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1h10  c1.657,0,3-1.343,3-3V7C32,5.343,30.657,4,29,4z M29,5v20H18.708c-0.618,0-1.236,0.146-1.789,0.422l-0.419,0.21V5H29z M15.5,5  v20.632l-0.419-0.21C14.528,25.146,13.91,25,13.292,25H3V5H15.5z M31,25c0,1.103-0.897,2-2,2H18v1h-4v-1H3c-1.103,0-2-0.897-2-2V7  c0-0.737,0.405-1.375,1-1.722V25c0,0.552,0.448,1,1,1h10.292c0.466,0,0.925,0.108,1.342,0.317l0.919,0.46  c0.141,0.07,0.294,0.106,0.447,0.106c0.153,0,0.306-0.035,0.447-0.106l0.919-0.46C17.783,26.108,18.242,26,18.708,26H29  c0.552,0,1-0.448,1-1V5.278C30.595,5.625,31,6.263,31,7V25z M6,12.5C6,12.224,6.224,12,6.5,12h5c0.276,0,0.5,0.224,0.5,0.5  S11.776,13,11.5,13h-5C6.224,13,6,12.776,6,12.5z M6,14.5C6,14.224,6.224,14,6.5,14h5c0.276,0,0.5,0.224,0.5,0.5S11.776,15,11.5,15  h-5C6.224,15,6,14.776,6,14.5z M6,16.5C6,16.224,6.224,16,6.5,16h5c0.276,0,0.5,0.224,0.5,0.5S11.776,17,11.5,17h-5  C6.224,17,6,16.776,6,16.5z M20,12.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,13,25.5,13h-5  C20.224,13,20,12.776,20,12.5z M20,14.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,15,25.5,15h-5  C20.224,15,20,14.776,20,14.5z M20,16.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,17,25.5,17h-5  C20.224,17,20,16.776,20,16.5z"></path></symbol><symbol id="icon-tistory" viewBox="0 0 24 24"><path d="M4 4h16v3h-6v13h-4V7H4V4z"/></symbol></defs></svg>

        <header class="bar-header">
    <a id="menu" role="button">
        <svg id="open" class="icon-menu"><use xlink:href="#icon-menu"></use></svg>
    </a>
    <h1 class="logo">
        <a href="/">
            
                somaz <span class="version">v3.1.2</span>
            
        </a>
    </h1>
    <a id="search" class="dosearch" role="button">
        <svg class="icon-search"><use xlink:href="#icon-search"></use></svg>
    </a>
    
        <a href="https://github.com/thiagorossener/jekflix-template" class="get-theme" role="button">
            Get this theme!
        </a>
    
</header>

<div id="mask" class="overlay"></div>

<aside class="sidebar" id="sidebar">
    <nav id="navigation">
      <h2>Menu</h2>
      <ul>
  
    
      <li>
        <a href="https://somaz.blog/">Home</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/about">About</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/category">Category</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/contact">Contact</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/feed.xml">Feed</a>
      </li>
    
  
</ul>

    </nav>
</aside>

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search">
        <svg class="icon-remove-sign"><use xlink:href="#icon-close"></use></svg>
        <ul class="search-results search-list"></ul>
    </div>
</div>



        <section class="post two-columns">
            <article role="article" class="post-content">
                <p class="post-info">
                    
                        <svg class="icon-calendar" id="date"><use xlink:href="#icon-calendar"></use></svg>
                        <time class="date" datetime="2025-05-07T00:00:00+00:00">
                            


May 7, 2025

                        </time>
                    
                    <svg id="clock" class="icon-clock"><use xlink:href="#icon-clock"></use></svg>
                    <span>6 min to read</span>
                </p>
                <h1 class="post-title">Understanding Amazon EKS Pod Identity Addon</h1>
                <p class="post-subtitle">A deep dive into EKS Pod Identity and comparison with IRSA</p>

                
                    <img src="https://res.cloudinary.com/dkcm26aem/image/upload/v1767929916/eks-pod-identity-1_b2jj20.png" alt="Featured image" class="post-cover">
                

                <!-- Pagination links -->



                <!-- Add your table of contents here -->


                <p><br /></p>

<hr />

<h3 id="overview">Overview</h3>

<blockquote>
  <p>This post explores EKS Pod Identity Addon, a new feature released by AWS in December 2023 for managing IAM credentials in EKS clusters.</p>
</blockquote>

<p><br /></p>

<div class="info-box info-box-default-not-check">
  <strong>What is EKS Pod Identity?</strong>
  <ul>
    <li>Manages credentials for applications similar to EC2 instance profiles</li>
    <li>Provides secure credentials through EKS Auth API and agent pods</li>
    <li>Integrates with Kubernetes API server via Pod Identity Webhook</li>
    <li>Simplifies AWS permissions management for Kubernetes identities</li>
  </ul>
</div>

<p><br /></p>

<h3 id="how-it-works">How It Works</h3>

<h4 id="service-account-and-iam-role-connection">Service Account and IAM Role Connection</h4>

<div class="info-box info-box-default-not-check">
  <strong>Key Components</strong>
  <ul>
    <li>Links Kubernetes service accounts with IAM roles</li>
    <li>Defines AWS resource permissions in IAM roles</li>
    <li>Pod Identity Webhook issues web ID tokens</li>
    <li>Uses STS AssumeRoleWithWebIdentity for temporary credentials</li>
  </ul>
</div>

<p><br /></p>

<h3 id="advantages">Advantages</h3>

<div class="info-box info-box-default-not-check">
  <strong>Enhanced Security</strong>
  <ul>
    <li>Implements least privilege principle with per-pod IAM roles</li>
    <li>Reduces credential exposure risk</li>
    <li>Simplifies credential management with AWS SDK</li>
    <li>Enables fine-grained access control</li>
  </ul>
</div>

<p><br /></p>

<h3 id="implementation-guide">Implementation Guide</h3>

<h4 id="1-eks-cluster-setup">1. EKS Cluster Setup</h4>
<ul>
  <li>Enable PodIdentity Webhook when creating an EKS cluster</li>
  <li>To use IRSA, connect the OIDC provider to a cluster</li>
</ul>

<h4 id="2-create-oidc-provider">2. Create OIDC provider</h4>

<p><br /></p>

<script src="https://gist.github.com/somaz94/6b5545a100829b1a27437afedc728ae1.js"></script>

<p><br /></p>

<h4 id="3-service-account-configuration">3. Service Account Configuration</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceAccount</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-service-account</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="na">eks.amazonaws.com/role-arn</span><span class="pi">:</span> <span class="s">arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;</span>
</code></pre></div></div>

<h4 id="4-pod-configuration">4. Pod Configuration</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-deployment</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">serviceAccountName</span><span class="pi">:</span> <span class="s">my-service-account</span>
</code></pre></div></div>

<h4 id="5-add-iam-role">5. Add IAM Role</h4>
<ul>
  <li>Associate IAM policies for AWS resource access to roles</li>
</ul>

<p><br /></p>

<h3 id="irsa-vs-pod-identity-comparison">IRSA vs Pod Identity Comparison</h3>

<div class="info-box info-box-default-not-check">
  <strong>Feature Comparison Table</strong>
  <ul>
    <li><strong>OIDC Provider:</strong>
      <ul>
        <li>IRSA: Required for each cluster</li>
        <li>Pod Identity: Not required</li>
      </ul>
    </li>
    <li><strong>Role Management:</strong>
      <ul>
        <li>IRSA: Cluster-specific roles</li>
        <li>Pod Identity: Shared roles across clusters</li>
      </ul>
    </li>
    <li><strong>Setup Complexity:</strong>
      <ul>
        <li>IRSA: Moderate (OIDC setup per cluster)</li>
        <li>Pod Identity: Simpler (Centralized management)</li>
      </ul>
    </li>
  </ul>
</div>

<p><br /></p>

<h4 id="irsa">IRSA</h4>

<div style="width: 100%; margin: auto; margin-top: 40px;">
  <div class="mermaid">
    sequenceDiagram
      participant Pod
      participant ServiceAccount
      participant TokenVolume
      participant OIDC_Provider as OIDC Provider
      participant STS
      participant AWS_Services as AWS Services

      Pod-&gt;&gt;ServiceAccount: 1. Uses service account
      ServiceAccount-&gt;&gt;TokenVolume: 2. Mounts JWT token
      TokenVolume-&gt;&gt;OIDC_Provider: 3. Presents JWT token
      OIDC_Provider-&gt;&gt;STS: 4. Validates token
      STS-&gt;&gt;OIDC_Provider: 5. Returns temporary credentials
      OIDC_Provider-&gt;&gt;Pod: 6. Makes API calls with temp credentials
  </div>
</div>

<p><br /></p>

<div class="info-box info-box-default-not-check">
  <strong>Role by Cluster</strong>
  <ul>
    <li>In IRSA, each EKS cluster must create an OpenID Connect (OIDC) ID provider and associate with the cluster.</li>
    <li>The IAM role is associated with a specific service account in the cluster-specific Kubernetes Namespace.</li>
  </ul>
  <strong>Detailed Role Management</strong>
  <ul>
    <li>Roles are associated with OIDC issuer URLs that are unique to each cluster, so you must create a separate IAM role for each cluster or service account.</li>
    <li>For example, an ARN in an IAM role contains an OIDC provider URL associated with the cluster.</li>
  </ul>
  <strong>Role Scope</strong>
  <ul>
    <li><code>eks.amazonaws.com/role-arn: arn:aws:iam::(account-id):role/(role-name)</code></li>
    <li>Each IAM role is scoped as the OIDC provider in the cluster, making it difficult to share roles across clusters</li>
    <li>If you have multiple clusters, you must create a separate IAM role for each cluster and associate it with the service account for that cluster.</li>
  </ul></div>

<p><br /></p>

<h4 id="pod-identity">Pod Identity</h4>
<div style="width: 100%; margin: auto; margin-top: 40px;">
  <div class="mermaid">
    sequenceDiagram
      participant Pod
      participant Pod_Identity_Agent as Pod Identity Agent
      participant OIDC_Provider as OIDC Provider
      participant STS
      participant AWS_Services as AWS Services

      Pod-&gt;&gt;Pod_Identity_Agent: 1. Requests credentials
      Note right of Pod_Identity_Agent: Uses pods.eks.amazonaws.com audience
      Pod_Identity_Agent-&gt;&gt;OIDC_Provider: 2. Gets JWT token
      OIDC_Provider-&gt;&gt;STS: 3. Exchanges token for credentials
      Note right of STS: Validates pod identity claims
      STS--&gt;&gt;OIDC_Provider: 4. Returns temporary credentials
      OIDC_Provider--&gt;&gt;Pod_Identity_Agent: 5. Delivers credentials via IMDS endpoint
      Pod_Identity_Agent-&gt;&gt;AWS_Services: 6. Makes API calls with temp credentials
  </div></div>

<p><br /></p>

<div class="info-box info-box-default-not-check">
  <strong>Key Features</strong>
  <ul>
    <li>Sharing Roles Across Clusters</li>
    <li>Pod ID abstracts the need for cluster-specific OIDC providers</li>
    <li>A single IAM role that can be shared across multiple EKS clusters is available.</li>
  </ul>
  <strong>Simplified role management</strong>
  <ul>
    <li>With Pod ID, roles are not linked to a particular OIDC provider or cluster.</li>
    <li>ID mapping is handled centrally, and Kubernetes service accounts across the cluster can use the same IAM role.</li>
  </ul>
  <strong>How it works</strong>
  <ul>
    <li>The Pod ID agent add-on serves as a bridge between the Kubernetes Pod and AWS Identification and Access Management (IAM).</li>
    <li>Pod dynamically takes on the role of IAM without an OIDC provider. This allows for smooth expansion and easier management of access policies.</li>
  </ul>
</div>

<p><br /></p>

<h3 id="imdsv2-integration">IMDSv2 Integration</h3>
<blockquote>
  <p>Instance Metadata Service Version 2 (IMDSv2) is a secure version of the AWS EC2 instance’s access to metadata.</p>
</blockquote>

<div class="info-box info-box-default-not-check">
  <strong>IMDSv2 Features</strong>
  <ul>
    <li>Token-based session authentication</li>
    <li>Enhanced security against SSRF attacks</li>
    <li>Network hop limits</li>
    <li>Required header validation</li>
  </ul>
</div>

<h4 id="example-imdsv2-usage">Example IMDSv2 Usage</h4>

<p><br /></p>

<script src="https://gist.github.com/somaz94/20ff5c78a41c7403337f029906a30841.js"></script>

<p><br /></p>

<h3 id="migration-from-irsa-to-pod-identity">Migration from IRSA to Pod Identity</h3>

<div class="info-box info-box-default-not-check">
  <strong>Migration Steps</strong>
  <ul>
    <li>Install the EKS Pod Identity Agent on your existing clusters</li>
    <li>Create Pod Identity Associations between service accounts and IAM roles</li>
    <li>Gradually transition workloads to use Pod Identity instead of IRSA</li>
    <li>Update service account annotations to match the new format</li>
  </ul>
</div>

<h4 id="example-pod-identity-association">Example Pod Identity Association</h4>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">eks.amazonaws.com/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">PodIdentityAssociation</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-association</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">serviceAccount</span><span class="pi">:</span> <span class="s">my-service-account</span>
  <span class="na">roleArn</span><span class="pi">:</span> <span class="s">arn:aws:iam::&lt;account-id&gt;:role/EKSPodIdentityRole</span>
</code></pre></div></div>

<h4 id="compatibility-with-existing-workloads">Compatibility with Existing Workloads</h4>
<p>You can run both IRSA and Pod Identity in the same cluster during migration:</p>

<p><br /></p>

<script src="https://gist.github.com/somaz94/515c9ad62486735aa4553e8a141ce3a3.js"></script>

<p><br /></p>

<h3 id="troubleshooting-pod-identity">Troubleshooting Pod Identity</h3>

<div class="info-box info-box-warning-not-check">
  <strong>Common Issues</strong>
  <ul>
    <li><strong>Credentials not available:</strong> Check Pod Identity Agent logs</li>
    <li><strong>Permission denied:</strong> Verify IAM role has appropriate policies</li>
    <li><strong>Association not working:</strong> Confirm Pod Identity Association exists</li>
    <li><strong>Agent pods failing:</strong> Check for networking or RBAC issues</li>
  </ul>
</div>

<h4 id="debugging-commands">Debugging Commands</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check Pod Identity Agent status</span>
kubectl get pods <span class="nt">-n</span> kube-system | <span class="nb">grep </span>pod-identity-agent

<span class="c"># View Agent logs</span>
kubectl logs <span class="nt">-n</span> kube-system pod-identity-agent-xxxxx

<span class="c"># Verify service account configuration</span>
kubectl describe serviceaccount my-service-account <span class="nt">-n</span> default

<span class="c"># Test AWS credentials from within a pod</span>
kubectl <span class="nb">exec</span> <span class="nt">-it</span> my-pod <span class="nt">--</span> aws sts get-caller-identity
</code></pre></div></div>

<p><br /></p>

<hr />

<h3 id="references">References</h3>
<ul>
  <li><a href="https://docs.aws.amazon.com/eks/latest/userguide/pod-id-agent-setup.html">AWS EKS Pod Identity Documentation</a></li>
  <li><a href="https://aws.amazon.com/blogs/containers/amazon-eks-pod-identity-a-new-way-for-applications-on-eks-to-obtain-iam-credentials/">AWS Blog: EKS Pod Identity</a></li>
  <li><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html">IMDSv2 Documentation</a></li>
</ul>


                <!-- Pagination links -->


            </article>

            
                <aside class="see-also">
                    <h2>See also</h2>
                    <ul>
                        
                        
                        
                            <li>
                                <a href="/category/gcp/gcp-loadbalancer/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1767686138/gcp-loadbalancer-1_mih9pb.png">
                                    
                                    <h3>GCP Load Balancer Complete Comparison Guide</h3>
                                </a>
                            </li>
                        
                            <li>
                                <a href="/category/aws/aws-vpc-peering-transit-gateway/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1767769488/aws-network-1_y4kc1r.png">
                                    
                                    <h3>AWS Network Connection Methods Complete Comparison - VPC Peering vs Transit Gateway vs VPN</h3>
                                </a>
                            </li>
                        
                            <li>
                                <a href="/category/ai/llm-ollama-open-webui/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1770607787/ollama-openwebui-llm-1_dl6rlu.png">
                                    
                                    <h3>Building an On-Premises LLM System with Ollama + Open WebUI</h3>
                                </a>
                            </li>
                        
                    </ul>
                </aside>
            

        </section>

        <!-- Add time bar only for pages without pagination -->
        
            <div class="time-bar" data-minutes="6">
    <span class="time-completed"></span>
    <span class="time-remaining"></span>
    <div class="bar">
        <span class="completed" style="width:0%;"></span>
        <span class="remaining" style="width:100%;"></span>
    </div>
</div>

            <button class="toggle-preview" onclick="togglePreview()">
    <span>Hide Preview ▼</span>
</button>

<div id="recommendationSection" class="recommendation">
    <div class="message">
        <strong>Why don't you read something next?</strong>
        <div>
            <button>
                <svg><use xlink:href="#icon-arrow-right"></use></svg>
                <span>Go back to top</span>
            </button>
        </div>
    </div>
    <div id="previewSection" class="preview-section">
        
        <a href="/category/kubernetes/kubernetes-install-kubespray/" class="post-preview">
            <div class="image">
                
                    <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1737697968/kubespray_uyug5r.png">
                
            </div>
            <h3 class="title">Installing Kubernetes with Kubespray and Adding Worker Nodes (2024V.)</h3>
        </a>
    </div>
</div>

<style>
.toggle-preview {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #333;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.toggle-preview:hover {
    background: #444;
}

.toggle-preview.visible {
    opacity: 1;
}

.recommendation {
    margin-top: 1000px;
    display: block;
    transition: all 0.3s ease;
}

.recommendation.hidden {
    display: none;
}

.hide-preview {
    margin-left: 10px;
    background: none;
    border: 1px solid #666;
    color: #666;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
}

.hide-preview:hover {
    background: #f0f0f0;
}

.preview-section {
    max-height: 1000px;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}

.preview-section.hidden {
    max-height: 0;
}
</style>

<script>
function togglePreview() {
    const recommendation = document.getElementById('recommendationSection');
    const button = document.querySelector('.toggle-preview span');
    
    if (recommendation.classList.contains('hidden')) {
        recommendation.classList.remove('hidden');
        button.textContent = 'Hide Preview ▼';
    } else {
        recommendation.classList.add('hidden');
        button.textContent = 'Show Preview ▲';
    }
}

window.addEventListener('scroll', function() {
    const toggleButton = document.querySelector('.toggle-preview');
    const recommendation = document.getElementById('recommendationSection');
    const rect = recommendation.getBoundingClientRect();
    
    if (rect.top <= window.innerHeight) {
        toggleButton.classList.add('visible');
    } else {
        toggleButton.classList.remove('visible');
    }
});
</script>

        

        <!-- Show modal if the post is the last one -->
        

        <!-- Show modal before user leaves the page -->
        

        <!-- Add your newsletter subscription form here -->

        <section class="share">
    <h3>Share</h3>
    <a aria-label="Share on Twitter" href="https://twitter.com/intent/tweet?text=&quot;Learn about Amazon EKS Pod Identity, its features, and how it differs from IRSA&quot;%20https://somaz.blog/category/aws/eks-pod-identity/%20via%20&#64;twitter_username&hashtags=aws,eks,kubernetes,iam"
    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Share on Twitter">
        <svg class="icon icon-twitter"><use xlink:href="#icon-twitter"></use></svg>
    </a>
    <a aria-label="Share on Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://somaz.blog/category/aws/eks-pod-identity/"
    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook">
        <svg class="icon icon-facebook"><use xlink:href="#icon-facebook"></use></svg>
    </a>
</section>

        

  <section class="author">
    <div class="details">
      
        <img class="img-rounded" src="/assets/img/uploads/profile.png" alt="Somaz">
      
      <p class="def">Author</p>
      <h3 class="name">
        <a href="/authors/somaz/">Somaz</a>
      </h3>
      <p class="desc">DevOps engineer focused on cloud infrastructure and automation</p>
      <p>
        
          <a href="https://github.com/somaz94" title="Github">
            <svg><use xlink:href="#icon-github"></use></svg>
          </a>
        
        
        
        
        
        
          <a href="https://www.linkedin.com/in/somaz" title="LinkedIn">
            <svg><use xlink:href="#icon-linkedin"></use></svg>
          </a>
        
        
          <a href="https://somaz.tistory.com" title="Tistory">
            <svg><use xlink:href="#icon-tistory"></use></svg>
          </a>
        
      </p>
    </div>
  </section>

  
  
  
  
  
  
  
  

  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Somaz",
      
      "image": "/assets/img/uploads/profile.png",
      
      "jobTitle": "DevOps Engineer",
      "url": "https://somaz.blog/authors/somaz/",
      "sameAs": [
        "https://github.com/somaz94","https://www.linkedin.com/in/somaz","https://{{ author.tistory_username }}.tistory.com"
      ]
  }
  </script>


        

<section class="comments">
    <h3>Comments</h3>
    <div id="disqus_thread"></div>
</section>
<script type="text/javascript">
    var disqus_loaded = false;

    function load_disqus()
    {
        disqus_loaded = true;
        var disqus_shortname = 'https-somaz94-github-io';
        var disqus_title = '';
        var disqus_url = '/category/aws/eks-pod-identity/';
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        var ldr = document.getElementById('disqus_loader');
    };
    window.onscroll = function(e) {
        if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 800)) {
            //hit bottom of page
            if (disqus_loaded==false)
                load_disqus()
        }
    };
</script>



        <footer>
    <p>
      
        <a href="https://github.com/somaz94" title="Github">
          <svg><use xlink:href="#icon-github"></use></svg>
        </a>
      
      
        <a href="https://www.facebook.com/facebook_username" title="Facebook">
          <svg><use xlink:href="#icon-facebook"></use></svg>
        </a>
      
      
        <a href="https://twitter.com/twitter_username" title="Twitter">
          <svg><use xlink:href="#icon-twitter"></use></svg>
        </a>
      
      
        <a href="https://medium.com/@medium_username" title="Medium">
          <svg><use xlink:href="#icon-medium"></use></svg>
        </a>
      
      
        <a href="https://www.instagram.com/instagram_username" title="Instagram">
          <svg><use xlink:href="#icon-instagram"></use></svg>
        </a>
      
      
        <a href="https://www.linkedin.com/in/somaz" title="LinkedIn">
          <svg><use xlink:href="#icon-linkedin"></use></svg>
        </a>
      
      
        <a href="https://somaz.tistory.com" title="Tistory">
          <svg><use xlink:href="#icon-tistory"></use></svg>
        </a>
      
    </p>

    <ul>
  
    
      <li>
        <a href="https://somaz.blog/">Home</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/about">About</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/category">Category</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/contact">Contact</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/feed.xml">Feed</a>
      </li>
    
  
</ul>


    <p>
      <a href="https://somaz.blog/sitemap.xml" title="sitemap">Sitemap</a> |
      <a href="https://somaz.blog/privacy-policy" title="Privacy Policy">Privacy Policy</a>
    </p>

    <p>
      <span>Somaz Tech Blog</span> <svg class="love"><use xlink:href="#icon-heart"></use></svg>
    </p>
</footer>










<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "somaz",
  "description": "DevOps engineer's tech blog.",
  "url": "https://somaz.blog/",
  "logo": {
      "@type": "ImageObject",
      "url": "https://somaz.blog/assets/img/icons/mediumtile.png",
      "width": "600",
      "height": "315"
  },
  "sameAs": [
    "https://github.com/somaz94","https://www.facebook.com/facebook_username","https://twitter.com/twitter_username","https://medium.com/@medium_username","https://www.instagram.com/instagram_username","https://www.linkedin.com/in/somaz","https://{{ site.tistory_username }}.tistory.com"
  ]
}
</script>

<!-- Include the script that allows Netlify CMS login -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<!-- Include the website scripts -->
<script src="/assets/js/scripts.min.js"></script>

<!-- Include Google Analytics script -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXX-X"></script>
<script>
  var host = window.location.hostname;
  if (host != 'localhost') {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-XXXXXXXX-X');
  }
</script>
  


<!-- Include extra scripts -->



        

        
        
        
        
        
        
        
        
        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "BlogPosting",
            "name": "Understanding Amazon EKS Pod Identity Addon",
            "headline": "A deep dive into EKS Pod Identity and comparison with IRSA",
            "description": "Learn about Amazon EKS Pod Identity, its features, and how it differs from IRSA",
            "image": "https://res.cloudinary.com/dkcm26aem/image/upload/v1767929916/eks-pod-identity-1_b2jj20.png",
            "url": "https://somaz.blog/category/aws/eks-pod-identity/",
            "articleBody": "



Overview


  This post explores EKS Pod Identity Addon, a new feature released by AWS in December 2023 for managing IAM credentials in EKS clusters.





  What is EKS Pod Identity?
  
    Manages credentials for applications similar to EC2 instance profiles
    Provides secure credentials through EKS Auth API and agent pods
    Integrates with Kubernetes API server via Pod Identity Webhook
    Simplifies AWS permissions management for Kubernetes identities
  




How It Works

Service Account and IAM Role Connection


  Key Components
  
    Links Kubernetes service accounts with IAM roles
    Defines AWS resource permissions in IAM roles
    Pod Identity Webhook issues web ID tokens
    Uses STS AssumeRoleWithWebIdentity for temporary credentials
  




Advantages


  Enhanced Security
  
    Implements least privilege principle with per-pod IAM roles
    Reduces credential exposure risk
    Simplifies credential management with AWS SDK
    Enables fine-grained access control
  




Implementation Guide

1. EKS Cluster Setup

  Enable PodIdentity Webhook when creating an EKS cluster
  To use IRSA, connect the OIDC provider to a cluster


2. Create OIDC provider







3. Service Account Configuration
apiVersion: v1
kind: ServiceAccount
metadata:
  name: my-service-account
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::&amp;lt;account-id&amp;gt;:role/&amp;lt;role-name&amp;gt;


4. Pod Configuration
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
spec:
  template:
    spec:
      serviceAccountName: my-service-account


5. Add IAM Role

  Associate IAM policies for AWS resource access to roles




IRSA vs Pod Identity Comparison


  Feature Comparison Table
  
    OIDC Provider:
      
        IRSA: Required for each cluster
        Pod Identity: Not required
      
    
    Role Management:
      
        IRSA: Cluster-specific roles
        Pod Identity: Shared roles across clusters
      
    
    Setup Complexity:
      
        IRSA: Moderate (OIDC setup per cluster)
        Pod Identity: Simpler (Centralized management)
      
    
  




IRSA


  
    sequenceDiagram
      participant Pod
      participant ServiceAccount
      participant TokenVolume
      participant OIDC_Provider as OIDC Provider
      participant STS
      participant AWS_Services as AWS Services

      Pod-&amp;gt;&amp;gt;ServiceAccount: 1. Uses service account
      ServiceAccount-&amp;gt;&amp;gt;TokenVolume: 2. Mounts JWT token
      TokenVolume-&amp;gt;&amp;gt;OIDC_Provider: 3. Presents JWT token
      OIDC_Provider-&amp;gt;&amp;gt;STS: 4. Validates token
      STS-&amp;gt;&amp;gt;OIDC_Provider: 5. Returns temporary credentials
      OIDC_Provider-&amp;gt;&amp;gt;Pod: 6. Makes API calls with temp credentials
  





  Role by Cluster
  
    In IRSA, each EKS cluster must create an OpenID Connect (OIDC) ID provider and associate with the cluster.
    The IAM role is associated with a specific service account in the cluster-specific Kubernetes Namespace.
  
  Detailed Role Management
  
    Roles are associated with OIDC issuer URLs that are unique to each cluster, so you must create a separate IAM role for each cluster or service account.
    For example, an ARN in an IAM role contains an OIDC provider URL associated with the cluster.
  
  Role Scope
  
    eks.amazonaws.com/role-arn: arn:aws:iam::(account-id):role/(role-name)
    Each IAM role is scoped as the OIDC provider in the cluster, making it difficult to share roles across clusters
    If you have multiple clusters, you must create a separate IAM role for each cluster and associate it with the service account for that cluster.
  



Pod Identity

  
    sequenceDiagram
      participant Pod
      participant Pod_Identity_Agent as Pod Identity Agent
      participant OIDC_Provider as OIDC Provider
      participant STS
      participant AWS_Services as AWS Services

      Pod-&amp;gt;&amp;gt;Pod_Identity_Agent: 1. Requests credentials
      Note right of Pod_Identity_Agent: Uses pods.eks.amazonaws.com audience
      Pod_Identity_Agent-&amp;gt;&amp;gt;OIDC_Provider: 2. Gets JWT token
      OIDC_Provider-&amp;gt;&amp;gt;STS: 3. Exchanges token for credentials
      Note right of STS: Validates pod identity claims
      STS--&amp;gt;&amp;gt;OIDC_Provider: 4. Returns temporary credentials
      OIDC_Provider--&amp;gt;&amp;gt;Pod_Identity_Agent: 5. Delivers credentials via IMDS endpoint
      Pod_Identity_Agent-&amp;gt;&amp;gt;AWS_Services: 6. Makes API calls with temp credentials
  




  Key Features
  
    Sharing Roles Across Clusters
    Pod ID abstracts the need for cluster-specific OIDC providers
    A single IAM role that can be shared across multiple EKS clusters is available.
  
  Simplified role management
  
    With Pod ID, roles are not linked to a particular OIDC provider or cluster.
    ID mapping is handled centrally, and Kubernetes service accounts across the cluster can use the same IAM role.
  
  How it works
  
    The Pod ID agent add-on serves as a bridge between the Kubernetes Pod and AWS Identification and Access Management (IAM).
    Pod dynamically takes on the role of IAM without an OIDC provider. This allows for smooth expansion and easier management of access policies.
  




IMDSv2 Integration

  Instance Metadata Service Version 2 (IMDSv2) is a secure version of the AWS EC2 instance’s access to metadata.



  IMDSv2 Features
  
    Token-based session authentication
    Enhanced security against SSRF attacks
    Network hop limits
    Required header validation
  


Example IMDSv2 Usage







Migration from IRSA to Pod Identity


  Migration Steps
  
    Install the EKS Pod Identity Agent on your existing clusters
    Create Pod Identity Associations between service accounts and IAM roles
    Gradually transition workloads to use Pod Identity instead of IRSA
    Update service account annotations to match the new format
  


Example Pod Identity Association
apiVersion: eks.amazonaws.com/v1beta1
kind: PodIdentityAssociation
metadata:
  name: my-app-association
  namespace: default
spec:
  serviceAccount: my-service-account
  roleArn: arn:aws:iam::&amp;lt;account-id&amp;gt;:role/EKSPodIdentityRole


Compatibility with Existing Workloads
You can run both IRSA and Pod Identity in the same cluster during migration:







Troubleshooting Pod Identity


  Common Issues
  
    Credentials not available: Check Pod Identity Agent logs
    Permission denied: Verify IAM role has appropriate policies
    Association not working: Confirm Pod Identity Association exists
    Agent pods failing: Check for networking or RBAC issues
  


Debugging Commands
# Check Pod Identity Agent status
kubectl get pods -n kube-system | grep pod-identity-agent

# View Agent logs
kubectl logs -n kube-system pod-identity-agent-xxxxx

# Verify service account configuration
kubectl describe serviceaccount my-service-account -n default

# Test AWS credentials from within a pod
kubectl exec -it my-pod -- aws sts get-caller-identity






References

  AWS EKS Pod Identity Documentation
  AWS Blog: EKS Pod Identity
  IMDSv2 Documentation

",
            "wordcount": "1092",
            "inLanguage": "en",
            "dateCreated": "2025-05-07/",
            "datePublished": "2025-05-07/",
            "dateModified": "2025-05-07/",
            "author": {
                "@type": "Person",
                "name": "Somaz",
                
                "image": "/assets/img/uploads/profile.png",
                
                "jobTitle": "DevOps Engineer",
                "url": "https://somaz.blog/authors/somaz/",
                "sameAs": [
                    "https://github.com/somaz94","https://www.linkedin.com/in/somaz"
                ]
            },
            "publisher": {
                "@type": "Organization",
                "name": "somaz",
                "url": "https://somaz.blog/",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://somaz.blog/assets/img/blog-image.png",
                    "width": "600",
                    "height": "315"
                }
            },
            "mainEntityOfPage": "True",
            "genre": "AWS",
            "articleSection": "AWS",
            "keywords": ["aws","eks","kubernetes","iam"]
        }
        </script>
    </body>
</html>
