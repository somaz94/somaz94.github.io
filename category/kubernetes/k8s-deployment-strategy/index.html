<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    

    
    

    
    

    
    

    <!-- ✅ Google Tag Manager 추가 -->
    <script>
        (function(w,d,s,l,i){
            w[l]=w[l]||[];
            w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
            var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
            j.async=true;
            j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
            f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MBP83N4Q');
    </script>
      <!-- ✅ End Google Tag Manager -->

    <!-- Mermaid.js 직접 로드 -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

    <title>Kubernetes Deployment Strategies | somaz</title>
    <meta name="description" content="A comprehensive guide to different deployment strategies in Kubernetes including RollingUpdate, Recreate, Blue/Green, and Canary">
    
        <meta name="keywords" content="kubernetes, deployment, strategies, rolling-update, canary, blue-green">
    

    <!-- Social: Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Kubernetes Deployment Strategies | somaz">
    <meta name="twitter:description" content="A comprehensive guide to different deployment strategies in Kubernetes including RollingUpdate, Recreate, Blue/Green, and Canary">

    
        <meta property="twitter:image" content="https://res.cloudinary.com/dkcm26aem/image/upload/v1767840796/kubernetes-deployment-stragtegy-1_x9lqgk.png">
    
    
    
        <meta name="twitter:site" content="@twitter_username">
    

    <!-- Social: Facebook / Open Graph -->
    <meta property="og:url" content="https://somaz.blog/category/kubernetes/k8s-deployment-strategy/">
    <meta property="og:title" content="Kubernetes Deployment Strategies | somaz">
    <meta property="og:image" content="https://res.cloudinary.com/dkcm26aem/image/upload/v1767840796/kubernetes-deployment-stragtegy-1_x9lqgk.png">
    <meta property="og:description" content="A comprehensive guide to different deployment strategies in Kubernetes including RollingUpdate, Recreate, Blue/Green, and Canary">
    <meta property="og:site_name" content="Somaz Tech Blog">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/assets/img/icons/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/icons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/icons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/icons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/icons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/icons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/icons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/icons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/icons/apple-touch-icon-152x152.png" />

    <!-- Windows 8 Tile Icons -->
    <meta name="application-name" content="somaz">
    <meta name="msapplication-TileColor" content="#141414">
    <meta name="msapplication-square70x70logo" content="smalltile.png" />
    <meta name="msapplication-square150x150logo" content="mediumtile.png" />
    <meta name="msapplication-wide310x150logo" content="widetile.png" />
    <meta name="msapplication-square310x310logo" content="largetile.png" />
    
    <!-- Android Lolipop Theme Color -->
    <meta name="theme-color" content="#141414">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="canonical" href="https://somaz.blog/category/kubernetes/k8s-deployment-strategy/">
    <link rel="alternate" type="application/rss+xml" title="Somaz Tech Blog" href="https://somaz.blog/feed.xml" />

    <!-- Include extra styles -->
    

    <!-- JavaScript enabled/disabled -->
    <script>
        document.querySelector('html').classList.remove('no-js');
    </script>

    <!-- Google Adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8725590811736154"
        crossorigin="anonymous"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/variable/woff2/SUIT-Variable.css" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:wght@400;500;700&display=swap" rel="stylesheet"> -->

    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />

</head>
<!-- ✅ Google Tag Manager (noscript) -->
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MBP83N4Q"
            height="0" width="0" style="display:none;visibility:hidden">
    </iframe>
</noscript>
<!-- ✅ End Google Tag Manager (noscript) -->
    <body class="has-push-menu">
        





        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" display="none" version="1.1"><defs><symbol id="icon-menu" viewBox="0 0 1024 1024"><path class="path1" d="M128 213.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 725.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 469.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5z"/></symbol><symbol id="icon-search" viewBox="0 0 951 1024"><path class="path1" d="M658.286 475.429q0-105.714-75.143-180.857t-180.857-75.143-180.857 75.143-75.143 180.857 75.143 180.857 180.857 75.143 180.857-75.143 75.143-180.857zM950.857 950.857q0 29.714-21.714 51.429t-51.429 21.714q-30.857 0-51.429-21.714l-196-195.429q-102.286 70.857-228 70.857-81.714 0-156.286-31.714t-128.571-85.714-85.714-128.571-31.714-156.286 31.714-156.286 85.714-128.571 128.571-85.714 156.286-31.714 156.286 31.714 128.571 85.714 85.714 128.571 31.714 156.286q0 125.714-70.857 228l196 196q21.143 21.143 21.143 51.429z"/></symbol><symbol id="icon-close" viewBox="0 0 1000 1000"><path d="M969.8,870.3c27,27.7,27,71.8,0,99.1C955.7,983,937.9,990,920,990c-17.9,0-35.7-7-49.7-20.7L500,599L129.6,969.4C115.6,983,97.8,990,79.9,990s-35.7-7-49.7-20.7c-27-27.3-27-71.4,0-99.1L400.9,500L30.3,129.3c-27-27.3-27-71.4,0-99.1c27.3-27,71.8-27,99.4,0L500,400.9L870.4,30.2c27.7-27,71.8-27,99.4,0c27,27.7,27,71.8,0,99.1L599.1,500L969.8,870.3z"/></symbol><symbol id="icon-twitter" viewBox="0 0 951 1024"><path class="path1" d="M925.714 233.143q-38.286 56-92.571 95.429 0.571 8 0.571 24 0 74.286-21.714 148.286t-66 142-105.429 120.286-147.429 83.429-184.571 31.143q-154.857 0-283.429-82.857 20 2.286 44.571 2.286 128.571 0 229.143-78.857-60-1.143-107.429-36.857t-65.143-91.143q18.857 2.857 34.857 2.857 24.571 0 48.571-6.286-64-13.143-106-63.714t-42-117.429v-2.286q38.857 21.714 83.429 23.429-37.714-25.143-60-65.714t-22.286-88q0-50.286 25.143-93.143 69.143 85.143 168.286 136.286t212.286 56.857q-4.571-21.714-4.571-42.286 0-76.571 54-130.571t130.571-54q80 0 134.857 58.286 62.286-12 117.143-44.571-21.143 65.714-81.143 101.714 53.143-5.714 106.286-28.571z"/></symbol><symbol id="icon-facebook" viewBox="0 0 585 1024"><path class="path1" d="M548 6.857v150.857h-89.714q-49.143 0-66.286 20.571t-17.143 61.714v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571q0-106.286 59.429-164.857t158.286-58.571q84 0 130.286 6.857z"/></symbol><symbol id="icon-clock" viewBox="0 0 1000 1000"><path d="M500,10C229.8,10,10,229.8,10,500c0,270.2,219.8,490,490,490c270.2,0,490-219.8,490-490C990,229.8,770.2,10,500,10z M500,910.2c-226.2,0-410.2-184-410.2-410.2c0-226.2,184-410.2,410.2-410.2c226.2,0,410.2,184,410.2,410.2C910.2,726.1,726.2,910.2,500,910.2z M753.1,374c8.2,11.9,5.2,28.1-6.6,36.3L509.9,573.7c-4.4,3.1-9.6,4.6-14.8,4.6c-4.1,0-8.3-1-12.1-3c-8.6-4.5-14-13.4-14-23.1V202.5c0-14.4,11.7-26.1,26.1-26.1c14.4,0,26.1,11.7,26.1,26.1v300l195.6-135.1C728.7,359.2,744.9,362.1,753.1,374z"/></symbol><symbol id="icon-calendar" viewBox="0 0 1000 1000"><path d="M920,500v420H80V500H920 M990,430H10v490c0,38.7,31.3,70,70,70h840c38.7,0,70-31.3,70-70V430L990,430z"/><path d="M850,80v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80H360v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80C72.8,80,10,142.7,10,220v140h980V220C990,142.7,927.2,80,850,80z"/><path d="M255,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C290,25.8,274.3,10,255,10z"/><path d="M745,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C780,25.8,764.3,10,745,10z"/></symbol><symbol id="icon-github" viewBox="0 0 12 14"><path d="M6 1q1.633 0 3.012 0.805t2.184 2.184 0.805 3.012q0 1.961-1.145 3.527t-2.957 2.168q-0.211 0.039-0.312-0.055t-0.102-0.234q0-0.023 0.004-0.598t0.004-1.051q0-0.758-0.406-1.109 0.445-0.047 0.801-0.141t0.734-0.305 0.633-0.52 0.414-0.82 0.16-1.176q0-0.93-0.617-1.609 0.289-0.711-0.062-1.594-0.219-0.070-0.633 0.086t-0.719 0.344l-0.297 0.187q-0.727-0.203-1.5-0.203t-1.5 0.203q-0.125-0.086-0.332-0.211t-0.652-0.301-0.664-0.105q-0.352 0.883-0.062 1.594-0.617 0.68-0.617 1.609 0 0.664 0.16 1.172t0.41 0.82 0.629 0.523 0.734 0.305 0.801 0.141q-0.305 0.281-0.383 0.805-0.164 0.078-0.352 0.117t-0.445 0.039-0.512-0.168-0.434-0.488q-0.148-0.25-0.379-0.406t-0.387-0.187l-0.156-0.023q-0.164 0-0.227 0.035t-0.039 0.090 0.070 0.109 0.102 0.094l0.055 0.039q0.172 0.078 0.34 0.297t0.246 0.398l0.078 0.18q0.102 0.297 0.344 0.48t0.523 0.234 0.543 0.055 0.434-0.027l0.18-0.031q0 0.297 0.004 0.691t0.004 0.426q0 0.141-0.102 0.234t-0.312 0.055q-1.812-0.602-2.957-2.168t-1.145-3.527q0-1.633 0.805-3.012t2.184-2.184 3.012-0.805zM2.273 9.617q0.023-0.055-0.055-0.094-0.078-0.023-0.102 0.016-0.023 0.055 0.055 0.094 0.070 0.047 0.102-0.016zM2.516 9.883q0.055-0.039-0.016-0.125-0.078-0.070-0.125-0.023-0.055 0.039 0.016 0.125 0.078 0.078 0.125 0.023zM2.75 10.234q0.070-0.055 0-0.148-0.062-0.102-0.133-0.047-0.070 0.039 0 0.141t0.133 0.055zM3.078 10.562q0.062-0.062-0.031-0.148-0.094-0.094-0.156-0.023-0.070 0.062 0.031 0.148 0.094 0.094 0.156 0.023zM3.523 10.758q0.023-0.086-0.102-0.125-0.117-0.031-0.148 0.055t0.102 0.117q0.117 0.047 0.148-0.047zM4.016 10.797q0-0.102-0.133-0.086-0.125 0-0.125 0.086 0 0.102 0.133 0.086 0.125 0 0.125-0.086zM4.469 10.719q-0.016-0.086-0.141-0.070-0.125 0.023-0.109 0.117t0.141 0.062 0.109-0.109z"></path></symbol><symbol id="icon-medium" viewBox="0 0 1000 1000"><path d="M336.5,240.2v641.5c0,9.1-2.3,16.9-6.8,23.2s-11.2,9.6-20,9.6c-6.2,0-12.2-1.5-18-4.4L37.3,782.7c-7.7-3.6-14.1-9.8-19.4-18.3S10,747.4,10,739V115.5c0-7.3,1.8-13.5,5.5-18.6c3.6-5.1,8.9-7.7,15.9-7.7c5.1,0,13.1,2.7,24.1,8.2l279.5,140C335.9,238.6,336.5,239.5,336.5,240.2L336.5,240.2z M371.5,295.5l292,473.6l-292-145.5V295.5z M990,305.3v576.4c0,9.1-2.6,16.5-7.7,22.1c-5.1,5.7-12,8.5-20.8,8.5s-17.3-2.4-25.7-7.1L694.7,784.9L990,305.3z M988.4,239.7c0,1.1-46.8,77.6-140.3,229.4C754.6,621,699.8,709.8,683.8,735.7L470.5,389l177.2-288.2c6.2-10.2,15.7-15.3,28.4-15.3c5.1,0,9.8,1.1,14.2,3.3l295.9,147.7C987.6,237.1,988.4,238.2,988.4,239.7L988.4,239.7z"/></symbol><symbol id="icon-instagram" viewBox="0 0 489.84 489.84"><path d="M249.62,50.46c65.4,0,73.14.25,99,1.43C372.47,53,385.44,57,394.07,60.32a75.88,75.88,0,0,1,28.16,18.32,75.88,75.88,0,0,1,18.32,28.16c3.35,8.63,7.34,21.6,8.43,45.48,1.18,25.83,1.43,33.57,1.43,99s-0.25,73.14-1.43,99c-1.09,23.88-5.08,36.85-8.43,45.48a81.11,81.11,0,0,1-46.48,46.48c-8.63,3.35-21.6,7.34-45.48,8.43-25.82,1.18-33.57,1.43-99,1.43s-73.15-.25-99-1.43c-23.88-1.09-36.85-5.08-45.48-8.43A75.88,75.88,0,0,1,77,423.86,75.88,75.88,0,0,1,58.69,395.7c-3.35-8.63-7.34-21.6-8.43-45.48-1.18-25.83-1.43-33.57-1.43-99s0.25-73.14,1.43-99c1.09-23.88,5.08-36.85,8.43-45.48A75.88,75.88,0,0,1,77,78.64a75.88,75.88,0,0,1,28.16-18.32c8.63-3.35,21.6-7.34,45.48-8.43,25.83-1.18,33.57-1.43,99-1.43m0-44.13c-66.52,0-74.86.28-101,1.47s-43.87,5.33-59.45,11.38A120.06,120.06,0,0,0,45.81,47.44,120.06,120.06,0,0,0,17.56,90.82C11.5,106.4,7.36,124.2,6.17,150.27s-1.47,34.46-1.47,101,0.28,74.86,1.47,101,5.33,43.87,11.38,59.45a120.06,120.06,0,0,0,28.25,43.38,120.06,120.06,0,0,0,43.38,28.25c15.58,6.05,33.38,10.19,59.45,11.38s34.46,1.47,101,1.47,74.86-.28,101-1.47,43.87-5.33,59.45-11.38a125.24,125.24,0,0,0,71.63-71.63c6.05-15.58,10.19-33.38,11.38-59.45s1.47-34.46,1.47-101-0.28-74.86-1.47-101-5.33-43.87-11.38-59.45a120.06,120.06,0,0,0-28.25-43.38,120.06,120.06,0,0,0-43.38-28.25C394.47,13.13,376.67,9,350.6,7.8s-34.46-1.47-101-1.47h0Z" transform="translate(-4.7 -6.33)" /><path d="M249.62,125.48A125.77,125.77,0,1,0,375.39,251.25,125.77,125.77,0,0,0,249.62,125.48Zm0,207.41a81.64,81.64,0,1,1,81.64-81.64A81.64,81.64,0,0,1,249.62,332.89Z" transform="translate(-4.7 -6.33)"/><circle cx="375.66" cy="114.18" r="29.39" /></symbol><symbol id="icon-linkedin" viewBox="0 0 12 14"><path d="M2.727 4.883v7.742h-2.578v-7.742h2.578zM2.891 2.492q0.008 0.57-0.395 0.953t-1.059 0.383h-0.016q-0.641 0-1.031-0.383t-0.391-0.953q0-0.578 0.402-0.957t1.051-0.379 1.039 0.379 0.398 0.957zM12 8.187v4.437h-2.57v-4.141q0-0.82-0.316-1.285t-0.988-0.465q-0.492 0-0.824 0.27t-0.496 0.668q-0.086 0.234-0.086 0.633v4.32h-2.57q0.016-3.117 0.016-5.055t-0.008-2.313l-0.008-0.375h2.57v1.125h-0.016q0.156-0.25 0.32-0.438t0.441-0.406 0.68-0.34 0.895-0.121q1.336 0 2.148 0.887t0.813 2.598z"></path></symbol><symbol id="icon-heart" viewBox="0 0 34 30"><path d="M17,29.7 L16.4,29.2 C3.5,18.7 0,15 0,9 C0,4 4,0 9,0 C13.1,0 15.4,2.3 17,4.1 C18.6,2.3 20.9,0 25,0 C30,0 34,4 34,9 C34,15 30.5,18.7 17.6,29.2 L17,29.7 Z M9,2 C5.1,2 2,5.1 2,9 C2,14.1 5.2,17.5 17,27.1 C28.8,17.5 32,14.1 32,9 C32,5.1 28.9,2 25,2 C21.5,2 19.6,4.1 18.1,5.8 L17,7.1 L15.9,5.8 C14.4,4.1 12.5,2 9,2 Z" id="Shape"></path></symbol><symbol id="icon-arrow-right" viewBox="0 0 25.452 25.452"><path d="M4.471,24.929v-2.004l12.409-9.788c0.122-0.101,0.195-0.251,0.195-0.411c0-0.156-0.073-0.31-0.195-0.409L4.471,2.526V0.522c0-0.2,0.115-0.384,0.293-0.469c0.18-0.087,0.396-0.066,0.552,0.061l15.47,12.202c0.123,0.1,0.195,0.253,0.195,0.409c0,0.16-0.072,0.311-0.195,0.411L5.316,25.34c-0.155,0.125-0.372,0.147-0.552,0.061C4.586,25.315,4.471,25.13,4.471,24.929z"/></symbol><symbol id="icon-star" viewBox="0 0 48 48"><path fill="currentColor" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"/><path fill="#ffffff" d="M24,11l3.898,7.898l8.703,1.301l-6.301,6.102l1.5,8.699L24,30.898L16.199,35l1.5-8.699l-6.301-6.102  l8.703-1.301L24,11z"/></symbol><symbol id="icon-read" viewBox="0 0 32 32"><path fill="currentColor" d="M29,4H3C1.343,4,0,5.343,0,7v18c0,1.657,1.343,3,3,3h10c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1h10  c1.657,0,3-1.343,3-3V7C32,5.343,30.657,4,29,4z M29,5v20H18.708c-0.618,0-1.236,0.146-1.789,0.422l-0.419,0.21V5H29z M15.5,5  v20.632l-0.419-0.21C14.528,25.146,13.91,25,13.292,25H3V5H15.5z M31,25c0,1.103-0.897,2-2,2H18v1h-4v-1H3c-1.103,0-2-0.897-2-2V7  c0-0.737,0.405-1.375,1-1.722V25c0,0.552,0.448,1,1,1h10.292c0.466,0,0.925,0.108,1.342,0.317l0.919,0.46  c0.141,0.07,0.294,0.106,0.447,0.106c0.153,0,0.306-0.035,0.447-0.106l0.919-0.46C17.783,26.108,18.242,26,18.708,26H29  c0.552,0,1-0.448,1-1V5.278C30.595,5.625,31,6.263,31,7V25z M6,12.5C6,12.224,6.224,12,6.5,12h5c0.276,0,0.5,0.224,0.5,0.5  S11.776,13,11.5,13h-5C6.224,13,6,12.776,6,12.5z M6,14.5C6,14.224,6.224,14,6.5,14h5c0.276,0,0.5,0.224,0.5,0.5S11.776,15,11.5,15  h-5C6.224,15,6,14.776,6,14.5z M6,16.5C6,16.224,6.224,16,6.5,16h5c0.276,0,0.5,0.224,0.5,0.5S11.776,17,11.5,17h-5  C6.224,17,6,16.776,6,16.5z M20,12.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,13,25.5,13h-5  C20.224,13,20,12.776,20,12.5z M20,14.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,15,25.5,15h-5  C20.224,15,20,14.776,20,14.5z M20,16.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,17,25.5,17h-5  C20.224,17,20,16.776,20,16.5z"></path></symbol><symbol id="icon-tistory" viewBox="0 0 24 24"><path d="M4 4h16v3h-6v13h-4V7H4V4z"/></symbol></defs></svg>

        <header class="bar-header">
    <a id="menu" role="button">
        <svg id="open" class="icon-menu"><use xlink:href="#icon-menu"></use></svg>
    </a>
    <h1 class="logo">
        <a href="/">
            
                somaz <span class="version">v3.1.2</span>
            
        </a>
    </h1>
    <a id="search" class="dosearch" role="button">
        <svg class="icon-search"><use xlink:href="#icon-search"></use></svg>
    </a>
    
        <a href="https://github.com/thiagorossener/jekflix-template" class="get-theme" role="button">
            Get this theme!
        </a>
    
</header>

<div id="mask" class="overlay"></div>

<aside class="sidebar" id="sidebar">
    <nav id="navigation">
      <h2>Menu</h2>
      <ul>
  
    
      <li>
        <a href="https://somaz.blog/">Home</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/about">About</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/category">Category</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/contact">Contact</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/feed.xml">Feed</a>
      </li>
    
  
</ul>

    </nav>
</aside>

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search">
        <svg class="icon-remove-sign"><use xlink:href="#icon-close"></use></svg>
        <ul class="search-results search-list"></ul>
    </div>
</div>



        <section class="post two-columns">
            <article role="article" class="post-content">
                <p class="post-info">
                    
                        <svg class="icon-calendar" id="date"><use xlink:href="#icon-calendar"></use></svg>
                        <time class="date" datetime="2025-03-13T00:00:00+00:00">
                            


March 13, 2025

                        </time>
                    
                    <svg id="clock" class="icon-clock"><use xlink:href="#icon-clock"></use></svg>
                    <span>29 min to read</span>
                </p>
                <h1 class="post-title">Kubernetes Deployment Strategies</h1>
                <p class="post-subtitle">Choose the right approach for updating your applications with zero to minimal downtime</p>

                
                    <img src="https://res.cloudinary.com/dkcm26aem/image/upload/v1767840796/kubernetes-deployment-stragtegy-1_x9lqgk.png" alt="Featured image" class="post-cover">
                

                <!-- Pagination links -->



                <!-- Add your table of contents here -->


                <p><br /></p>

<hr />

<h2 id="overview">Overview</h2>

<p><strong>Kubernetes deployment strategies</strong> define how to update Pods or sets of Pods when deploying new application versions or container images. The right deployment strategy helps maintain system stability, minimize downtime, and ensure a smooth transition between versions.</p>

<div class="modern-box">
  <strong>Deployment Strategy Considerations</strong>
  <p>When choosing a deployment strategy, consider these factors:</p>
  <ul>
    <li>Acceptable downtime window</li>
    <li>Application architecture compatibility</li>
    <li>Available resources</li>
    <li>Risk tolerance</li>
    <li>User impact</li>
    <li>Rollback requirements</li>
  </ul>
</div>

<div style="width: 100%; margin: 20px auto;">
  <div class="mermaid">
    graph TD
      A[Application Update Needed] --&gt; B{Downtime Acceptable?}
      B --&gt;|Yes| C[Recreate Strategy]
      B --&gt;|No| D{Testing with Real Users?}
      D --&gt;|Yes| E[Canary Deployment]
      D --&gt;|No| F{Need Instant Rollback?}
      F --&gt;|Yes| G[Blue/Green Deployment]
      F --&gt;|No| H[Rolling Update Deployment]
      
      style C fill:#f9f,stroke:#333,stroke-width:2px
      style E fill:#bbf,stroke:#333,stroke-width:2px
      style G fill:#ffa,stroke:#333,stroke-width:2px
      style H fill:#bfb,stroke:#333,stroke-width:2px
  </div>
</div>

<p><br /><br /><br /></p>

<h2 id="basic-deployment-strategies">Basic Deployment Strategies</h2>

<p><br /></p>

<h3 id="1-rollingupdate-default">1. RollingUpdate (Default)</h3>

<p>The RollingUpdate strategy gradually replaces instances of the previous version with instances of the new version, one by one.</p>

<div style="width: 100%; margin: 20px auto;">
  <div class="mermaid">
    sequenceDiagram
      participant User
      participant Svc as Service
      participant Old as Old Pods
      participant New as New Pods
      
      Note over Old: 3 pods running v1
      User-&gt;&gt;Svc: Traffic routed to old pods
      
      Note over Old,New: Deployment update triggered
      Svc-&gt;&gt;Old: Traffic continues
      
      Note over New: 1 new pod created
      Note over Old: 1 old pod terminated
      Svc-&gt;&gt;Old: Traffic to remaining v1 pods
      Svc-&gt;&gt;New: Traffic to new v2 pod
      
      Note over New: Another new pod created
      Note over Old: Another old pod terminated
      Svc-&gt;&gt;Old: Traffic to remaining v1 pod
      Svc-&gt;&gt;New: Traffic to v2 pods
      
      Note over New: Final new pod created
      Note over Old: Final old pod terminated
      Svc-&gt;&gt;New: All traffic to v2 pods
  </div>
</div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">strategy</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">RollingUpdate</span>
    <span class="na">rollingUpdate</span><span class="pi">:</span>
      <span class="na">maxUnavailable</span><span class="pi">:</span> <span class="m">1</span>  <span class="c1"># Maximum number of pods that can be unavailable during update</span>
      <span class="na">maxSurge</span><span class="pi">:</span> <span class="m">1</span>        <span class="c1"># Maximum number of pods that can be created above desired number</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v2</span>
        <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">8080</span>
</code></pre></div></div>

<h4 id="key-parameters">Key Parameters:</h4>

<ul>
  <li><strong>maxUnavailable</strong>: Maximum number or percentage of pods that can be unavailable during the update</li>
  <li><strong>maxSurge</strong>: Maximum number or percentage of pods that can be created over the desired number during the update</li>
</ul>

<h4 id="benefits">Benefits:</h4>
<ul>
  <li>Minimizes downtime during updates</li>
  <li>Provides continuous service availability</li>
  <li>Allows for gradual rollout of changes</li>
  <li>Built into Kubernetes, no additional tools required</li>
</ul>

<h4 id="limitations">Limitations:</h4>
<ul>
  <li>Both versions run simultaneously during the transition</li>
  <li>May cause issues if versions aren’t backward compatible</li>
  <li>Slower than recreate strategy</li>
  <li>Rollback requires another rolling update</li>
</ul>

<p><br /></p>

<h3 id="2-recreate-strategy">2. Recreate Strategy</h3>

<p>The Recreate strategy terminates all existing pods before creating new ones.</p>

<div style="width: 100%; margin: 20px auto;">
  <div class="mermaid">
    sequenceDiagram
      participant User
      participant Svc as Service
      participant Old as Old Pods (v1)
      participant New as New Pods (v2)
      
      Note over Old: 3 pods running v1
      User-&gt;&gt;Svc: Traffic routed to old pods
      Svc-&gt;&gt;Old: Requests served
      
      Note over Old,New: Deployment update triggered
      Note over Old: All v1 pods terminated
      User-&gt;&gt;Svc: Requests fail (downtime)
      
      Note over New: All v2 pods created
      User-&gt;&gt;Svc: Traffic resumes
      Svc-&gt;&gt;New: Requests served by v2
  </div>
</div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">strategy</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">Recreate</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v2</span>
        <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">8080</span>
</code></pre></div></div>

<h4 id="benefits-1">Benefits:</h4>
<ul>
  <li>Simple implementation</li>
  <li>Ensures clean state deployment</li>
  <li>Useful for applications with database schema changes</li>
  <li>No version overlap during deployment</li>
  <li>Minimal resource usage</li>
</ul>

<h4 id="limitations-1">Limitations:</h4>
<ul>
  <li>Creates downtime between versions</li>
  <li>Not suitable for production applications requiring high availability</li>
  <li>Impacts user experience during updates</li>
</ul>

<p><br /></p>

<h2 id="strategy-comparison">Strategy Comparison</h2>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th style="width: 15%;">Strategy</th>
      <th style="width: 15%;">Downtime</th>
      <th style="width: 15%;">Resource Usage</th>
      <th style="width: 15%;">Complexity</th>
      <th style="width: 15%;">Rollback Speed</th>
      <th style="width: 25%;">Best For</th>
    </tr>
    <tr>
      <td>RollingUpdate</td>
      <td>Minimal</td>
      <td>Normal</td>
      <td>Low</td>
      <td>Gradual</td>
      <td>General-purpose applications with backward compatibility</td>
    </tr>
    <tr>
      <td>Recreate</td>
      <td>Yes</td>
      <td>Minimal</td>
      <td>Very Low</td>
      <td>Immediate</td>
      <td>Development environments, major version changes</td>
    </tr>
    <tr>
      <td>Blue/Green</td>
      <td>None</td>
      <td>Double</td>
      <td>High</td>
      <td>Immediate</td>
      <td>Mission-critical applications requiring zero downtime</td>
    </tr>
    <tr>
      <td>Canary</td>
      <td>None</td>
      <td>Variable</td>
      <td>High</td>
      <td>Simple</td>
      <td>Risk-sensitive applications needing gradual validation</td>
    </tr>
  </table>
</div>

<p><br /></p>

<h2 id="advanced-deployment-strategies">Advanced Deployment Strategies</h2>

<p><br /></p>

<h3 id="1-bluegreen-deployment">1. Blue/Green Deployment</h3>

<p>Blue/Green deployment maintains two identical environments, with only one serving production traffic at a time.</p>

<div style="width: 100%; margin: 20px auto;">
  <div class="mermaid">
    graph TD
      A[User Traffic] --&gt; B[Service]
      
      subgraph "Before Switch"
        B --&gt;|Active| C[Blue Environment<br />Version 1]
        D[Green Environment<br />Version 2]
      end
      
      subgraph "After Switch"
        E[Service] --&gt;|Traffic Switched| G[Green Environment<br />Version 2]
        F[Blue Environment<br />Version 1]
      end
      
      style C fill:#1E88E5,stroke:#0D47A1,color:#FFF
      style G fill:#43A047,stroke:#2E7D32,color:#FFF
  </div>
</div>

<h4 id="implementation-in-kubernetes">Implementation in Kubernetes:</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Blue deployment</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-blue</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
      <span class="na">version</span><span class="pi">:</span> <span class="s">blue</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">version</span><span class="pi">:</span> <span class="s">blue</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v1</span>
        <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">8080</span>
<span class="nn">---</span>
<span class="c1"># Green deployment</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-green</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
      <span class="na">version</span><span class="pi">:</span> <span class="s">green</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">version</span><span class="pi">:</span> <span class="s">green</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v2</span>
        <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">8080</span>
<span class="nn">---</span>
<span class="c1"># Service routing to blue (switch to green during deployment)</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
    <span class="na">version</span><span class="pi">:</span> <span class="s">blue</span>  <span class="c1"># Switch between blue and green</span>
  <span class="na">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">protocol</span><span class="pi">:</span> <span class="s">TCP</span>
      <span class="na">port</span><span class="pi">:</span> <span class="m">80</span>
      <span class="na">targetPort</span><span class="pi">:</span> <span class="m">8080</span>
</code></pre></div></div>

<h4 id="switching-between-environments">Switching Between Environments:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Update service to point to green environment</span>
kubectl patch service my-app <span class="nt">-p</span> <span class="s1">'{"spec":{"selector":{"version":"green"}}}'</span>

<span class="c"># To rollback, point back to blue environment</span>
kubectl patch service my-app <span class="nt">-p</span> <span class="s1">'{"spec":{"selector":{"version":"blue"}}}'</span>
</code></pre></div></div>

<h4 id="benefits-2">Benefits:</h4>
<ul>
  <li>Zero downtime during deployment</li>
  <li>Instant rollback capability</li>
  <li>Complete testing of new version before switching</li>
  <li>Users experience only one version at a time</li>
</ul>

<h4 id="limitations-2">Limitations:</h4>
<ul>
  <li>Requires double the resources</li>
  <li>Needs additional orchestration for database migrations</li>
  <li>More complex setup than native Kubernetes strategies</li>
</ul>

<p><br /></p>

<h3 id="2-canary-deployment">2. Canary Deployment</h3>

<p>Canary deployment routes a small percentage of traffic to the new version for testing before full rollout.</p>

<div style="width: 100%; margin: 20px auto;">
  <div class="mermaid">
    graph LR
      A[User Traffic] --&gt; B[Load Balancer / Ingress]
      B --&gt; |90%| C[Stable Version<br />v1]
      B --&gt; |10%| D[Canary Version<br />v2]
      
      style C fill:#1E88E5,stroke:#0D47A1,color:#FFF
      style D fill:#FB8C00,stroke:#EF6C00,color:#FFF
  </div>
</div>

<h4 id="implementation-options">Implementation Options:</h4>

<h5 id="1-using-kubernetes-services-and-multiple-deployments">1. Using Kubernetes Services and multiple deployments:</h5>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Stable deployment</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-stable</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">9</span>  <span class="c1"># 90% of traffic</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
      <span class="na">track</span><span class="pi">:</span> <span class="s">stable</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">track</span><span class="pi">:</span> <span class="s">stable</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v1</span>
<span class="nn">---</span>
<span class="c1"># Canary deployment</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-canary</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>  <span class="c1"># 10% of traffic</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
      <span class="na">track</span><span class="pi">:</span> <span class="s">canary</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">track</span><span class="pi">:</span> <span class="s">canary</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v2</span>
<span class="nn">---</span>
<span class="c1"># Service routing to both deployments</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>  <span class="c1"># Selects both stable and canary pods</span>
  <span class="na">ports</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">protocol</span><span class="pi">:</span> <span class="s">TCP</span>
      <span class="na">port</span><span class="pi">:</span> <span class="m">80</span>
      <span class="na">targetPort</span><span class="pi">:</span> <span class="m">8080</span>
</code></pre></div></div>

<h5 id="2-using-ingress-for-http-traffic-splitting">2. Using Ingress for HTTP traffic splitting:</h5>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Ingress with canary annotations (NGINX ingress controller)</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-canary</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="na">nginx.ingress.kubernetes.io/canary</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">nginx.ingress.kubernetes.io/canary-weight</span><span class="pi">:</span> <span class="s2">"</span><span class="s">20"</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">myapp.example.com</span>
    <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-canary</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">80</span>
</code></pre></div></div>

<h5 id="3-using-a-service-mesh-like-istio">3. Using a service mesh like Istio:</h5>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.istio.io/v1alpha3</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">VirtualService</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">hosts</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">myapp.example.com</span>
  <span class="na">http</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">route</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">destination</span><span class="pi">:</span>
        <span class="na">host</span><span class="pi">:</span> <span class="s">my-app-stable</span>
        <span class="na">subset</span><span class="pi">:</span> <span class="s">v1</span>
      <span class="na">weight</span><span class="pi">:</span> <span class="m">80</span>
    <span class="pi">-</span> <span class="na">destination</span><span class="pi">:</span>
        <span class="na">host</span><span class="pi">:</span> <span class="s">my-app-canary</span>
        <span class="na">subset</span><span class="pi">:</span> <span class="s">v2</span>
      <span class="na">weight</span><span class="pi">:</span> <span class="m">20</span>
</code></pre></div></div>

<h4 id="canary-implementation-approaches">Canary Implementation Approaches:</h4>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Method</th>
      <th>Pros</th>
      <th>Cons</th>
    </tr>
    <tr>
      <td>Pod ratio adjustment</td>
      <td>
        - Simple to implement<br />
        - Works with any application
      </td>
      <td>
        - Less precise traffic control<br />
        - Limited by pod granularity
      </td>
    </tr>
    <tr>
      <td>Ingress controllers</td>
      <td>
        - More precise percentages<br />
        - HTTP header-based routing
      </td>
      <td>
        - Only works for HTTP/HTTPS<br />
        - Requires specific ingress controller
      </td>
    </tr>
    <tr>
      <td>Service mesh (Istio)</td>
      <td>
        - Fine-grained traffic control<br />
        - Advanced metrics and tracing<br />
        - Multiple routing criteria
      </td>
      <td>
        - Complex to set up<br />
        - Requires service mesh installation<br />
        - Overhead in performance
      </td>
    </tr>
  </table>
</div>

<h4 id="benefits-3">Benefits:</h4>
<ul>
  <li>Minimal risk exposure - issues only affect a small percentage of users</li>
  <li>Real-world testing with actual users</li>
  <li>Gradual rollout allows for performance and stability monitoring</li>
  <li>Controlled exposure of new features</li>
</ul>

<h4 id="limitations-3">Limitations:</h4>
<ul>
  <li>More complex to set up than basic strategies</li>
  <li>Requires additional traffic management tools or service mesh</li>
  <li>Monitoring overhead to detect issues</li>
  <li>May require coordinated database schema changes</li>
</ul>

<p><br /></p>

<h2 id="deployment-health-checks">Deployment Health Checks</h2>

<p>Kubernetes uses probes to determine the health and readiness of your applications, which are critical for successful deployments.</p>

<p><br /></p>

<h3 id="1-readiness-probe">1. Readiness Probe</h3>

<p>Indicates when a pod is ready to accept traffic. During rolling updates, new pods won’t receive traffic until they pass readiness checks.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">spec</span><span class="pi">:</span>
  <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
    <span class="na">readinessProbe</span><span class="pi">:</span>
      <span class="na">httpGet</span><span class="pi">:</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/health</span>
        <span class="na">port</span><span class="pi">:</span> <span class="m">8080</span>
      <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="m">5</span>
      <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">10</span>
      <span class="na">timeoutSeconds</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">successThreshold</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">failureThreshold</span><span class="pi">:</span> <span class="m">3</span>
</code></pre></div></div>

<h4 id="available-probe-types">Available Probe Types:</h4>

<ul>
  <li><strong>HTTP GET</strong>: Performs an HTTP GET request</li>
  <li><strong>TCP Socket</strong>: Tries to establish a TCP connection</li>
  <li><strong>Exec</strong>: Executes a command in the container</li>
</ul>

<p><br /></p>

<h3 id="2-liveness-probe">2. Liveness Probe</h3>

<p>Detects when a pod enters an unhealthy state and needs to be restarted.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">spec</span><span class="pi">:</span>
  <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
    <span class="na">livenessProbe</span><span class="pi">:</span>
      <span class="na">httpGet</span><span class="pi">:</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/health</span>
        <span class="na">port</span><span class="pi">:</span> <span class="m">8080</span>
      <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="m">15</span>
      <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">20</span>
      <span class="na">timeoutSeconds</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">successThreshold</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">failureThreshold</span><span class="pi">:</span> <span class="m">3</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="3-startup-probe">3. Startup Probe</h3>

<p>Indicates when an application has started successfully, providing additional time for slow-starting containers.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">spec</span><span class="pi">:</span>
  <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
    <span class="na">startupProbe</span><span class="pi">:</span>
      <span class="na">httpGet</span><span class="pi">:</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/health</span>
        <span class="na">port</span><span class="pi">:</span> <span class="m">8080</span>
      <span class="na">failureThreshold</span><span class="pi">:</span> <span class="m">30</span>
      <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">10</span>
</code></pre></div></div>

<div class="quote-box">
  <strong>Critical Probe Parameters:</strong>
  <ul>
    <li><strong>initialDelaySeconds</strong>: Time to wait before first probe</li>
    <li><strong>periodSeconds</strong>: How often to perform the probe</li>
    <li><strong>timeoutSeconds</strong>: Probe timeout period</li>
    <li><strong>successThreshold</strong>: Minimum consecutive successes to consider probe successful</li>
    <li><strong>failureThreshold</strong>: Number of failures before giving up</li>
  </ul>
  <p>Incorrect probe configuration can cause unnecessary restarts or prevent successful deployments!</p>
</div>

<p><br /><br /><br /></p>

<h2 id="advanced-configuration-and-tools">Advanced Configuration and Tools</h2>

<p><br /></p>

<h3 id="1-progressive-delivery-with-argo-rollouts">1. Progressive Delivery with Argo Rollouts</h3>

<p>Argo Rollouts extends Kubernetes with advanced deployment strategies.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">argoproj.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Rollout</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-rollout</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">5</span>
  <span class="na">strategy</span><span class="pi">:</span>
    <span class="na">canary</span><span class="pi">:</span>
      <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">setWeight</span><span class="pi">:</span> <span class="m">20</span>
      <span class="pi">-</span> <span class="na">pause</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">duration</span><span class="pi">:</span> <span class="nv">1h</span><span class="pi">}</span>
      <span class="pi">-</span> <span class="na">setWeight</span><span class="pi">:</span> <span class="m">40</span>
      <span class="pi">-</span> <span class="na">pause</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">duration</span><span class="pi">:</span> <span class="nv">1h</span><span class="pi">}</span>
      <span class="pi">-</span> <span class="na">setWeight</span><span class="pi">:</span> <span class="m">60</span>
      <span class="pi">-</span> <span class="na">pause</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">duration</span><span class="pi">:</span> <span class="nv">1h</span><span class="pi">}</span>
      <span class="pi">-</span> <span class="na">setWeight</span><span class="pi">:</span> <span class="m">80</span>
      <span class="pi">-</span> <span class="na">pause</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">duration</span><span class="pi">:</span> <span class="nv">1h</span><span class="pi">}</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v2</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="2-advanced-ab-testing-configuration">2. Advanced A/B Testing Configuration</h3>

<p>A/B testing allows directing specific users to different versions based on criteria.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="na">nginx.ingress.kubernetes.io/canary</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">nginx.ingress.kubernetes.io/canary-by-header</span><span class="pi">:</span> <span class="s2">"</span><span class="s">User-Country"</span>
    <span class="na">nginx.ingress.kubernetes.io/canary-by-header-value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">US"</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">myapp.example.com</span>
    <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-experiment</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">80</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="3-deployment-protection-with-pod-disruption-budget-pdb">3. Deployment Protection with Pod Disruption Budget (PDB)</h3>

<p>PDBs ensure minimum available replicas during voluntary disruptions like deployments.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">policy/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">PodDisruptionBudget</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-pdb</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">minAvailable</span><span class="pi">:</span> <span class="m">2</span>  <span class="c1"># or use maxUnavailable: 1</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="common-pitfalls-and-best-practices">Common Pitfalls and Best Practices</h2>

<p><br /></p>

<h3 id="common-issues-to-avoid">Common Issues to Avoid</h3>

<div class="info-box info-box-warning-not-check">
  <strong>Deployment Pitfalls:</strong>
  <ul>
    <li><strong>Resource constraints</strong>: Insufficient CPU/memory requests or limits</li>
    <li><strong>Probe misconfiguration</strong>: Aggressive timeouts or inappropriate health checks</li>
    <li><strong>Image issues</strong>: Using 'latest' tag or unreliable registries</li>
    <li><strong>Database schema changes</strong>: Not planning for backward compatibility</li>
    <li><strong>No rollback plan</strong>: Not preserving revision history</li>
    <li><strong>Insufficient monitoring</strong>: Inability to detect deployment issues</li>
    <li><strong>Network policy issues</strong>: Blocking required communication paths</li>
    <li><strong>Security context misconfigurations</strong>: Running containers with excessive privileges</li>
    <li><strong>Volume mount issues</strong>: Incorrect persistent volume configurations</li>
  </ul>
</div>

<p><br /></p>

<h3 id="debugging-failed-deployments">Debugging Failed Deployments</h3>

<p>When deployments fail, follow this systematic troubleshooting approach:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check deployment status and events</span>
kubectl describe deployment my-app

<span class="c"># View pod details and events</span>
kubectl describe pod &lt;pod-name&gt;

<span class="c"># Check pod logs</span>
kubectl logs &lt;pod-name&gt; <span class="nt">--previous</span>  <span class="c"># For crashed containers</span>
kubectl logs &lt;pod-name&gt; <span class="nt">-c</span> &lt;container-name&gt;  <span class="c"># For multi-container pods</span>

<span class="c"># Check resource availability</span>
kubectl top nodes
kubectl top pods

<span class="c"># Verify service endpoints</span>
kubectl describe service my-app
kubectl get endpoints my-app

<span class="c"># Check for network policy restrictions</span>
kubectl describe networkpolicy
</code></pre></div></div>

<h4 id="common-error-messages-and-solutions">Common Error Messages and Solutions:</h4>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th style="width: 30%;">Error Message</th>
      <th style="width: 35%;">Cause</th>
      <th style="width: 35%;">Solution</th>
    </tr>
    <tr>
      <td>ImagePullBackOff</td>
      <td>Cannot pull container image</td>
      <td>
        - Check image name and tag<br />
        - Verify registry credentials<br />
        - Ensure image exists in registry
      </td>
    </tr>
    <tr>
      <td>CrashLoopBackOff</td>
      <td>Container keeps crashing</td>
      <td>
        - Check application logs<br />
        - Verify resource limits<br />
        - Review startup probe configuration
      </td>
    </tr>
    <tr>
      <td>Insufficient resources</td>
      <td>Not enough CPU/memory</td>
      <td>
        - Adjust resource requests<br />
        - Scale cluster nodes<br />
        - Optimize application resources
      </td>
    </tr>
    <tr>
      <td>Readiness probe failed</td>
      <td>Health check failing</td>
      <td>
        - Verify health endpoint<br />
        - Adjust probe timeouts<br />
        - Check application startup time
      </td>
    </tr>
  </table>
</div>

<p><br /></p>

<h3 id="best-practices-for-successful-deployments">Best Practices for Successful Deployments</h3>

<div class="info-box info-box-success-not-check">
  <strong>Deployment Best Practices:</strong>
  <ul>
    <li><strong>Version control</strong>: Use specific immutable image tags, never 'latest'</li>
    <li><strong>Proper health checks</strong>: Implement meaningful readiness/liveness probes</li>
    <li><strong>Resource planning</strong>: Set appropriate CPU and memory requests/limits</li>
    <li><strong>Automated testing</strong>: Run thorough tests before deployment</li>
    <li><strong>Monitoring</strong>: Implement metrics for deployment success rates and performance</li>
    <li><strong>Rollback readiness</strong>: Maintain revision history and test rollback procedures</li>
    <li><strong>Documentation</strong>: Document deployment procedures, dependencies, and requirements</li>
    <li><strong>Small, frequent updates</strong>: Prefer smaller, incremental changes over large updates</li>
    <li><strong>Environment parity</strong>: Keep development, staging, and production environments consistent</li>
    <li><strong>Security scanning</strong>: Scan container images for vulnerabilities before deployment</li>
    <li><strong>Backup strategy</strong>: Ensure data backup before major deployments</li>
  </ul>
</div>

<h4 id="deployment-checklist">Deployment Checklist</h4>

<p>Before deploying to production, ensure you’ve completed this checklist:</p>

<div class="modern-box">
  <strong>Pre-Deployment Checklist</strong>
  
  <strong>Code &amp; Image Preparation</strong>
  <ul>
    <li>Code reviewed and approved</li>
    <li>All tests passing (unit, integration, e2e)</li>
    <li>Container image built with specific version tag</li>
    <li>Image scanned for security vulnerabilities</li>
    <li>Image pushed to secure registry</li>
  </ul>
  
  <strong>Configuration &amp; Environment</strong>
  <ul>
    <li>Environment variables configured</li>
    <li>Secrets and ConfigMaps updated</li>
    <li>Resource requests and limits defined</li>
    <li>Health check endpoints tested</li>
    <li>Database migrations planned (if needed)</li>
  </ul>
  
  <strong>Security &amp; Compliance</strong>
  <ul>
    <li>Security context configured appropriately</li>
    <li>Network policies reviewed</li>
    <li>RBAC permissions verified</li>
    <li>Compliance requirements met</li>
  </ul>
  
  <strong>Monitoring &amp; Observability</strong>
  <ul>
    <li>Metrics and logging configured</li>
    <li>Alerting rules defined</li>
    <li>Dashboard updated for new version</li>
    <li>SLI/SLO targets defined</li>
  </ul>
  
  <strong>Rollback &amp; Recovery</strong>
  <ul>
    <li>Rollback procedure documented</li>
    <li>Data backup completed</li>
    <li>Previous version available for quick rollback</li>
    <li>Communication plan for stakeholders</li>
  </ul>
</div>

<h4 id="advanced-resource-management">Advanced Resource Management</h4>

<p>Configure resource quotas and limits to prevent deployment issues:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Resource quota for namespace</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ResourceQuota</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">deployment-quota</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">production</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">hard</span><span class="pi">:</span>
    <span class="na">requests.cpu</span><span class="pi">:</span> <span class="s2">"</span><span class="s">10"</span>
    <span class="na">requests.memory</span><span class="pi">:</span> <span class="s">20Gi</span>
    <span class="na">limits.cpu</span><span class="pi">:</span> <span class="s2">"</span><span class="s">20"</span>
    <span class="na">limits.memory</span><span class="pi">:</span> <span class="s">40Gi</span>
    <span class="na">persistentvolumeclaims</span><span class="pi">:</span> <span class="s2">"</span><span class="s">10"</span>
    <span class="na">services</span><span class="pi">:</span> <span class="s2">"</span><span class="s">20"</span>
    <span class="na">secrets</span><span class="pi">:</span> <span class="s2">"</span><span class="s">100"</span>
    <span class="na">configmaps</span><span class="pi">:</span> <span class="s2">"</span><span class="s">100"</span>
<span class="nn">---</span>
<span class="c1"># Limit range for pods</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">LimitRange</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">pod-limit-range</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">production</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">limits</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">default</span><span class="pi">:</span>
      <span class="na">cpu</span><span class="pi">:</span> <span class="s">500m</span>
      <span class="na">memory</span><span class="pi">:</span> <span class="s">512Mi</span>
    <span class="na">defaultRequest</span><span class="pi">:</span>
      <span class="na">cpu</span><span class="pi">:</span> <span class="s">100m</span>
      <span class="na">memory</span><span class="pi">:</span> <span class="s">128Mi</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">Container</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="monitoring-deployments">Monitoring Deployments</h2>

<p>Proper monitoring is essential for successful deployments and quick reaction to issues.</p>

<p><br /></p>

<h3 id="key-metrics-to-monitor">Key Metrics to Monitor</h3>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Metric Type</th>
      <th>Examples</th>
      <th>Why Monitor</th>
    </tr>
    <tr>
      <td>Application Performance</td>
      <td>
        - Response time<br />
        - Error rate<br />
        - Throughput
      </td>
      <td>Detect performance regressions with new version</td>
    </tr>
    <tr>
      <td>Resource Utilization</td>
      <td>
        - CPU usage<br />
        - Memory consumption<br />
        - Network traffic
      </td>
      <td>Identify resource leaks or inefficiencies</td>
    </tr>
    <tr>
      <td>Deployment Status</td>
      <td>
        - Pod status<br />
        - Rollout progress<br />
        - Availability
      </td>
      <td>Track deployment progress and success</td>
    </tr>
    <tr>
      <td>Business Metrics</td>
      <td>
        - Conversion rates<br />
        - User engagement<br />
        - Transaction volume
      </td>
      <td>Measure business impact of deployment</td>
    </tr>
  </table>
</div>

<p><br /></p>

<h3 id="deployment-observability-stack">Deployment Observability Stack</h3>

<p>A comprehensive observability setup includes metrics, logs, and traces:</p>

<h4 id="1-metrics-collection-with-prometheus">1. Metrics Collection with Prometheus</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ServiceMonitor for application metrics</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">monitoring.coreos.com/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMonitor</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-metrics</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">endpoints</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">metrics</span>
    <span class="na">interval</span><span class="pi">:</span> <span class="s">30s</span>
    <span class="na">path</span><span class="pi">:</span> <span class="s">/metrics</span>
<span class="nn">---</span>
<span class="c1"># Deployment with metrics endpoint</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
      <span class="na">annotations</span><span class="pi">:</span>
        <span class="na">prometheus.io/scrape</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
        <span class="na">prometheus.io/port</span><span class="pi">:</span> <span class="s2">"</span><span class="s">8080"</span>
        <span class="na">prometheus.io/path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/metrics"</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v2</span>
        <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">8080</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">http</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">8081</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">metrics</span>
        <span class="na">env</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">METRICS_PORT</span>
          <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">8081"</span>
</code></pre></div></div>

<h4 id="2-structured-logging-configuration">2. Structured Logging Configuration</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ConfigMap for logging configuration</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">app-logging-config</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">log-config.json</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s">{</span>
      <span class="s">"level": "info",</span>
      <span class="s">"format": "json",</span>
      <span class="s">"output": "stdout",</span>
      <span class="s">"fields": {</span>
        <span class="s">"service": "my-app",</span>
        <span class="s">"version": "${APP_VERSION}",</span>
        <span class="s">"environment": "${ENVIRONMENT}"</span>
      <span class="s">}</span>
    <span class="s">}</span>
<span class="s">---</span>
<span class="c1"># Deployment with logging sidecar</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-with-logging</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v2</span>
        <span class="na">volumeMounts</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">log-config</span>
          <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/etc/logging</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">shared-logs</span>
          <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/var/log/app</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">log-shipper</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">fluent/fluent-bit:latest</span>
        <span class="na">volumeMounts</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">shared-logs</span>
          <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/var/log/app</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">fluent-bit-config</span>
          <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/fluent-bit/etc</span>
      <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">log-config</span>
        <span class="na">configMap</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">app-logging-config</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">shared-logs</span>
        <span class="na">emptyDir</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">fluent-bit-config</span>
        <span class="na">configMap</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">fluent-bit-config</span>
</code></pre></div></div>

<h4 id="3-distributed-tracing-with-jaeger">3. Distributed Tracing with Jaeger</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Deployment with tracing enabled</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app-traced</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">my-app</span>
      <span class="na">annotations</span><span class="pi">:</span>
        <span class="na">sidecar.jaegertracing.io/inject</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">my-app:v2</span>
        <span class="na">env</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">JAEGER_AGENT_HOST</span>
          <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">jaeger-agent.monitoring.svc.cluster.local"</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">JAEGER_AGENT_PORT</span>
          <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">6831"</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">JAEGER_SAMPLER_TYPE</span>
          <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">probabilistic"</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">JAEGER_SAMPLER_PARAM</span>
          <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">0.1"</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="example-prometheus-queries">Example Prometheus Queries</h3>

<pre><code class="language-promql"># Success rate of HTTP requests
sum(rate(http_requests_total{status=~"2.."}[5m])) / sum(rate(http_requests_total[5m]))

# Error rate change after deployment
sum(rate(http_requests_total{status=~"5.."}[5m])) / sum(rate(http_requests_total[5m]))

# Response time percentiles
histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))

# Container restarts during deployment
sum(changes(container_start_time_seconds[1h])) by (pod)

# Deployment success rate
sum(rate(kube_deployment_status_replicas_updated[5m])) / sum(rate(kube_deployment_spec_replicas[5m]))

# Pod readiness during rollout
sum(kube_pod_status_ready{condition="true"}) by (deployment)

# Memory usage trend
avg(container_memory_usage_bytes{container="my-app"}) by (pod)

# CPU throttling detection
sum(rate(container_cpu_cfs_throttled_seconds_total[5m])) by (pod)
</code></pre>

<h4 id="advanced-alerting-rules">Advanced Alerting Rules</h4>

<script src="https://gist.github.com/somaz94/3205b0184340dab2f38abde0ae188b90.js"></script>

<p><br /></p>

<h3 id="visualizing-deployments">Visualizing Deployments</h3>

<div style="width: 100%; margin: 20px auto;">
  <div class="mermaid">
    gantt
      title Deployment Timeline
      dateFormat  YYYY-MM-DD HH:mm
      axisFormat %H:%M
      
      section Deployment
      Deployment Starts       :a1, 2023-01-01 12:00, 2m
      First Pods Updated      :a2, after a1, 3m
      50% Complete           :a3, after a2, 5m
      Deployment Complete    :a4, after a3, 2m
      
      section Metrics
      Baseline Metrics       :b1, 2023-01-01 11:55, 5m
      Canary Metrics         :b2, 2023-01-01 12:02, 8m
      Full Deployment Metrics :b3, after a4, 10m
      
      section Validation
      Automated Tests        :c1, after a1, 10m
      Manual Validation      :c2, after a4, 15m
      Decision to Keep/Rollback  :milestone, after c2, 0m
  </div>
</div>

<p><br /></p>

<h2 id="conclusion-and-strategy-selection">Conclusion and Strategy Selection</h2>

<p>The choice of deployment strategy depends on your specific requirements, with tradeoffs between simplicity, downtime, resource usage, and risk.</p>

<div style="width: 100%; margin: 20px auto;">
  <div class="mermaid">
    graph LR
      A[Deployment Strategy Selection] --&gt; B[Application Requirements]
      A --&gt; C[Infrastructure Capabilities]
      A --&gt; D[Team Experience]
      A --&gt; E[Business Constraints]
      
      B --&gt; F[Availability Requirements]
      B --&gt; G[Version Compatibility]
      B --&gt; H[Resource Requirements]
      
      C --&gt; I[Kubernetes Version]
      C --&gt; J[Available Tools]
      C --&gt; K[Cluster Capacity]
      
      D --&gt; L[Operations Experience]
      D --&gt; M[Monitoring Capabilities]
      
      E --&gt; N[Risk Tolerance]
      E --&gt; O[User Impact]
      
      F &amp; G &amp; H &amp; I &amp; J &amp; K &amp; L &amp; M &amp; N &amp; O --&gt; P[Strategy Decision]
      
      style P fill:#f9f,stroke:#333,stroke-width:4px
  </div>
</div>

<p><br /></p>

<h3 id="quick-strategy-selection-guide">Quick Strategy Selection Guide</h3>

<p>Use this decision matrix to quickly choose the appropriate deployment strategy:</p>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Scenario</th>
      <th>Recommended Strategy</th>
      <th>Reasoning</th>
    </tr>
    <tr>
      <td>Development environment</td>
      <td>Recreate</td>
      <td>Simple, fast, downtime acceptable</td>
    </tr>
    <tr>
      <td>Small web application</td>
      <td>RollingUpdate</td>
      <td>Built-in, minimal downtime, resource efficient</td>
    </tr>
    <tr>
      <td>Mission-critical e-commerce</td>
      <td>Blue/Green</td>
      <td>Zero downtime, instant rollback capability</td>
    </tr>
    <tr>
      <td>Machine learning model</td>
      <td>Canary</td>
      <td>Gradual validation with real data, A/B testing</td>
    </tr>
    <tr>
      <td>Database schema change</td>
      <td>Blue/Green + Migration</td>
      <td>Safe data migration, immediate rollback</td>
    </tr>
    <tr>
      <td>Microservice with dependencies</td>
      <td>Canary + Circuit Breaker</td>
      <td>Gradual rollout, dependency isolation</td>
    </tr>
  </table>
</div>

<p><br /></p>

<h3 id="deployment-automation-and-cicd-integration">Deployment Automation and CI/CD Integration</h3>

<h4 id="gitlab-cicd-pipeline-example">GitLab CI/CD Pipeline Example</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># .gitlab-ci.yml</span>
<span class="na">stages</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">build</span>
  <span class="pi">-</span> <span class="s">test</span>
  <span class="pi">-</span> <span class="s">security</span>
  <span class="pi">-</span> <span class="s">deploy-staging</span>
  <span class="pi">-</span> <span class="s">deploy-canary</span>
  <span class="pi">-</span> <span class="s">deploy-production</span>

<span class="na">variables</span><span class="pi">:</span>
  <span class="na">DOCKER_REGISTRY</span><span class="pi">:</span> <span class="s2">"</span><span class="s">registry.gitlab.com"</span>
  <span class="na">KUBERNETES_NAMESPACE</span><span class="pi">:</span> <span class="s2">"</span><span class="s">production"</span>

<span class="na">build</span><span class="pi">:</span>
  <span class="na">stage</span><span class="pi">:</span> <span class="s">build</span>
  <span class="na">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">docker build -t $DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA .</span>
    <span class="pi">-</span> <span class="s">docker push $DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA</span>

<span class="na">security-scan</span><span class="pi">:</span>
  <span class="na">stage</span><span class="pi">:</span> <span class="s">security</span>
  <span class="na">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">trivy image $DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA</span>

<span class="na">deploy-staging</span><span class="pi">:</span>
  <span class="na">stage</span><span class="pi">:</span> <span class="s">deploy-staging</span>
  <span class="na">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">kubectl set image deployment/my-app my-app=$DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA -n staging</span>
    <span class="pi">-</span> <span class="s">kubectl rollout status deployment/my-app -n staging --timeout=300s</span>
  <span class="na">environment</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">staging</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://staging.myapp.com</span>

<span class="na">deploy-canary</span><span class="pi">:</span>
  <span class="na">stage</span><span class="pi">:</span> <span class="s">deploy-canary</span>
  <span class="na">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="pi">|</span>
      <span class="s">cat &lt;&lt;EOF | kubectl apply -f -</span>
      <span class="s">apiVersion: apps/v1</span>
      <span class="s">kind: Deployment</span>
      <span class="s">metadata:</span>
        <span class="s">name: my-app-canary</span>
        <span class="s">namespace: $KUBERNETES_NAMESPACE</span>
      <span class="s">spec:</span>
        <span class="s">replicas: 1</span>
        <span class="s">selector:</span>
          <span class="s">matchLabels:</span>
            <span class="s">app: my-app</span>
            <span class="s">track: canary</span>
        <span class="s">template:</span>
          <span class="s">metadata:</span>
            <span class="s">labels:</span>
              <span class="s">app: my-app</span>
              <span class="s">track: canary</span>
          <span class="s">spec:</span>
            <span class="s">containers:</span>
            <span class="s">- name: my-app</span>
              <span class="s">image: $DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA</span>
      <span class="s">EOF</span>
    <span class="pi">-</span> <span class="s">kubectl rollout status deployment/my-app-canary -n $KUBERNETES_NAMESPACE</span>
  <span class="na">when</span><span class="pi">:</span> <span class="s">manual</span>
  <span class="na">only</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">main</span>

<span class="na">deploy-production</span><span class="pi">:</span>
  <span class="na">stage</span><span class="pi">:</span> <span class="s">deploy-production</span>
  <span class="na">script</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">kubectl set image deployment/my-app my-app=$DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA -n $KUBERNETES_NAMESPACE</span>
    <span class="pi">-</span> <span class="s">kubectl rollout status deployment/my-app -n $KUBERNETES_NAMESPACE --timeout=600s</span>
  <span class="na">when</span><span class="pi">:</span> <span class="s">manual</span>
  <span class="na">only</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">main</span>
  <span class="na">environment</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">production</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://myapp.com</span>
</code></pre></div></div>

<h4 id="helm-based-deployment-strategy">Helm-based Deployment Strategy</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># values.yaml for different environments</span>
<span class="c1"># values-staging.yaml</span>
<span class="na">replicaCount</span><span class="pi">:</span> <span class="m">2</span>
<span class="na">image</span><span class="pi">:</span>
  <span class="na">repository</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">tag</span><span class="pi">:</span> <span class="s">latest</span>
<span class="na">strategy</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">RollingUpdate</span>
  <span class="na">rollingUpdate</span><span class="pi">:</span>
    <span class="na">maxUnavailable</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">maxSurge</span><span class="pi">:</span> <span class="m">1</span>

<span class="c1"># values-production.yaml</span>
<span class="na">replicaCount</span><span class="pi">:</span> <span class="m">5</span>
<span class="na">image</span><span class="pi">:</span>
  <span class="na">repository</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">tag</span><span class="pi">:</span> <span class="s">stable</span>
<span class="na">strategy</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">RollingUpdate</span>
  <span class="na">rollingUpdate</span><span class="pi">:</span>
    <span class="na">maxUnavailable</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">maxSurge</span><span class="pi">:</span> <span class="m">2</span>

<span class="c1"># Canary values</span>
<span class="na">canary</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">weight</span><span class="pi">:</span> <span class="m">10</span>
  <span class="na">analysis</span><span class="pi">:</span>
    <span class="na">successRate</span><span class="pi">:</span> <span class="m">95</span>
    <span class="na">interval</span><span class="pi">:</span> <span class="s">30s</span>
    <span class="na">threshold</span><span class="pi">:</span> <span class="m">5</span>
</code></pre></div></div>

<h4 id="argo-cd-application-configuration">Argo CD Application Configuration</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">argoproj.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Application</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-app</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">argocd</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">project</span><span class="pi">:</span> <span class="s">default</span>
  <span class="na">source</span><span class="pi">:</span>
    <span class="na">repoURL</span><span class="pi">:</span> <span class="s">https://github.com/my-org/my-app</span>
    <span class="na">targetRevision</span><span class="pi">:</span> <span class="s">HEAD</span>
    <span class="na">path</span><span class="pi">:</span> <span class="s">k8s/overlays/production</span>
  <span class="na">destination</span><span class="pi">:</span>
    <span class="na">server</span><span class="pi">:</span> <span class="s">https://kubernetes.default.svc</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">production</span>
  <span class="na">syncPolicy</span><span class="pi">:</span>
    <span class="na">automated</span><span class="pi">:</span>
      <span class="na">prune</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">selfHeal</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">syncOptions</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">CreateNamespace=true</span>
    <span class="na">retry</span><span class="pi">:</span>
      <span class="na">limit</span><span class="pi">:</span> <span class="m">5</span>
      <span class="na">backoff</span><span class="pi">:</span>
        <span class="na">duration</span><span class="pi">:</span> <span class="s">5s</span>
        <span class="na">factor</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">maxDuration</span><span class="pi">:</span> <span class="s">3m</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="final-recommendations">Final Recommendations</h3>

<p>Based on industry best practices and real-world experience:</p>

<div class="quote-box">
  <strong>Strategic Recommendations</strong>
  
  <strong>For Startups &amp; Small Teams:</strong>
  <ul>
    <li>Start with RollingUpdate for simplicity</li>
    <li>Implement proper health checks early</li>
    <li>Use managed Kubernetes services (EKS, GKE, AKS)</li>
    <li>Focus on monitoring and alerting</li>
  </ul>
  
  <strong>For Enterprise Applications:</strong>
  <ul>
    <li>Implement Blue/Green for critical services</li>
    <li>Use Canary for new features and ML models</li>
    <li>Invest in comprehensive observability stack</li>
    <li>Establish deployment governance and approval processes</li>
  </ul>
  
  <strong>For High-Scale Applications:</strong>
  <ul>
    <li>Combine multiple strategies based on service criticality</li>
    <li>Implement automated rollback based on SLI violations</li>
    <li>Use progressive delivery tools (Argo Rollouts, Flagger)</li>
    <li>Maintain deployment velocity with safety guardrails</li>
  </ul>
</div>

<p>Remember: <strong>The best deployment strategy is the one that balances your risk tolerance, operational complexity, and business requirements while maintaining the ability to deliver features quickly and safely.</strong></p>

<p><br /></p>

<hr />

<h2 id="references">References</h2>

<ul>
  <li><a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/">Kubernetes Official Documentation - Deployments</a></li>
  <li><a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#container-probes">Kubernetes Official Documentation - Container Probes</a></li>
  <li><a href="https://spacelift.io/blog/kubernetes-deployment-strategies">Spacelift Deployment Strategies</a></li>
  <li><a href="https://argoproj.github.io/argo-rollouts/">Argo Rollouts Documentation</a></li>
  <li><a href="https://istio.io/latest/docs/concepts/traffic-management/">Istio Traffic Management</a></li>
  <li><a href="https://flagger.app/">Flagger - Progressive Delivery Operator</a></li>
  <li><a href="https://landscape.cncf.io/card-mode?category=continuous-integration-delivery">CNCF Landscape - Continuous Delivery</a></li>
  <li><a href="https://prometheus-operator.dev/">Prometheus Operator Documentation</a></li>
  <li><a href="https://www.jaegertracing.io/docs/">Jaeger Tracing Documentation</a></li>
  <li><a href="https://helm.sh/docs/chart_best_practices/">Helm Best Practices</a></li>
  <li><a href="https://opengitops.dev/">GitOps Working Group</a></li>
  <li><a href="https://github.com/somaz94/DevOps-Engineer/wiki/KR_%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4">DevOps Engineer Wiki</a></li>
</ul>

<h2 id="additional-resources">Additional Resources</h2>

<h3 id="tools-and-platforms">Tools and Platforms</h3>
<ul>
  <li><strong>Progressive Delivery</strong>: <a href="https://argoproj.github.io/argo-rollouts/">Argo Rollouts</a>, <a href="https://flagger.app/">Flagger</a>, <a href="https://keptn.sh/">Keptn</a></li>
  <li><strong>Service Mesh</strong>: <a href="https://istio.io/">Istio</a>, <a href="https://linkerd.io/">Linkerd</a>, <a href="https://www.consul.io/docs/connect">Consul Connect</a></li>
  <li><strong>Monitoring</strong>: <a href="https://prometheus.io/">Prometheus</a>, <a href="https://grafana.com/">Grafana</a>, <a href="https://www.datadoghq.com/">Datadog</a></li>
  <li><strong>CI/CD</strong>: <a href="https://docs.gitlab.com/ee/ci/">GitLab CI</a>, <a href="https://github.com/features/actions">GitHub Actions</a>, <a href="https://jenkins-x.io/">Jenkins X</a></li>
</ul>

<h3 id="learning-resources">Learning Resources</h3>
<ul>
  <li><a href="https://kubernetes.academy/">Kubernetes Academy</a></li>
  <li><a href="https://www.cncf.io/training/">CNCF Training</a></li>
  <li><a href="https://cloud.google.com/kubernetes-engine/docs/best-practices">Google Cloud Kubernetes Engine Best Practices</a></li>
  <li><a href="https://www.eksworkshop.com/">AWS EKS Workshop</a></li>
  <li><a href="https://docs.microsoft.com/en-us/learn/paths/intro-to-kubernetes-on-azure/">Azure Kubernetes Service Learning Path</a></li>
</ul>


                <!-- Pagination links -->


            </article>

            
                <aside class="see-also">
                    <h2>See also</h2>
                    <ul>
                        
                        
                        
                            <li>
                                <a href="/category/container/docker-compose/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1755654072/docker-compose_l2hvau.png">
                                    
                                    <h3>Docker Compose - Complete Guide to Multi-Container Application Orchestration</h3>
                                </a>
                            </li>
                        
                            <li>
                                <a href="/category/ai/claude-gemini/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1767603840/claude-gemini-1_q0lkop.png">
                                    
                                    <h3>Claude 4.5 Sonnet vs Gemini 3 Pro: The Ultimate 2026 AI Model Showdown</h3>
                                </a>
                            </li>
                        
                            <li>
                                <a href="/category/iac/ansible/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1755657938/ansible-1_qtomxt.png">
                                    
                                    <h3>Ansible - Complete Guide to Infrastructure Automation and Galaxy Platform</h3>
                                </a>
                            </li>
                        
                    </ul>
                </aside>
            

        </section>

        <!-- Add time bar only for pages without pagination -->
        
            <div class="time-bar" data-minutes="29">
    <span class="time-completed"></span>
    <span class="time-remaining"></span>
    <div class="bar">
        <span class="completed" style="width:0%;"></span>
        <span class="remaining" style="width:100%;"></span>
    </div>
</div>

            <button class="toggle-preview" onclick="togglePreview()">
    <span>Hide Preview ▼</span>
</button>

<div id="recommendationSection" class="recommendation">
    <div class="message">
        <strong>Why don't you read something next?</strong>
        <div>
            <button>
                <svg><use xlink:href="#icon-arrow-right"></use></svg>
                <span>Go back to top</span>
            </button>
        </div>
    </div>
    <div id="previewSection" class="preview-section">
        
        <a href="/category/kubernetes/k8s-operator-crds/" class="post-preview">
            <div class="image">
                
                    <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1767864321/kubernetes-operator-2_rnpqmu.png">
                
            </div>
            <h3 class="title">Kubernetes Operators and Custom Resource Definitions (CRDs)</h3>
        </a>
    </div>
</div>

<style>
.toggle-preview {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #333;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.toggle-preview:hover {
    background: #444;
}

.toggle-preview.visible {
    opacity: 1;
}

.recommendation {
    margin-top: 1000px;
    display: block;
    transition: all 0.3s ease;
}

.recommendation.hidden {
    display: none;
}

.hide-preview {
    margin-left: 10px;
    background: none;
    border: 1px solid #666;
    color: #666;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
}

.hide-preview:hover {
    background: #f0f0f0;
}

.preview-section {
    max-height: 1000px;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}

.preview-section.hidden {
    max-height: 0;
}
</style>

<script>
function togglePreview() {
    const recommendation = document.getElementById('recommendationSection');
    const button = document.querySelector('.toggle-preview span');
    
    if (recommendation.classList.contains('hidden')) {
        recommendation.classList.remove('hidden');
        button.textContent = 'Hide Preview ▼';
    } else {
        recommendation.classList.add('hidden');
        button.textContent = 'Show Preview ▲';
    }
}

window.addEventListener('scroll', function() {
    const toggleButton = document.querySelector('.toggle-preview');
    const recommendation = document.getElementById('recommendationSection');
    const rect = recommendation.getBoundingClientRect();
    
    if (rect.top <= window.innerHeight) {
        toggleButton.classList.add('visible');
    } else {
        toggleButton.classList.remove('visible');
    }
});
</script>

        

        <!-- Show modal if the post is the last one -->
        

        <!-- Show modal before user leaves the page -->
        

        <!-- Add your newsletter subscription form here -->

        <section class="share">
    <h3>Share</h3>
    <a aria-label="Share on Twitter" href="https://twitter.com/intent/tweet?text=&quot;A comprehensive guide to different deployment strategies in Kubernetes including RollingUpdate, Recreate, Blue/Green, and Canary&quot;%20https://somaz.blog/category/kubernetes/k8s-deployment-strategy/%20via%20&#64;twitter_username&hashtags=kubernetes,deployment,strategies,rolling-update,canary,blue-green"
    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Share on Twitter">
        <svg class="icon icon-twitter"><use xlink:href="#icon-twitter"></use></svg>
    </a>
    <a aria-label="Share on Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://somaz.blog/category/kubernetes/k8s-deployment-strategy/"
    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook">
        <svg class="icon icon-facebook"><use xlink:href="#icon-facebook"></use></svg>
    </a>
</section>

        

  <section class="author">
    <div class="details">
      
        <img class="img-rounded" src="/assets/img/uploads/profile.png" alt="Somaz">
      
      <p class="def">Author</p>
      <h3 class="name">
        <a href="/authors/somaz/">Somaz</a>
      </h3>
      <p class="desc">DevOps engineer focused on cloud infrastructure and automation</p>
      <p>
        
          <a href="https://github.com/somaz94" title="Github">
            <svg><use xlink:href="#icon-github"></use></svg>
          </a>
        
        
        
        
        
        
          <a href="https://www.linkedin.com/in/somaz" title="LinkedIn">
            <svg><use xlink:href="#icon-linkedin"></use></svg>
          </a>
        
        
          <a href="https://somaz.tistory.com" title="Tistory">
            <svg><use xlink:href="#icon-tistory"></use></svg>
          </a>
        
      </p>
    </div>
  </section>

  
  
  
  
  
  
  
  

  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Somaz",
      
      "image": "/assets/img/uploads/profile.png",
      
      "jobTitle": "DevOps Engineer",
      "url": "https://somaz.blog/authors/somaz/",
      "sameAs": [
        "https://github.com/somaz94","https://www.linkedin.com/in/somaz","https://{{ author.tistory_username }}.tistory.com"
      ]
  }
  </script>


        

<section class="comments">
    <h3>Comments</h3>
    <div id="disqus_thread"></div>
</section>
<script type="text/javascript">
    var disqus_loaded = false;

    function load_disqus()
    {
        disqus_loaded = true;
        var disqus_shortname = 'https-somaz94-github-io';
        var disqus_title = '';
        var disqus_url = '/category/kubernetes/k8s-deployment-strategy/';
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        var ldr = document.getElementById('disqus_loader');
    };
    window.onscroll = function(e) {
        if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 800)) {
            //hit bottom of page
            if (disqus_loaded==false)
                load_disqus()
        }
    };
</script>



        <footer>
    <p>
      
        <a href="https://github.com/somaz94" title="Github">
          <svg><use xlink:href="#icon-github"></use></svg>
        </a>
      
      
        <a href="https://www.facebook.com/facebook_username" title="Facebook">
          <svg><use xlink:href="#icon-facebook"></use></svg>
        </a>
      
      
        <a href="https://twitter.com/twitter_username" title="Twitter">
          <svg><use xlink:href="#icon-twitter"></use></svg>
        </a>
      
      
        <a href="https://medium.com/@medium_username" title="Medium">
          <svg><use xlink:href="#icon-medium"></use></svg>
        </a>
      
      
        <a href="https://www.instagram.com/instagram_username" title="Instagram">
          <svg><use xlink:href="#icon-instagram"></use></svg>
        </a>
      
      
        <a href="https://www.linkedin.com/in/somaz" title="LinkedIn">
          <svg><use xlink:href="#icon-linkedin"></use></svg>
        </a>
      
      
        <a href="https://somaz.tistory.com" title="Tistory">
          <svg><use xlink:href="#icon-tistory"></use></svg>
        </a>
      
    </p>

    <ul>
  
    
      <li>
        <a href="https://somaz.blog/">Home</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/about">About</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/category">Category</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/contact">Contact</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/feed.xml">Feed</a>
      </li>
    
  
</ul>


    <p>
      <a href="https://somaz.blog/sitemap.xml" title="sitemap">Sitemap</a> |
      <a href="https://somaz.blog/privacy-policy" title="Privacy Policy">Privacy Policy</a>
    </p>

    <p>
      <span>Somaz Tech Blog</span> <svg class="love"><use xlink:href="#icon-heart"></use></svg>
    </p>
</footer>










<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "somaz",
  "description": "DevOps engineer's tech blog.",
  "url": "https://somaz.blog/",
  "logo": {
      "@type": "ImageObject",
      "url": "https://somaz.blog/assets/img/icons/mediumtile.png",
      "width": "600",
      "height": "315"
  },
  "sameAs": [
    "https://github.com/somaz94","https://www.facebook.com/facebook_username","https://twitter.com/twitter_username","https://medium.com/@medium_username","https://www.instagram.com/instagram_username","https://www.linkedin.com/in/somaz","https://{{ site.tistory_username }}.tistory.com"
  ]
}
</script>

<!-- Include the script that allows Netlify CMS login -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<!-- Include the website scripts -->
<script src="/assets/js/scripts.min.js"></script>

<!-- Include Google Analytics script -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXX-X"></script>
<script>
  var host = window.location.hostname;
  if (host != 'localhost') {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-XXXXXXXX-X');
  }
</script>
  


<!-- Include extra scripts -->



        

        
        
        
        
        
        
        
        
        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "BlogPosting",
            "name": "Kubernetes Deployment Strategies",
            "headline": "Choose the right approach for updating your applications with zero to minimal downtime",
            "description": "A comprehensive guide to different deployment strategies in Kubernetes including RollingUpdate, Recreate, Blue/Green, and Canary",
            "image": "https://res.cloudinary.com/dkcm26aem/image/upload/v1767840796/kubernetes-deployment-stragtegy-1_x9lqgk.png",
            "url": "https://somaz.blog/category/kubernetes/k8s-deployment-strategy/",
            "articleBody": "



Overview

Kubernetes deployment strategies define how to update Pods or sets of Pods when deploying new application versions or container images. The right deployment strategy helps maintain system stability, minimize downtime, and ensure a smooth transition between versions.


  Deployment Strategy Considerations
  When choosing a deployment strategy, consider these factors:
  
    Acceptable downtime window
    Application architecture compatibility
    Available resources
    Risk tolerance
    User impact
    Rollback requirements
  



  
    graph TD
      A[Application Update Needed] --&amp;gt; B{Downtime Acceptable?}
      B --&amp;gt;|Yes| C[Recreate Strategy]
      B --&amp;gt;|No| D{Testing with Real Users?}
      D --&amp;gt;|Yes| E[Canary Deployment]
      D --&amp;gt;|No| F{Need Instant Rollback?}
      F --&amp;gt;|Yes| G[Blue/Green Deployment]
      F --&amp;gt;|No| H[Rolling Update Deployment]
      
      style C fill:#f9f,stroke:#333,stroke-width:2px
      style E fill:#bbf,stroke:#333,stroke-width:2px
      style G fill:#ffa,stroke:#333,stroke-width:2px
      style H fill:#bfb,stroke:#333,stroke-width:2px
  




Basic Deployment Strategies



1. RollingUpdate (Default)

The RollingUpdate strategy gradually replaces instances of the previous version with instances of the new version, one by one.


  
    sequenceDiagram
      participant User
      participant Svc as Service
      participant Old as Old Pods
      participant New as New Pods
      
      Note over Old: 3 pods running v1
      User-&amp;gt;&amp;gt;Svc: Traffic routed to old pods
      
      Note over Old,New: Deployment update triggered
      Svc-&amp;gt;&amp;gt;Old: Traffic continues
      
      Note over New: 1 new pod created
      Note over Old: 1 old pod terminated
      Svc-&amp;gt;&amp;gt;Old: Traffic to remaining v1 pods
      Svc-&amp;gt;&amp;gt;New: Traffic to new v2 pod
      
      Note over New: Another new pod created
      Note over Old: Another old pod terminated
      Svc-&amp;gt;&amp;gt;Old: Traffic to remaining v1 pod
      Svc-&amp;gt;&amp;gt;New: Traffic to v2 pods
      
      Note over New: Final new pod created
      Note over Old: Final old pod terminated
      Svc-&amp;gt;&amp;gt;New: All traffic to v2 pods
  


apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 3
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1  # Maximum number of pods that can be unavailable during update
      maxSurge: 1        # Maximum number of pods that can be created above desired number
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app
        image: my-app:v2
        ports:
        - containerPort: 8080


Key Parameters:


  maxUnavailable: Maximum number or percentage of pods that can be unavailable during the update
  maxSurge: Maximum number or percentage of pods that can be created over the desired number during the update


Benefits:

  Minimizes downtime during updates
  Provides continuous service availability
  Allows for gradual rollout of changes
  Built into Kubernetes, no additional tools required


Limitations:

  Both versions run simultaneously during the transition
  May cause issues if versions aren’t backward compatible
  Slower than recreate strategy
  Rollback requires another rolling update




2. Recreate Strategy

The Recreate strategy terminates all existing pods before creating new ones.


  
    sequenceDiagram
      participant User
      participant Svc as Service
      participant Old as Old Pods (v1)
      participant New as New Pods (v2)
      
      Note over Old: 3 pods running v1
      User-&amp;gt;&amp;gt;Svc: Traffic routed to old pods
      Svc-&amp;gt;&amp;gt;Old: Requests served
      
      Note over Old,New: Deployment update triggered
      Note over Old: All v1 pods terminated
      User-&amp;gt;&amp;gt;Svc: Requests fail (downtime)
      
      Note over New: All v2 pods created
      User-&amp;gt;&amp;gt;Svc: Traffic resumes
      Svc-&amp;gt;&amp;gt;New: Requests served by v2
  


apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 3
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app
        image: my-app:v2
        ports:
        - containerPort: 8080


Benefits:

  Simple implementation
  Ensures clean state deployment
  Useful for applications with database schema changes
  No version overlap during deployment
  Minimal resource usage


Limitations:

  Creates downtime between versions
  Not suitable for production applications requiring high availability
  Impacts user experience during updates




Strategy Comparison


  
    
      Strategy
      Downtime
      Resource Usage
      Complexity
      Rollback Speed
      Best For
    
    
      RollingUpdate
      Minimal
      Normal
      Low
      Gradual
      General-purpose applications with backward compatibility
    
    
      Recreate
      Yes
      Minimal
      Very Low
      Immediate
      Development environments, major version changes
    
    
      Blue/Green
      None
      Double
      High
      Immediate
      Mission-critical applications requiring zero downtime
    
    
      Canary
      None
      Variable
      High
      Simple
      Risk-sensitive applications needing gradual validation
    
  




Advanced Deployment Strategies



1. Blue/Green Deployment

Blue/Green deployment maintains two identical environments, with only one serving production traffic at a time.


  
    graph TD
      A[User Traffic] --&amp;gt; B[Service]
      
      subgraph &quot;Before Switch&quot;
        B --&amp;gt;|Active| C[Blue EnvironmentVersion 1]
        D[Green EnvironmentVersion 2]
      end
      
      subgraph &quot;After Switch&quot;
        E[Service] --&amp;gt;|Traffic Switched| G[Green EnvironmentVersion 2]
        F[Blue EnvironmentVersion 1]
      end
      
      style C fill:#1E88E5,stroke:#0D47A1,color:#FFF
      style G fill:#43A047,stroke:#2E7D32,color:#FFF
  


Implementation in Kubernetes:

# Blue deployment
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-blue
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      version: blue
  template:
    metadata:
      labels:
        app: my-app
        version: blue
    spec:
      containers:
      - name: my-app
        image: my-app:v1
        ports:
        - containerPort: 8080
---
# Green deployment
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-green
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      version: green
  template:
    metadata:
      labels:
        app: my-app
        version: green
    spec:
      containers:
      - name: my-app
        image: my-app:v2
        ports:
        - containerPort: 8080
---
# Service routing to blue (switch to green during deployment)
apiVersion: v1
kind: Service
metadata:
  name: my-app
spec:
  selector:
    app: my-app
    version: blue  # Switch between blue and green
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080


Switching Between Environments:

# Update service to point to green environment
kubectl patch service my-app -p &apos;{&quot;spec&quot;:{&quot;selector&quot;:{&quot;version&quot;:&quot;green&quot;}}}&apos;

# To rollback, point back to blue environment
kubectl patch service my-app -p &apos;{&quot;spec&quot;:{&quot;selector&quot;:{&quot;version&quot;:&quot;blue&quot;}}}&apos;


Benefits:

  Zero downtime during deployment
  Instant rollback capability
  Complete testing of new version before switching
  Users experience only one version at a time


Limitations:

  Requires double the resources
  Needs additional orchestration for database migrations
  More complex setup than native Kubernetes strategies




2. Canary Deployment

Canary deployment routes a small percentage of traffic to the new version for testing before full rollout.


  
    graph LR
      A[User Traffic] --&amp;gt; B[Load Balancer / Ingress]
      B --&amp;gt; |90%| C[Stable Versionv1]
      B --&amp;gt; |10%| D[Canary Versionv2]
      
      style C fill:#1E88E5,stroke:#0D47A1,color:#FFF
      style D fill:#FB8C00,stroke:#EF6C00,color:#FFF
  


Implementation Options:

1. Using Kubernetes Services and multiple deployments:

# Stable deployment
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-stable
spec:
  replicas: 9  # 90% of traffic
  selector:
    matchLabels:
      app: my-app
      track: stable
  template:
    metadata:
      labels:
        app: my-app
        track: stable
    spec:
      containers:
      - name: my-app
        image: my-app:v1
---
# Canary deployment
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-canary
spec:
  replicas: 1  # 10% of traffic
  selector:
    matchLabels:
      app: my-app
      track: canary
  template:
    metadata:
      labels:
        app: my-app
        track: canary
    spec:
      containers:
      - name: my-app
        image: my-app:v2
---
# Service routing to both deployments
apiVersion: v1
kind: Service
metadata:
  name: my-app
spec:
  selector:
    app: my-app  # Selects both stable and canary pods
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080


2. Using Ingress for HTTP traffic splitting:

# Ingress with canary annotations (NGINX ingress controller)
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-app-canary
  annotations:
    nginx.ingress.kubernetes.io/canary: &quot;true&quot;
    nginx.ingress.kubernetes.io/canary-weight: &quot;20&quot;
spec:
  rules:
  - host: myapp.example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: my-app-canary
            port:
              number: 80


3. Using a service mesh like Istio:

apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: my-app
spec:
  hosts:
  - myapp.example.com
  http:
  - route:
    - destination:
        host: my-app-stable
        subset: v1
      weight: 80
    - destination:
        host: my-app-canary
        subset: v2
      weight: 20


Canary Implementation Approaches:


  
    
      Method
      Pros
      Cons
    
    
      Pod ratio adjustment
      
        - Simple to implement
        - Works with any application
      
      
        - Less precise traffic control
        - Limited by pod granularity
      
    
    
      Ingress controllers
      
        - More precise percentages
        - HTTP header-based routing
      
      
        - Only works for HTTP/HTTPS
        - Requires specific ingress controller
      
    
    
      Service mesh (Istio)
      
        - Fine-grained traffic control
        - Advanced metrics and tracing
        - Multiple routing criteria
      
      
        - Complex to set up
        - Requires service mesh installation
        - Overhead in performance
      
    
  


Benefits:

  Minimal risk exposure - issues only affect a small percentage of users
  Real-world testing with actual users
  Gradual rollout allows for performance and stability monitoring
  Controlled exposure of new features


Limitations:

  More complex to set up than basic strategies
  Requires additional traffic management tools or service mesh
  Monitoring overhead to detect issues
  May require coordinated database schema changes




Deployment Health Checks

Kubernetes uses probes to determine the health and readiness of your applications, which are critical for successful deployments.



1. Readiness Probe

Indicates when a pod is ready to accept traffic. During rolling updates, new pods won’t receive traffic until they pass readiness checks.

spec:
  containers:
  - name: my-app
    readinessProbe:
      httpGet:
        path: /health
        port: 8080
      initialDelaySeconds: 5
      periodSeconds: 10
      timeoutSeconds: 1
      successThreshold: 1
      failureThreshold: 3


Available Probe Types:


  HTTP GET: Performs an HTTP GET request
  TCP Socket: Tries to establish a TCP connection
  Exec: Executes a command in the container




2. Liveness Probe

Detects when a pod enters an unhealthy state and needs to be restarted.

spec:
  containers:
  - name: my-app
    livenessProbe:
      httpGet:
        path: /health
        port: 8080
      initialDelaySeconds: 15
      periodSeconds: 20
      timeoutSeconds: 1
      successThreshold: 1
      failureThreshold: 3




3. Startup Probe

Indicates when an application has started successfully, providing additional time for slow-starting containers.

spec:
  containers:
  - name: my-app
    startupProbe:
      httpGet:
        path: /health
        port: 8080
      failureThreshold: 30
      periodSeconds: 10



  Critical Probe Parameters:
  
    initialDelaySeconds: Time to wait before first probe
    periodSeconds: How often to perform the probe
    timeoutSeconds: Probe timeout period
    successThreshold: Minimum consecutive successes to consider probe successful
    failureThreshold: Number of failures before giving up
  
  Incorrect probe configuration can cause unnecessary restarts or prevent successful deployments!




Advanced Configuration and Tools



1. Progressive Delivery with Argo Rollouts

Argo Rollouts extends Kubernetes with advanced deployment strategies.

apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: my-app-rollout
spec:
  replicas: 5
  strategy:
    canary:
      steps:
      - setWeight: 20
      - pause: {duration: 1h}
      - setWeight: 40
      - pause: {duration: 1h}
      - setWeight: 60
      - pause: {duration: 1h}
      - setWeight: 80
      - pause: {duration: 1h}
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app
        image: my-app:v2




2. Advanced A/B Testing Configuration

A/B testing allows directing specific users to different versions based on criteria.

apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    nginx.ingress.kubernetes.io/canary: &quot;true&quot;
    nginx.ingress.kubernetes.io/canary-by-header: &quot;User-Country&quot;
    nginx.ingress.kubernetes.io/canary-by-header-value: &quot;US&quot;
spec:
  rules:
  - host: myapp.example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: my-app-experiment
            port:
              number: 80




3. Deployment Protection with Pod Disruption Budget (PDB)

PDBs ensure minimum available replicas during voluntary disruptions like deployments.

apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: my-app-pdb
spec:
  minAvailable: 2  # or use maxUnavailable: 1
  selector:
    matchLabels:
      app: my-app




Common Pitfalls and Best Practices



Common Issues to Avoid


  Deployment Pitfalls:
  
    Resource constraints: Insufficient CPU/memory requests or limits
    Probe misconfiguration: Aggressive timeouts or inappropriate health checks
    Image issues: Using &apos;latest&apos; tag or unreliable registries
    Database schema changes: Not planning for backward compatibility
    No rollback plan: Not preserving revision history
    Insufficient monitoring: Inability to detect deployment issues
    Network policy issues: Blocking required communication paths
    Security context misconfigurations: Running containers with excessive privileges
    Volume mount issues: Incorrect persistent volume configurations
  




Debugging Failed Deployments

When deployments fail, follow this systematic troubleshooting approach:

# Check deployment status and events
kubectl describe deployment my-app

# View pod details and events
kubectl describe pod &amp;lt;pod-name&amp;gt;

# Check pod logs
kubectl logs &amp;lt;pod-name&amp;gt; --previous  # For crashed containers
kubectl logs &amp;lt;pod-name&amp;gt; -c &amp;lt;container-name&amp;gt;  # For multi-container pods

# Check resource availability
kubectl top nodes
kubectl top pods

# Verify service endpoints
kubectl describe service my-app
kubectl get endpoints my-app

# Check for network policy restrictions
kubectl describe networkpolicy


Common Error Messages and Solutions:


  
    
      Error Message
      Cause
      Solution
    
    
      ImagePullBackOff
      Cannot pull container image
      
        - Check image name and tag
        - Verify registry credentials
        - Ensure image exists in registry
      
    
    
      CrashLoopBackOff
      Container keeps crashing
      
        - Check application logs
        - Verify resource limits
        - Review startup probe configuration
      
    
    
      Insufficient resources
      Not enough CPU/memory
      
        - Adjust resource requests
        - Scale cluster nodes
        - Optimize application resources
      
    
    
      Readiness probe failed
      Health check failing
      
        - Verify health endpoint
        - Adjust probe timeouts
        - Check application startup time
      
    
  




Best Practices for Successful Deployments


  Deployment Best Practices:
  
    Version control: Use specific immutable image tags, never &apos;latest&apos;
    Proper health checks: Implement meaningful readiness/liveness probes
    Resource planning: Set appropriate CPU and memory requests/limits
    Automated testing: Run thorough tests before deployment
    Monitoring: Implement metrics for deployment success rates and performance
    Rollback readiness: Maintain revision history and test rollback procedures
    Documentation: Document deployment procedures, dependencies, and requirements
    Small, frequent updates: Prefer smaller, incremental changes over large updates
    Environment parity: Keep development, staging, and production environments consistent
    Security scanning: Scan container images for vulnerabilities before deployment
    Backup strategy: Ensure data backup before major deployments
  


Deployment Checklist

Before deploying to production, ensure you’ve completed this checklist:


  Pre-Deployment Checklist
  
  Code &amp;amp; Image Preparation
  
    Code reviewed and approved
    All tests passing (unit, integration, e2e)
    Container image built with specific version tag
    Image scanned for security vulnerabilities
    Image pushed to secure registry
  
  
  Configuration &amp;amp; Environment
  
    Environment variables configured
    Secrets and ConfigMaps updated
    Resource requests and limits defined
    Health check endpoints tested
    Database migrations planned (if needed)
  
  
  Security &amp;amp; Compliance
  
    Security context configured appropriately
    Network policies reviewed
    RBAC permissions verified
    Compliance requirements met
  
  
  Monitoring &amp;amp; Observability
  
    Metrics and logging configured
    Alerting rules defined
    Dashboard updated for new version
    SLI/SLO targets defined
  
  
  Rollback &amp;amp; Recovery
  
    Rollback procedure documented
    Data backup completed
    Previous version available for quick rollback
    Communication plan for stakeholders
  


Advanced Resource Management

Configure resource quotas and limits to prevent deployment issues:

# Resource quota for namespace
apiVersion: v1
kind: ResourceQuota
metadata:
  name: deployment-quota
  namespace: production
spec:
  hard:
    requests.cpu: &quot;10&quot;
    requests.memory: 20Gi
    limits.cpu: &quot;20&quot;
    limits.memory: 40Gi
    persistentvolumeclaims: &quot;10&quot;
    services: &quot;20&quot;
    secrets: &quot;100&quot;
    configmaps: &quot;100&quot;
---
# Limit range for pods
apiVersion: v1
kind: LimitRange
metadata:
  name: pod-limit-range
  namespace: production
spec:
  limits:
  - default:
      cpu: 500m
      memory: 512Mi
    defaultRequest:
      cpu: 100m
      memory: 128Mi
    type: Container




Monitoring Deployments

Proper monitoring is essential for successful deployments and quick reaction to issues.



Key Metrics to Monitor


  
    
      Metric Type
      Examples
      Why Monitor
    
    
      Application Performance
      
        - Response time
        - Error rate
        - Throughput
      
      Detect performance regressions with new version
    
    
      Resource Utilization
      
        - CPU usage
        - Memory consumption
        - Network traffic
      
      Identify resource leaks or inefficiencies
    
    
      Deployment Status
      
        - Pod status
        - Rollout progress
        - Availability
      
      Track deployment progress and success
    
    
      Business Metrics
      
        - Conversion rates
        - User engagement
        - Transaction volume
      
      Measure business impact of deployment
    
  




Deployment Observability Stack

A comprehensive observability setup includes metrics, logs, and traces:

1. Metrics Collection with Prometheus

# ServiceMonitor for application metrics
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: my-app-metrics
spec:
  selector:
    matchLabels:
      app: my-app
  endpoints:
  - port: metrics
    interval: 30s
    path: /metrics
---
# Deployment with metrics endpoint
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
  labels:
    app: my-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
      annotations:
        prometheus.io/scrape: &quot;true&quot;
        prometheus.io/port: &quot;8080&quot;
        prometheus.io/path: &quot;/metrics&quot;
    spec:
      containers:
      - name: my-app
        image: my-app:v2
        ports:
        - containerPort: 8080
          name: http
        - containerPort: 8081
          name: metrics
        env:
        - name: METRICS_PORT
          value: &quot;8081&quot;


2. Structured Logging Configuration

# ConfigMap for logging configuration
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-logging-config
data:
  log-config.json: |
    {
      &quot;level&quot;: &quot;info&quot;,
      &quot;format&quot;: &quot;json&quot;,
      &quot;output&quot;: &quot;stdout&quot;,
      &quot;fields&quot;: {
        &quot;service&quot;: &quot;my-app&quot;,
        &quot;version&quot;: &quot;${APP_VERSION}&quot;,
        &quot;environment&quot;: &quot;${ENVIRONMENT}&quot;
      }
    }
---
# Deployment with logging sidecar
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-with-logging
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app
        image: my-app:v2
        volumeMounts:
        - name: log-config
          mountPath: /etc/logging
        - name: shared-logs
          mountPath: /var/log/app
      - name: log-shipper
        image: fluent/fluent-bit:latest
        volumeMounts:
        - name: shared-logs
          mountPath: /var/log/app
        - name: fluent-bit-config
          mountPath: /fluent-bit/etc
      volumes:
      - name: log-config
        configMap:
          name: app-logging-config
      - name: shared-logs
        emptyDir: {}
      - name: fluent-bit-config
        configMap:
          name: fluent-bit-config


3. Distributed Tracing with Jaeger

# Deployment with tracing enabled
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-traced
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
      annotations:
        sidecar.jaegertracing.io/inject: &quot;true&quot;
    spec:
      containers:
      - name: my-app
        image: my-app:v2
        env:
        - name: JAEGER_AGENT_HOST
          value: &quot;jaeger-agent.monitoring.svc.cluster.local&quot;
        - name: JAEGER_AGENT_PORT
          value: &quot;6831&quot;
        - name: JAEGER_SAMPLER_TYPE
          value: &quot;probabilistic&quot;
        - name: JAEGER_SAMPLER_PARAM
          value: &quot;0.1&quot;




Example Prometheus Queries

# Success rate of HTTP requests
sum(rate(http_requests_total{status=~&quot;2..&quot;}[5m])) / sum(rate(http_requests_total[5m]))

# Error rate change after deployment
sum(rate(http_requests_total{status=~&quot;5..&quot;}[5m])) / sum(rate(http_requests_total[5m]))

# Response time percentiles
histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))

# Container restarts during deployment
sum(changes(container_start_time_seconds[1h])) by (pod)

# Deployment success rate
sum(rate(kube_deployment_status_replicas_updated[5m])) / sum(rate(kube_deployment_spec_replicas[5m]))

# Pod readiness during rollout
sum(kube_pod_status_ready{condition=&quot;true&quot;}) by (deployment)

# Memory usage trend
avg(container_memory_usage_bytes{container=&quot;my-app&quot;}) by (pod)

# CPU throttling detection
sum(rate(container_cpu_cfs_throttled_seconds_total[5m])) by (pod)


Advanced Alerting Rules





Visualizing Deployments


  
    gantt
      title Deployment Timeline
      dateFormat  YYYY-MM-DD HH:mm
      axisFormat %H:%M
      
      section Deployment
      Deployment Starts       :a1, 2023-01-01 12:00, 2m
      First Pods Updated      :a2, after a1, 3m
      50% Complete           :a3, after a2, 5m
      Deployment Complete    :a4, after a3, 2m
      
      section Metrics
      Baseline Metrics       :b1, 2023-01-01 11:55, 5m
      Canary Metrics         :b2, 2023-01-01 12:02, 8m
      Full Deployment Metrics :b3, after a4, 10m
      
      section Validation
      Automated Tests        :c1, after a1, 10m
      Manual Validation      :c2, after a4, 15m
      Decision to Keep/Rollback  :milestone, after c2, 0m
  




Conclusion and Strategy Selection

The choice of deployment strategy depends on your specific requirements, with tradeoffs between simplicity, downtime, resource usage, and risk.


  
    graph LR
      A[Deployment Strategy Selection] --&amp;gt; B[Application Requirements]
      A --&amp;gt; C[Infrastructure Capabilities]
      A --&amp;gt; D[Team Experience]
      A --&amp;gt; E[Business Constraints]
      
      B --&amp;gt; F[Availability Requirements]
      B --&amp;gt; G[Version Compatibility]
      B --&amp;gt; H[Resource Requirements]
      
      C --&amp;gt; I[Kubernetes Version]
      C --&amp;gt; J[Available Tools]
      C --&amp;gt; K[Cluster Capacity]
      
      D --&amp;gt; L[Operations Experience]
      D --&amp;gt; M[Monitoring Capabilities]
      
      E --&amp;gt; N[Risk Tolerance]
      E --&amp;gt; O[User Impact]
      
      F &amp;amp; G &amp;amp; H &amp;amp; I &amp;amp; J &amp;amp; K &amp;amp; L &amp;amp; M &amp;amp; N &amp;amp; O --&amp;gt; P[Strategy Decision]
      
      style P fill:#f9f,stroke:#333,stroke-width:4px
  




Quick Strategy Selection Guide

Use this decision matrix to quickly choose the appropriate deployment strategy:


  
    
      Scenario
      Recommended Strategy
      Reasoning
    
    
      Development environment
      Recreate
      Simple, fast, downtime acceptable
    
    
      Small web application
      RollingUpdate
      Built-in, minimal downtime, resource efficient
    
    
      Mission-critical e-commerce
      Blue/Green
      Zero downtime, instant rollback capability
    
    
      Machine learning model
      Canary
      Gradual validation with real data, A/B testing
    
    
      Database schema change
      Blue/Green + Migration
      Safe data migration, immediate rollback
    
    
      Microservice with dependencies
      Canary + Circuit Breaker
      Gradual rollout, dependency isolation
    
  




Deployment Automation and CI/CD Integration

GitLab CI/CD Pipeline Example

# .gitlab-ci.yml
stages:
  - build
  - test
  - security
  - deploy-staging
  - deploy-canary
  - deploy-production

variables:
  DOCKER_REGISTRY: &quot;registry.gitlab.com&quot;
  KUBERNETES_NAMESPACE: &quot;production&quot;

build:
  stage: build
  script:
    - docker build -t $DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA .
    - docker push $DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA

security-scan:
  stage: security
  script:
    - trivy image $DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA

deploy-staging:
  stage: deploy-staging
  script:
    - kubectl set image deployment/my-app my-app=$DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA -n staging
    - kubectl rollout status deployment/my-app -n staging --timeout=300s
  environment:
    name: staging
    url: https://staging.myapp.com

deploy-canary:
  stage: deploy-canary
  script:
    - |
      cat &amp;lt;&amp;lt;EOF | kubectl apply -f -
      apiVersion: apps/v1
      kind: Deployment
      metadata:
        name: my-app-canary
        namespace: $KUBERNETES_NAMESPACE
      spec:
        replicas: 1
        selector:
          matchLabels:
            app: my-app
            track: canary
        template:
          metadata:
            labels:
              app: my-app
              track: canary
          spec:
            containers:
            - name: my-app
              image: $DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA
      EOF
    - kubectl rollout status deployment/my-app-canary -n $KUBERNETES_NAMESPACE
  when: manual
  only:
    - main

deploy-production:
  stage: deploy-production
  script:
    - kubectl set image deployment/my-app my-app=$DOCKER_REGISTRY/$CI_PROJECT_PATH:$CI_COMMIT_SHA -n $KUBERNETES_NAMESPACE
    - kubectl rollout status deployment/my-app -n $KUBERNETES_NAMESPACE --timeout=600s
  when: manual
  only:
    - main
  environment:
    name: production
    url: https://myapp.com


Helm-based Deployment Strategy

# values.yaml for different environments
# values-staging.yaml
replicaCount: 2
image:
  repository: my-app
  tag: latest
strategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1
    maxSurge: 1

# values-production.yaml
replicaCount: 5
image:
  repository: my-app
  tag: stable
strategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1
    maxSurge: 2

# Canary values
canary:
  enabled: true
  weight: 10
  analysis:
    successRate: 95
    interval: 30s
    threshold: 5


Argo CD Application Configuration

apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: my-app
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://github.com/my-org/my-app
    targetRevision: HEAD
    path: k8s/overlays/production
  destination:
    server: https://kubernetes.default.svc
    namespace: production
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
    - CreateNamespace=true
    retry:
      limit: 5
      backoff:
        duration: 5s
        factor: 2
        maxDuration: 3m




Final Recommendations

Based on industry best practices and real-world experience:


  Strategic Recommendations
  
  For Startups &amp;amp; Small Teams:
  
    Start with RollingUpdate for simplicity
    Implement proper health checks early
    Use managed Kubernetes services (EKS, GKE, AKS)
    Focus on monitoring and alerting
  
  
  For Enterprise Applications:
  
    Implement Blue/Green for critical services
    Use Canary for new features and ML models
    Invest in comprehensive observability stack
    Establish deployment governance and approval processes
  
  
  For High-Scale Applications:
  
    Combine multiple strategies based on service criticality
    Implement automated rollback based on SLI violations
    Use progressive delivery tools (Argo Rollouts, Flagger)
    Maintain deployment velocity with safety guardrails
  


Remember: The best deployment strategy is the one that balances your risk tolerance, operational complexity, and business requirements while maintaining the ability to deliver features quickly and safely.





References


  Kubernetes Official Documentation - Deployments
  Kubernetes Official Documentation - Container Probes
  Spacelift Deployment Strategies
  Argo Rollouts Documentation
  Istio Traffic Management
  Flagger - Progressive Delivery Operator
  CNCF Landscape - Continuous Delivery
  Prometheus Operator Documentation
  Jaeger Tracing Documentation
  Helm Best Practices
  GitOps Working Group
  DevOps Engineer Wiki


Additional Resources

Tools and Platforms

  Progressive Delivery: Argo Rollouts, Flagger, Keptn
  Service Mesh: Istio, Linkerd, Consul Connect
  Monitoring: Prometheus, Grafana, Datadog
  CI/CD: GitLab CI, GitHub Actions, Jenkins X


Learning Resources

  Kubernetes Academy
  CNCF Training
  Google Cloud Kubernetes Engine Best Practices
  AWS EKS Workshop
  Azure Kubernetes Service Learning Path

",
            "wordcount": "5356",
            "inLanguage": "en",
            "dateCreated": "2025-03-13/",
            "datePublished": "2025-03-13/",
            "dateModified": "2025-03-13/",
            "author": {
                "@type": "Person",
                "name": "Somaz",
                
                "image": "/assets/img/uploads/profile.png",
                
                "jobTitle": "DevOps Engineer",
                "url": "https://somaz.blog/authors/somaz/",
                "sameAs": [
                    "https://github.com/somaz94","https://www.linkedin.com/in/somaz"
                ]
            },
            "publisher": {
                "@type": "Organization",
                "name": "somaz",
                "url": "https://somaz.blog/",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://somaz.blog/assets/img/blog-image.png",
                    "width": "600",
                    "height": "315"
                }
            },
            "mainEntityOfPage": "True",
            "genre": "KUBERNETES",
            "articleSection": "KUBERNETES",
            "keywords": ["kubernetes","deployment","strategies","rolling-update","canary","blue-green"]
        }
        </script>
    </body>
</html>
