<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    

    
    

    
    

    
    

    <!-- ✅ Google Tag Manager 추가 -->
    <script>
        (function(w,d,s,l,i){
            w[l]=w[l]||[];
            w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
            var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
            j.async=true;
            j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
            f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MBP83N4Q');
    </script>
      <!-- ✅ End Google Tag Manager -->

    <!-- Mermaid.js 직접 로드 -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

    <title>GCP Load Balancer Complete Comparison Guide | somaz</title>
    <meta name="description" content="Complete guide to Google Cloud Platform load balancers including HTTP(S), Network, and Internal Load Balancers with Terraform examples and GKE integration">
    
        <meta name="keywords" content="gcp, load-balancer, kubernetes, networking, terraform, gke, ssl, cdn">
    

    <!-- Social: Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="GCP Load Balancer Complete Comparison Guide | somaz">
    <meta name="twitter:description" content="Complete guide to Google Cloud Platform load balancers including HTTP(S), Network, and Internal Load Balancers with Terraform examples and GKE integration">

    
        <meta property="twitter:image" content="https://res.cloudinary.com/dkcm26aem/image/upload/v1767686138/gcp-loadbalancer-1_mih9pb.png">
    
    
    
        <meta name="twitter:site" content="@twitter_username">
    

    <!-- Social: Facebook / Open Graph -->
    <meta property="og:url" content="https://somaz.blog/category/gcp/gcp-loadbalancer/">
    <meta property="og:title" content="GCP Load Balancer Complete Comparison Guide | somaz">
    <meta property="og:image" content="https://res.cloudinary.com/dkcm26aem/image/upload/v1767686138/gcp-loadbalancer-1_mih9pb.png">
    <meta property="og:description" content="Complete guide to Google Cloud Platform load balancers including HTTP(S), Network, and Internal Load Balancers with Terraform examples and GKE integration">
    <meta property="og:site_name" content="Somaz Tech Blog">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/assets/img/icons/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/icons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/icons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/icons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/icons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/icons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/icons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/icons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/icons/apple-touch-icon-152x152.png" />

    <!-- Windows 8 Tile Icons -->
    <meta name="application-name" content="somaz">
    <meta name="msapplication-TileColor" content="#141414">
    <meta name="msapplication-square70x70logo" content="smalltile.png" />
    <meta name="msapplication-square150x150logo" content="mediumtile.png" />
    <meta name="msapplication-wide310x150logo" content="widetile.png" />
    <meta name="msapplication-square310x310logo" content="largetile.png" />
    
    <!-- Android Lolipop Theme Color -->
    <meta name="theme-color" content="#141414">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="canonical" href="https://somaz.blog/category/gcp/gcp-loadbalancer/">
    <link rel="alternate" type="application/rss+xml" title="Somaz Tech Blog" href="https://somaz.blog/feed.xml" />

    <!-- Include extra styles -->
    

    <!-- JavaScript enabled/disabled -->
    <script>
        document.querySelector('html').classList.remove('no-js');
    </script>

    <!-- Google Adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8725590811736154"
        crossorigin="anonymous"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/variable/woff2/SUIT-Variable.css" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:wght@400;500;700&display=swap" rel="stylesheet"> -->

    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />

</head>
<!-- ✅ Google Tag Manager (noscript) -->
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MBP83N4Q"
            height="0" width="0" style="display:none;visibility:hidden">
    </iframe>
</noscript>
<!-- ✅ End Google Tag Manager (noscript) -->
    <body class="has-push-menu">
        





        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" display="none" version="1.1"><defs><symbol id="icon-menu" viewBox="0 0 1024 1024"><path class="path1" d="M128 213.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 725.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 469.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5z"/></symbol><symbol id="icon-search" viewBox="0 0 951 1024"><path class="path1" d="M658.286 475.429q0-105.714-75.143-180.857t-180.857-75.143-180.857 75.143-75.143 180.857 75.143 180.857 180.857 75.143 180.857-75.143 75.143-180.857zM950.857 950.857q0 29.714-21.714 51.429t-51.429 21.714q-30.857 0-51.429-21.714l-196-195.429q-102.286 70.857-228 70.857-81.714 0-156.286-31.714t-128.571-85.714-85.714-128.571-31.714-156.286 31.714-156.286 85.714-128.571 128.571-85.714 156.286-31.714 156.286 31.714 128.571 85.714 85.714 128.571 31.714 156.286q0 125.714-70.857 228l196 196q21.143 21.143 21.143 51.429z"/></symbol><symbol id="icon-close" viewBox="0 0 1000 1000"><path d="M969.8,870.3c27,27.7,27,71.8,0,99.1C955.7,983,937.9,990,920,990c-17.9,0-35.7-7-49.7-20.7L500,599L129.6,969.4C115.6,983,97.8,990,79.9,990s-35.7-7-49.7-20.7c-27-27.3-27-71.4,0-99.1L400.9,500L30.3,129.3c-27-27.3-27-71.4,0-99.1c27.3-27,71.8-27,99.4,0L500,400.9L870.4,30.2c27.7-27,71.8-27,99.4,0c27,27.7,27,71.8,0,99.1L599.1,500L969.8,870.3z"/></symbol><symbol id="icon-twitter" viewBox="0 0 951 1024"><path class="path1" d="M925.714 233.143q-38.286 56-92.571 95.429 0.571 8 0.571 24 0 74.286-21.714 148.286t-66 142-105.429 120.286-147.429 83.429-184.571 31.143q-154.857 0-283.429-82.857 20 2.286 44.571 2.286 128.571 0 229.143-78.857-60-1.143-107.429-36.857t-65.143-91.143q18.857 2.857 34.857 2.857 24.571 0 48.571-6.286-64-13.143-106-63.714t-42-117.429v-2.286q38.857 21.714 83.429 23.429-37.714-25.143-60-65.714t-22.286-88q0-50.286 25.143-93.143 69.143 85.143 168.286 136.286t212.286 56.857q-4.571-21.714-4.571-42.286 0-76.571 54-130.571t130.571-54q80 0 134.857 58.286 62.286-12 117.143-44.571-21.143 65.714-81.143 101.714 53.143-5.714 106.286-28.571z"/></symbol><symbol id="icon-facebook" viewBox="0 0 585 1024"><path class="path1" d="M548 6.857v150.857h-89.714q-49.143 0-66.286 20.571t-17.143 61.714v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571q0-106.286 59.429-164.857t158.286-58.571q84 0 130.286 6.857z"/></symbol><symbol id="icon-clock" viewBox="0 0 1000 1000"><path d="M500,10C229.8,10,10,229.8,10,500c0,270.2,219.8,490,490,490c270.2,0,490-219.8,490-490C990,229.8,770.2,10,500,10z M500,910.2c-226.2,0-410.2-184-410.2-410.2c0-226.2,184-410.2,410.2-410.2c226.2,0,410.2,184,410.2,410.2C910.2,726.1,726.2,910.2,500,910.2z M753.1,374c8.2,11.9,5.2,28.1-6.6,36.3L509.9,573.7c-4.4,3.1-9.6,4.6-14.8,4.6c-4.1,0-8.3-1-12.1-3c-8.6-4.5-14-13.4-14-23.1V202.5c0-14.4,11.7-26.1,26.1-26.1c14.4,0,26.1,11.7,26.1,26.1v300l195.6-135.1C728.7,359.2,744.9,362.1,753.1,374z"/></symbol><symbol id="icon-calendar" viewBox="0 0 1000 1000"><path d="M920,500v420H80V500H920 M990,430H10v490c0,38.7,31.3,70,70,70h840c38.7,0,70-31.3,70-70V430L990,430z"/><path d="M850,80v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80H360v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80C72.8,80,10,142.7,10,220v140h980V220C990,142.7,927.2,80,850,80z"/><path d="M255,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C290,25.8,274.3,10,255,10z"/><path d="M745,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C780,25.8,764.3,10,745,10z"/></symbol><symbol id="icon-github" viewBox="0 0 12 14"><path d="M6 1q1.633 0 3.012 0.805t2.184 2.184 0.805 3.012q0 1.961-1.145 3.527t-2.957 2.168q-0.211 0.039-0.312-0.055t-0.102-0.234q0-0.023 0.004-0.598t0.004-1.051q0-0.758-0.406-1.109 0.445-0.047 0.801-0.141t0.734-0.305 0.633-0.52 0.414-0.82 0.16-1.176q0-0.93-0.617-1.609 0.289-0.711-0.062-1.594-0.219-0.070-0.633 0.086t-0.719 0.344l-0.297 0.187q-0.727-0.203-1.5-0.203t-1.5 0.203q-0.125-0.086-0.332-0.211t-0.652-0.301-0.664-0.105q-0.352 0.883-0.062 1.594-0.617 0.68-0.617 1.609 0 0.664 0.16 1.172t0.41 0.82 0.629 0.523 0.734 0.305 0.801 0.141q-0.305 0.281-0.383 0.805-0.164 0.078-0.352 0.117t-0.445 0.039-0.512-0.168-0.434-0.488q-0.148-0.25-0.379-0.406t-0.387-0.187l-0.156-0.023q-0.164 0-0.227 0.035t-0.039 0.090 0.070 0.109 0.102 0.094l0.055 0.039q0.172 0.078 0.34 0.297t0.246 0.398l0.078 0.18q0.102 0.297 0.344 0.48t0.523 0.234 0.543 0.055 0.434-0.027l0.18-0.031q0 0.297 0.004 0.691t0.004 0.426q0 0.141-0.102 0.234t-0.312 0.055q-1.812-0.602-2.957-2.168t-1.145-3.527q0-1.633 0.805-3.012t2.184-2.184 3.012-0.805zM2.273 9.617q0.023-0.055-0.055-0.094-0.078-0.023-0.102 0.016-0.023 0.055 0.055 0.094 0.070 0.047 0.102-0.016zM2.516 9.883q0.055-0.039-0.016-0.125-0.078-0.070-0.125-0.023-0.055 0.039 0.016 0.125 0.078 0.078 0.125 0.023zM2.75 10.234q0.070-0.055 0-0.148-0.062-0.102-0.133-0.047-0.070 0.039 0 0.141t0.133 0.055zM3.078 10.562q0.062-0.062-0.031-0.148-0.094-0.094-0.156-0.023-0.070 0.062 0.031 0.148 0.094 0.094 0.156 0.023zM3.523 10.758q0.023-0.086-0.102-0.125-0.117-0.031-0.148 0.055t0.102 0.117q0.117 0.047 0.148-0.047zM4.016 10.797q0-0.102-0.133-0.086-0.125 0-0.125 0.086 0 0.102 0.133 0.086 0.125 0 0.125-0.086zM4.469 10.719q-0.016-0.086-0.141-0.070-0.125 0.023-0.109 0.117t0.141 0.062 0.109-0.109z"></path></symbol><symbol id="icon-medium" viewBox="0 0 1000 1000"><path d="M336.5,240.2v641.5c0,9.1-2.3,16.9-6.8,23.2s-11.2,9.6-20,9.6c-6.2,0-12.2-1.5-18-4.4L37.3,782.7c-7.7-3.6-14.1-9.8-19.4-18.3S10,747.4,10,739V115.5c0-7.3,1.8-13.5,5.5-18.6c3.6-5.1,8.9-7.7,15.9-7.7c5.1,0,13.1,2.7,24.1,8.2l279.5,140C335.9,238.6,336.5,239.5,336.5,240.2L336.5,240.2z M371.5,295.5l292,473.6l-292-145.5V295.5z M990,305.3v576.4c0,9.1-2.6,16.5-7.7,22.1c-5.1,5.7-12,8.5-20.8,8.5s-17.3-2.4-25.7-7.1L694.7,784.9L990,305.3z M988.4,239.7c0,1.1-46.8,77.6-140.3,229.4C754.6,621,699.8,709.8,683.8,735.7L470.5,389l177.2-288.2c6.2-10.2,15.7-15.3,28.4-15.3c5.1,0,9.8,1.1,14.2,3.3l295.9,147.7C987.6,237.1,988.4,238.2,988.4,239.7L988.4,239.7z"/></symbol><symbol id="icon-instagram" viewBox="0 0 489.84 489.84"><path d="M249.62,50.46c65.4,0,73.14.25,99,1.43C372.47,53,385.44,57,394.07,60.32a75.88,75.88,0,0,1,28.16,18.32,75.88,75.88,0,0,1,18.32,28.16c3.35,8.63,7.34,21.6,8.43,45.48,1.18,25.83,1.43,33.57,1.43,99s-0.25,73.14-1.43,99c-1.09,23.88-5.08,36.85-8.43,45.48a81.11,81.11,0,0,1-46.48,46.48c-8.63,3.35-21.6,7.34-45.48,8.43-25.82,1.18-33.57,1.43-99,1.43s-73.15-.25-99-1.43c-23.88-1.09-36.85-5.08-45.48-8.43A75.88,75.88,0,0,1,77,423.86,75.88,75.88,0,0,1,58.69,395.7c-3.35-8.63-7.34-21.6-8.43-45.48-1.18-25.83-1.43-33.57-1.43-99s0.25-73.14,1.43-99c1.09-23.88,5.08-36.85,8.43-45.48A75.88,75.88,0,0,1,77,78.64a75.88,75.88,0,0,1,28.16-18.32c8.63-3.35,21.6-7.34,45.48-8.43,25.83-1.18,33.57-1.43,99-1.43m0-44.13c-66.52,0-74.86.28-101,1.47s-43.87,5.33-59.45,11.38A120.06,120.06,0,0,0,45.81,47.44,120.06,120.06,0,0,0,17.56,90.82C11.5,106.4,7.36,124.2,6.17,150.27s-1.47,34.46-1.47,101,0.28,74.86,1.47,101,5.33,43.87,11.38,59.45a120.06,120.06,0,0,0,28.25,43.38,120.06,120.06,0,0,0,43.38,28.25c15.58,6.05,33.38,10.19,59.45,11.38s34.46,1.47,101,1.47,74.86-.28,101-1.47,43.87-5.33,59.45-11.38a125.24,125.24,0,0,0,71.63-71.63c6.05-15.58,10.19-33.38,11.38-59.45s1.47-34.46,1.47-101-0.28-74.86-1.47-101-5.33-43.87-11.38-59.45a120.06,120.06,0,0,0-28.25-43.38,120.06,120.06,0,0,0-43.38-28.25C394.47,13.13,376.67,9,350.6,7.8s-34.46-1.47-101-1.47h0Z" transform="translate(-4.7 -6.33)" /><path d="M249.62,125.48A125.77,125.77,0,1,0,375.39,251.25,125.77,125.77,0,0,0,249.62,125.48Zm0,207.41a81.64,81.64,0,1,1,81.64-81.64A81.64,81.64,0,0,1,249.62,332.89Z" transform="translate(-4.7 -6.33)"/><circle cx="375.66" cy="114.18" r="29.39" /></symbol><symbol id="icon-linkedin" viewBox="0 0 12 14"><path d="M2.727 4.883v7.742h-2.578v-7.742h2.578zM2.891 2.492q0.008 0.57-0.395 0.953t-1.059 0.383h-0.016q-0.641 0-1.031-0.383t-0.391-0.953q0-0.578 0.402-0.957t1.051-0.379 1.039 0.379 0.398 0.957zM12 8.187v4.437h-2.57v-4.141q0-0.82-0.316-1.285t-0.988-0.465q-0.492 0-0.824 0.27t-0.496 0.668q-0.086 0.234-0.086 0.633v4.32h-2.57q0.016-3.117 0.016-5.055t-0.008-2.313l-0.008-0.375h2.57v1.125h-0.016q0.156-0.25 0.32-0.438t0.441-0.406 0.68-0.34 0.895-0.121q1.336 0 2.148 0.887t0.813 2.598z"></path></symbol><symbol id="icon-heart" viewBox="0 0 34 30"><path d="M17,29.7 L16.4,29.2 C3.5,18.7 0,15 0,9 C0,4 4,0 9,0 C13.1,0 15.4,2.3 17,4.1 C18.6,2.3 20.9,0 25,0 C30,0 34,4 34,9 C34,15 30.5,18.7 17.6,29.2 L17,29.7 Z M9,2 C5.1,2 2,5.1 2,9 C2,14.1 5.2,17.5 17,27.1 C28.8,17.5 32,14.1 32,9 C32,5.1 28.9,2 25,2 C21.5,2 19.6,4.1 18.1,5.8 L17,7.1 L15.9,5.8 C14.4,4.1 12.5,2 9,2 Z" id="Shape"></path></symbol><symbol id="icon-arrow-right" viewBox="0 0 25.452 25.452"><path d="M4.471,24.929v-2.004l12.409-9.788c0.122-0.101,0.195-0.251,0.195-0.411c0-0.156-0.073-0.31-0.195-0.409L4.471,2.526V0.522c0-0.2,0.115-0.384,0.293-0.469c0.18-0.087,0.396-0.066,0.552,0.061l15.47,12.202c0.123,0.1,0.195,0.253,0.195,0.409c0,0.16-0.072,0.311-0.195,0.411L5.316,25.34c-0.155,0.125-0.372,0.147-0.552,0.061C4.586,25.315,4.471,25.13,4.471,24.929z"/></symbol><symbol id="icon-star" viewBox="0 0 48 48"><path fill="currentColor" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"/><path fill="#ffffff" d="M24,11l3.898,7.898l8.703,1.301l-6.301,6.102l1.5,8.699L24,30.898L16.199,35l1.5-8.699l-6.301-6.102  l8.703-1.301L24,11z"/></symbol><symbol id="icon-read" viewBox="0 0 32 32"><path fill="currentColor" d="M29,4H3C1.343,4,0,5.343,0,7v18c0,1.657,1.343,3,3,3h10c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1h10  c1.657,0,3-1.343,3-3V7C32,5.343,30.657,4,29,4z M29,5v20H18.708c-0.618,0-1.236,0.146-1.789,0.422l-0.419,0.21V5H29z M15.5,5  v20.632l-0.419-0.21C14.528,25.146,13.91,25,13.292,25H3V5H15.5z M31,25c0,1.103-0.897,2-2,2H18v1h-4v-1H3c-1.103,0-2-0.897-2-2V7  c0-0.737,0.405-1.375,1-1.722V25c0,0.552,0.448,1,1,1h10.292c0.466,0,0.925,0.108,1.342,0.317l0.919,0.46  c0.141,0.07,0.294,0.106,0.447,0.106c0.153,0,0.306-0.035,0.447-0.106l0.919-0.46C17.783,26.108,18.242,26,18.708,26H29  c0.552,0,1-0.448,1-1V5.278C30.595,5.625,31,6.263,31,7V25z M6,12.5C6,12.224,6.224,12,6.5,12h5c0.276,0,0.5,0.224,0.5,0.5  S11.776,13,11.5,13h-5C6.224,13,6,12.776,6,12.5z M6,14.5C6,14.224,6.224,14,6.5,14h5c0.276,0,0.5,0.224,0.5,0.5S11.776,15,11.5,15  h-5C6.224,15,6,14.776,6,14.5z M6,16.5C6,16.224,6.224,16,6.5,16h5c0.276,0,0.5,0.224,0.5,0.5S11.776,17,11.5,17h-5  C6.224,17,6,16.776,6,16.5z M20,12.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,13,25.5,13h-5  C20.224,13,20,12.776,20,12.5z M20,14.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,15,25.5,15h-5  C20.224,15,20,14.776,20,14.5z M20,16.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,17,25.5,17h-5  C20.224,17,20,16.776,20,16.5z"></path></symbol><symbol id="icon-tistory" viewBox="0 0 24 24"><path d="M4 4h16v3h-6v13h-4V7H4V4z"/></symbol></defs></svg>

        <header class="bar-header">
    <a id="menu" role="button">
        <svg id="open" class="icon-menu"><use xlink:href="#icon-menu"></use></svg>
    </a>
    <h1 class="logo">
        <a href="/">
            
                somaz <span class="version">v3.1.2</span>
            
        </a>
    </h1>
    <a id="search" class="dosearch" role="button">
        <svg class="icon-search"><use xlink:href="#icon-search"></use></svg>
    </a>
    
        <a href="https://github.com/thiagorossener/jekflix-template" class="get-theme" role="button">
            Get this theme!
        </a>
    
</header>

<div id="mask" class="overlay"></div>

<aside class="sidebar" id="sidebar">
    <nav id="navigation">
      <h2>Menu</h2>
      <ul>
  
    
      <li>
        <a href="https://somaz.blog/">Home</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/about">About</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/category">Category</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/contact">Contact</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/feed.xml">Feed</a>
      </li>
    
  
</ul>

    </nav>
</aside>

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search">
        <svg class="icon-remove-sign"><use xlink:href="#icon-close"></use></svg>
        <ul class="search-results search-list"></ul>
    </div>
</div>



        <section class="post two-columns">
            <article role="article" class="post-content">
                <p class="post-info">
                    
                        <svg class="icon-calendar" id="date"><use xlink:href="#icon-calendar"></use></svg>
                        <time class="date" datetime="2026-02-14T00:00:00+00:00">
                            


February 14, 2026

                        </time>
                    
                    <svg id="clock" class="icon-clock"><use xlink:href="#icon-clock"></use></svg>
                    <span>31 min to read</span>
                </p>
                <h1 class="post-title">GCP Load Balancer Complete Comparison Guide</h1>
                <p class="post-subtitle">Master GCP's load balancing solutions with comprehensive analysis and practical implementation</p>

                
                    <img src="https://res.cloudinary.com/dkcm26aem/image/upload/v1767686138/gcp-loadbalancer-1_mih9pb.png" alt="Featured image" class="post-cover">
                

                <!-- Pagination links -->



                <!-- Add your table of contents here -->


                <p><br /></p>

<hr />

<h2 id="overview">Overview</h2>

<p>Google Cloud Platform offers a comprehensive suite of load balancing solutions designed to meet diverse application requirements and architectural patterns. From global HTTP(S) load balancing to regional TCP/UDP load balancing, GCP provides the flexibility and performance needed for modern cloud-native applications.</p>

<p>Load balancers serve as the critical entry point for user traffic, ensuring high availability, optimal performance, and seamless scaling. Understanding the nuances of each GCP load balancer type enables architects and engineers to make informed decisions that directly impact application performance, cost efficiency, and operational complexity.</p>

<p>Recent developments in GCP’s load balancing ecosystem have significantly enhanced SSL certificate management capabilities. The introduction of Certificate Manager allows for sophisticated multi-domain certificate handling, while improvements to Cloud CDN integration provide superior content delivery performance.</p>

<p><br /></p>

<h3 id="why-load-balancer-selection-matters">Why Load Balancer Selection Matters</h3>

<p>The choice of load balancer fundamentally shapes your application’s architecture, performance characteristics, and operational overhead. Different load balancer types serve distinct use cases, and selecting the appropriate solution requires understanding traffic patterns, geographic distribution, protocol requirements, and security considerations.</p>

<p>Modern applications demand load balancing solutions that can handle varying traffic loads, provide SSL termination, integrate with content delivery networks, and support advanced routing capabilities. GCP’s load balancing portfolio addresses these requirements while offering seamless integration with other Google Cloud services.</p>

<p><br /></p>

<hr />

<h2 id="gcp-load-balancer-architecture-overview">GCP Load Balancer Architecture Overview</h2>

<p>GCP load balancers operate at different layers of the OSI model, providing distinct capabilities and performance characteristics:</p>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
      graph TB
          subgraph "GCP Load Balancer Ecosystem"
              subgraph "Layer 7 (Application)"
                  A[HTTP/S Load Balancer]
                  B[Internal HTTP/S Load Balancer]
              end
              
              subgraph "Layer 4 (Transport)"
                  C[Network Load Balancer]
                  D[Internal TCP/UDP Load Balancer]
              end
              
              subgraph "Global Services"
                  E[Cloud CDN]
                  F[Cloud Armor]
                  G[SSL Certificates]
              end
              
              subgraph "Regional Services"
                  H[Backend Services]
                  I[Health Checks]
                  J[Instance Groups]
              end
              
              A --&gt; E
              A --&gt; F
              A --&gt; G
              B --&gt; H
              C --&gt; I
              D --&gt; J
          end
          
          style A fill:#4285f4,color:#fff
          style C fill:#34a853,color:#fff
          style E fill:#ea4335,color:#fff
  </div>
</div>

<p><br /></p>

<h3 id="load-balancer-comparison-matrix">Load Balancer Comparison Matrix</h3>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Load Balancer Type</th>
      <th>OSI Layer</th>
      <th>Scope</th>
      <th>Protocol Support</th>
      <th>SSL Termination</th>
      <th>Best Use Cases</th>
    </tr>
    <tr>
      <td>HTTP(S) Load Balancer</td>
      <td>Layer 7</td>
      <td>Global</td>
      <td>HTTP, HTTPS</td>
      <td>Yes</td>
      <td>Web applications, APIs, microservices</td>
    </tr>
    <tr>
      <td>Network Load Balancer</td>
      <td>Layer 4</td>
      <td>Regional</td>
      <td>TCP, UDP, ESP, GRE, ICMP</td>
      <td>No</td>
      <td>Gaming, IoT, real-time applications</td>
    </tr>
    <tr>
      <td>Internal HTTP(S) Load Balancer</td>
      <td>Layer 7</td>
      <td>Regional</td>
      <td>HTTP, HTTPS</td>
      <td>Yes</td>
      <td>Internal microservices, private APIs</td>
    </tr>
    <tr>
      <td>Internal TCP/UDP Load Balancer</td>
      <td>Layer 4</td>
      <td>Regional</td>
      <td>TCP, UDP</td>
      <td>No</td>
      <td>Database connections, internal services</td>
    </tr>
  </table>
</div>

<p><br /></p>

<hr />

<h2 id="https-load-balancer-deep-dive">HTTP(S) Load Balancer Deep Dive</h2>

<p>The HTTP(S) Load Balancer represents GCP’s most feature-rich and globally distributed load balancing solution. Operating at Layer 7, it provides intelligent traffic routing, SSL termination, and seamless integration with Cloud CDN.</p>

<p><br /></p>

<h3 id="key-capabilities-and-features">Key Capabilities and Features</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph LR
      subgraph "HTTP(S) Load Balancer Features"
        A[Global Anycast IP] --&gt; B[URL-based Routing]
        B --&gt; C[SSL Termination]
        C --&gt; D[Cloud CDN Integration]
        D --&gt; E[Cloud Armor Security]
        E --&gt; F[Backend Service Groups]
        F --&gt; G[Health Checks]
        G --&gt; H[Session Affinity]
      end
      
      style A fill:#4285f4,color:#fff
      style D fill:#34a853,color:#fff
      style E fill:#ea4335,color:#fff
  </div>
</div>

<h4 id="global-anycast-ip">Global Anycast IP</h4>
<p>The global anycast IP ensures users connect to the nearest Google edge location, minimizing latency and providing optimal performance regardless of geographic location.</p>

<h4 id="advanced-routing-capabilities">Advanced Routing Capabilities</h4>
<p>HTTP(S) Load Balancer supports sophisticated routing based on:</p>
<ul>
  <li>URL paths and patterns</li>
  <li>HTTP headers and cookies</li>
  <li>Geographic location</li>
  <li>Request methods</li>
  <li>Query parameters</li>
</ul>

<h4 id="ssl-certificate-management">SSL Certificate Management</h4>
<p>Multiple SSL certificate management options provide flexibility for different organizational needs and technical requirements.</p>

<p><br /></p>

<h3 id="ssl-certificate-management-strategies">SSL Certificate Management Strategies</h3>

<p><br /></p>

<h4 id="1-certificate-manager-recommended-for-multi-domain">1. Certificate Manager (Recommended for Multi-Domain)</h4>

<p>Certificate Manager provides the most advanced and flexible SSL certificate management capabilities:</p>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Certificate Manager with multiple domains</span>
<span class="nx">resource</span> <span class="s2">"google_certificate_manager_certificate"</span> <span class="s2">"multi_domain_cert"</span> <span class="p">{</span>
  <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"multi-domain-certificate"</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Certificate for multiple domains"</span>
  <span class="nx">scope</span>       <span class="p">=</span> <span class="s2">"DEFAULT"</span>

  <span class="nx">managed</span> <span class="p">{</span>
    <span class="nx">domains</span> <span class="p">=</span> <span class="p">[</span>
      <span class="s2">"example.com"</span><span class="p">,</span>
      <span class="s2">"www.example.com"</span><span class="p">,</span>
      <span class="s2">"api.example.com"</span><span class="p">,</span>
      <span class="s2">"admin.example.com"</span>
    <span class="p">]</span>
    <span class="nx">dns_authorizations</span> <span class="p">=</span> <span class="p">[</span>
      <span class="nx">google_certificate_manager_dns_authorization</span><span class="err">.</span><span class="nx">main</span><span class="err">.</span><span class="nx">id</span><span class="p">,</span>
      <span class="nx">google_certificate_manager_dns_authorization</span><span class="err">.</span><span class="nx">www</span><span class="err">.</span><span class="nx">id</span><span class="p">,</span>
      <span class="nx">google_certificate_manager_dns_authorization</span><span class="err">.</span><span class="nx">api</span><span class="err">.</span><span class="nx">id</span><span class="p">,</span>
      <span class="nx">google_certificate_manager_dns_authorization</span><span class="err">.</span><span class="nx">admin</span><span class="err">.</span><span class="nx">id</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># DNS authorizations for domain verification</span>
<span class="nx">resource</span> <span class="s2">"google_certificate_manager_dns_authorization"</span> <span class="s2">"main"</span> <span class="p">{</span>
  <span class="nx">name</span>   <span class="p">=</span> <span class="s2">"main-dns-auth"</span>
  <span class="nx">domain</span> <span class="p">=</span> <span class="s2">"example.com"</span>
<span class="p">}</span>

<span class="nx">resource</span> <span class="s2">"google_certificate_manager_dns_authorization"</span> <span class="s2">"www"</span> <span class="p">{</span>
  <span class="nx">name</span>   <span class="p">=</span> <span class="s2">"www-dns-auth"</span>
  <span class="nx">domain</span> <span class="p">=</span> <span class="s2">"www.example.com"</span>
<span class="p">}</span>

<span class="nx">resource</span> <span class="s2">"google_certificate_manager_dns_authorization"</span> <span class="s2">"api"</span> <span class="p">{</span>
  <span class="nx">name</span>   <span class="p">=</span> <span class="s2">"api-dns-auth"</span>
  <span class="nx">domain</span> <span class="p">=</span> <span class="s2">"api.example.com"</span>
<span class="p">}</span>

<span class="nx">resource</span> <span class="s2">"google_certificate_manager_dns_authorization"</span> <span class="s2">"admin"</span> <span class="p">{</span>
  <span class="nx">name</span>   <span class="p">=</span> <span class="s2">"admin-dns-auth"</span>
  <span class="nx">domain</span> <span class="p">=</span> <span class="s2">"admin.example.com"</span>
<span class="p">}</span>

<span class="c1"># Certificate Map for domain-specific routing</span>
<span class="nx">resource</span> <span class="s2">"google_certificate_manager_certificate_map"</span> <span class="s2">"domain_map"</span> <span class="p">{</span>
  <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"certificate-map"</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Certificate mapping for multiple domains"</span>
<span class="p">}</span>

<span class="nx">resource</span> <span class="s2">"google_certificate_manager_certificate_map_entry"</span> <span class="s2">"main_entry"</span> <span class="p">{</span>
  <span class="nx">name</span>         <span class="p">=</span> <span class="s2">"main-cert-entry"</span>
  <span class="nx">map</span>          <span class="p">=</span> <span class="nx">google_certificate_manager_certificate_map</span><span class="err">.</span><span class="nx">domain_map</span><span class="err">.</span><span class="nx">name</span>
  <span class="nx">certificates</span> <span class="p">=</span> <span class="p">[</span><span class="nx">google_certificate_manager_certificate</span><span class="err">.</span><span class="nx">multi_domain_cert</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>
  <span class="nx">hostname</span>     <span class="p">=</span> <span class="s2">"example.com"</span>
<span class="p">}</span>

<span class="nx">resource</span> <span class="s2">"google_certificate_manager_certificate_map_entry"</span> <span class="s2">"api_entry"</span> <span class="p">{</span>
  <span class="nx">name</span>         <span class="p">=</span> <span class="s2">"api-cert-entry"</span>
  <span class="nx">map</span>          <span class="p">=</span> <span class="nx">google_certificate_manager_certificate_map</span><span class="err">.</span><span class="nx">domain_map</span><span class="err">.</span><span class="nx">name</span>
  <span class="nx">certificates</span> <span class="p">=</span> <span class="p">[</span><span class="nx">google_certificate_manager_certificate</span><span class="err">.</span><span class="nx">multi_domain_cert</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>
  <span class="nx">hostname</span>     <span class="p">=</span> <span class="s2">"api.example.com"</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h4 id="2-compute-engine-managed-ssl-certificates">2. Compute Engine Managed SSL Certificates</h4>

<p>For simpler deployments managed through Terraform:</p>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">resource</span> <span class="s2">"google_compute_managed_ssl_certificate"</span> <span class="s2">"default"</span> <span class="p">{</span>
  <span class="nx">name</span> <span class="p">=</span> <span class="s2">"managed-ssl-cert"</span>
  
  <span class="nx">managed</span> <span class="p">{</span>
    <span class="nx">domains</span> <span class="p">=</span> <span class="p">[</span>
      <span class="s2">"example.com"</span><span class="p">,</span>
      <span class="s2">"www.example.com"</span><span class="p">,</span>
      <span class="s2">"api.example.com"</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h4 id="3-gke-managedcertificate-integration">3. GKE ManagedCertificate Integration</h4>

<p>For GKE environments using Kubernetes-native certificate management:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Separate certificates for each domain (GKE limitation)</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.gke.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ManagedCertificate</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">main-domain-cert</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">domains</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">example.com</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.gke.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ManagedCertificate</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">api-domain-cert</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">domains</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">api.example.com</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="ssl-certificate-management-comparison">SSL Certificate Management Comparison</h3>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Method</th>
      <th>Multi-Domain Support</th>
      <th>Management Interface</th>
      <th>Automation</th>
      <th>Best For</th>
    </tr>
    <tr>
      <td>Certificate Manager</td>
      <td>Yes (unified certificate)</td>
      <td>GCP Console + Terraform</td>
      <td>DNS-based automation</td>
      <td>Complex domain structures</td>
    </tr>
    <tr>
      <td>Compute Engine Managed SSL</td>
      <td>Yes (unified certificate)</td>
      <td>Terraform</td>
      <td>HTTP-based verification</td>
      <td>Compute Engine environments</td>
    </tr>
    <tr>
      <td>GKE ManagedCertificate</td>
      <td>One domain per certificate</td>
      <td>Kubernetes YAML</td>
      <td>HTTP-based verification</td>
      <td>Kubernetes-native deployments</td>
    </tr>
  </table>
</div>

<p><br /></p>

<hr />

<h2 id="network-load-balancer">Network Load Balancer</h2>

<p>Network Load Balancer operates at Layer 4, providing high-performance load balancing for TCP and UDP traffic with minimal latency overhead.</p>

<p><br /></p>

<h3 id="architecture-and-performance-characteristics">Architecture and Performance Characteristics</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph TB
      subgraph "Network Load Balancer Architecture"
        A[External IP] --&gt; B[Forwarding Rule]
        B --&gt; C[Target Pool / Backend Service]
        C --&gt; D[Health Check]
        D --&gt; E[Instance Group]
        E --&gt; F[Virtual Machines]
        
        subgraph "Protocol Support"
          G[TCP]
          H[UDP]
          I[ESP]
          J[GRE]
          K[ICMP]
        end
        
        C --&gt; G
        C --&gt; H
        C --&gt; I
        C --&gt; J
        C --&gt; K
      end
      
      style A fill:#34a853,color:#fff
      style F fill:#4285f4,color:#fff
  </div>
</div>

<p><br /></p>

<h3 id="key-features">Key Features</h3>

<h4 id="source-ip-preservation">Source IP Preservation</h4>
<p>Network Load Balancer preserves the original client IP address, enabling backend services to see the actual source of requests without additional headers or modifications.</p>

<h4 id="protocol-flexibility">Protocol Flexibility</h4>
<p>Support for multiple protocols makes Network Load Balancer ideal for:</p>
<ul>
  <li>Gaming servers requiring UDP</li>
  <li>VPN gateways using ESP</li>
  <li>Custom protocols over TCP</li>
  <li>IoT device communication</li>
</ul>

<h4 id="ultra-low-latency">Ultra-Low Latency</h4>
<p>Layer 4 operation minimizes processing overhead, providing sub-millisecond latency for time-sensitive applications.</p>

<p><br /></p>

<h3 id="terraform-configuration-example">Terraform Configuration Example</h3>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># External IP address</span>
<span class="nx">resource</span> <span class="s2">"google_compute_address"</span> <span class="s2">"network_lb_ip"</span> <span class="p">{</span>
  <span class="nx">name</span> <span class="p">=</span> <span class="s2">"network-lb-external-ip"</span>
<span class="p">}</span>

<span class="c1"># Health check for TCP service</span>
<span class="nx">resource</span> <span class="s2">"google_compute_health_check"</span> <span class="s2">"tcp_health_check"</span> <span class="p">{</span>
  <span class="nx">name</span>               <span class="p">=</span> <span class="s2">"tcp-health-check"</span>
  <span class="nx">check_interval_sec</span> <span class="p">=</span> <span class="mi">5</span>
  <span class="nx">timeout_sec</span>        <span class="p">=</span> <span class="mi">3</span>
  <span class="nx">healthy_threshold</span>  <span class="p">=</span> <span class="mi">2</span>
  <span class="nx">unhealthy_threshold</span> <span class="p">=</span> <span class="mi">3</span>

  <span class="nx">tcp_health_check</span> <span class="p">{</span>
    <span class="nx">port</span> <span class="p">=</span> <span class="s2">"8080"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Backend service</span>
<span class="nx">resource</span> <span class="s2">"google_compute_region_backend_service"</span> <span class="s2">"network_backend"</span> <span class="p">{</span>
  <span class="nx">name</span>                  <span class="p">=</span> <span class="s2">"network-backend-service"</span>
  <span class="nx">protocol</span>              <span class="p">=</span> <span class="s2">"TCP"</span>
  <span class="nx">load_balancing_scheme</span> <span class="p">=</span> <span class="s2">"EXTERNAL"</span>
  <span class="nx">health_checks</span>         <span class="p">=</span> <span class="p">[</span><span class="nx">google_compute_health_check</span><span class="err">.</span><span class="nx">tcp_health_check</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>

  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">backend_group</span><span class="err">.</span><span class="nx">id</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Forwarding rule</span>
<span class="nx">resource</span> <span class="s2">"google_compute_forwarding_rule"</span> <span class="s2">"network_lb_rule"</span> <span class="p">{</span>
  <span class="nx">name</span>                  <span class="p">=</span> <span class="s2">"network-lb-forwarding-rule"</span>
  <span class="nx">ip_address</span>            <span class="p">=</span> <span class="nx">google_compute_address</span><span class="err">.</span><span class="nx">network_lb_ip</span><span class="err">.</span><span class="nx">address</span>
  <span class="nx">port_range</span>            <span class="p">=</span> <span class="s2">"8080"</span>
  <span class="nx">backend_service</span>       <span class="p">=</span> <span class="nx">google_compute_region_backend_service</span><span class="err">.</span><span class="nx">network_backend</span><span class="err">.</span><span class="nx">id</span>
  <span class="nx">load_balancing_scheme</span> <span class="p">=</span> <span class="s2">"EXTERNAL"</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="internal-load-balancers">Internal Load Balancers</h2>

<p>Internal load balancers provide load balancing for traffic within your VPC network, enabling secure communication between internal services without exposure to the internet.</p>

<p><br /></p>

<h3 id="internal-https-load-balancer">Internal HTTP(S) Load Balancer</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph LR
      subgraph "Internal HTTP(S) Load Balancer"
        A[Client VMs] --&gt; B[Internal Load Balancer IP]
        B --&gt; C[URL Map]
        C --&gt; D[Backend Service 1]
        C --&gt; E[Backend Service 2]
        D --&gt; F[Microservice A]
        E --&gt; G[Microservice B]
        
        subgraph "Features"
          H[SSL Termination]
          I[Path-based Routing]
          J[Header-based Routing]
          K[Private IP Only]
        end
      end
      
      style B fill:#4285f4,color:#fff
      style F fill:#34a853,color:#fff
      style G fill:#34a853,color:#fff
  </div>
</div>

<p><br /></p>

<h4 id="use-cases-for-internal-https-load-balancer">Use Cases for Internal HTTP(S) Load Balancer</h4>

<ul>
  <li><strong>Microservices Architecture</strong>: Route requests between internal services based on URL paths</li>
  <li><strong>API Gateway Patterns</strong>: Centralize internal API access and routing</li>
  <li><strong>Multi-tier Applications</strong>: Load balance between application tiers</li>
  <li><strong>Service Mesh Integration</strong>: Complement service mesh solutions with centralized ingress</li>
</ul>

<p><br /></p>

<h3 id="internal-tcpudp-load-balancer">Internal TCP/UDP Load Balancer</h3>

<p>Provides Layer 4 load balancing for internal TCP and UDP traffic:</p>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Internal TCP/UDP Load Balancer</span>
<span class="nx">resource</span> <span class="s2">"google_compute_forwarding_rule"</span> <span class="s2">"internal_lb"</span> <span class="p">{</span>
  <span class="nx">name</span>                  <span class="p">=</span> <span class="s2">"internal-tcp-lb"</span>
  <span class="nx">load_balancing_scheme</span> <span class="p">=</span> <span class="s2">"INTERNAL"</span>
  <span class="nx">backend_service</span>       <span class="p">=</span> <span class="nx">google_compute_region_backend_service</span><span class="err">.</span><span class="nx">internal_backend</span><span class="err">.</span><span class="nx">id</span>
  <span class="nx">all_ports</span>             <span class="p">=</span> <span class="kc">true</span>
  <span class="nx">allow_global_access</span>   <span class="p">=</span> <span class="kc">true</span>
  <span class="nx">network</span>               <span class="p">=</span> <span class="s2">"default"</span>
  <span class="nx">subnetwork</span>            <span class="p">=</span> <span class="s2">"default"</span>
<span class="p">}</span>

<span class="nx">resource</span> <span class="s2">"google_compute_region_backend_service"</span> <span class="s2">"internal_backend"</span> <span class="p">{</span>
  <span class="nx">name</span>                  <span class="p">=</span> <span class="s2">"internal-backend-service"</span>
  <span class="nx">protocol</span>              <span class="p">=</span> <span class="s2">"TCP"</span>
  <span class="nx">load_balancing_scheme</span> <span class="p">=</span> <span class="s2">"INTERNAL"</span>
  <span class="nx">health_checks</span>         <span class="p">=</span> <span class="p">[</span><span class="nx">google_compute_health_check</span><span class="err">.</span><span class="nx">internal_health</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>

  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">internal_group</span><span class="err">.</span><span class="nx">id</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="gke-integration-and-ingress-controllers">GKE Integration and Ingress Controllers</h2>

<p>GKE provides seamless integration with GCP load balancers through Kubernetes Ingress resources and service configurations.</p>

<p><br /></p>

<h3 id="gke-load-balancer-types">GKE Load Balancer Types</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph TB
      subgraph "GKE Load Balancer Integration"
        A[Kubernetes Service] --&gt; B{Service Type}
        B --&gt;|LoadBalancer| C[Network Load Balancer]
        B --&gt;|ClusterIP| D[Internal Service]
        
        E[Kubernetes Ingress] --&gt; F["HTTP(S) Load Balancer"]
        F --&gt; G[Backend Services]
        G --&gt; H[NodePort Services]
        H --&gt; I[Pods]
        
        subgraph "Ingress Features"
          J[SSL Termination]
          K[Path Routing]
          L[Host Routing]
          M[Global Static IP]
        end
        
        F --&gt; J
        F --&gt; K
        F --&gt; L
        F --&gt; M
      end
      
      style F fill:#4285f4,color:#fff
      style I fill:#34a853,color:#fff
  </div>
</div>

<p><br /></p>

<h3 id="advanced-gke-ingress-configuration">Advanced GKE Ingress Configuration</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Frontend configuration for advanced features</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.gke.io/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">FrontendConfig</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">advanced-frontend-config</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">redirectToHttps</span><span class="pi">:</span>
    <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">responseCodeName</span><span class="pi">:</span> <span class="s">MOVED_PERMANENTLY_DEFAULT</span>
  <span class="na">sslPolicy</span><span class="pi">:</span> <span class="s2">"</span><span class="s">modern-ssl-policy"</span>
  
<span class="nn">---</span>
<span class="c1"># Backend configuration for performance optimization</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">cloud.google.com/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">BackendConfig</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">performance-backend-config</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">timeoutSec</span><span class="pi">:</span> <span class="m">30</span>
  <span class="na">connectionDraining</span><span class="pi">:</span>
    <span class="na">drainingTimeoutSec</span><span class="pi">:</span> <span class="m">300</span>
  <span class="na">sessionAffinity</span><span class="pi">:</span>
    <span class="na">affinityType</span><span class="pi">:</span> <span class="s2">"</span><span class="s">CLIENT_IP"</span>
    <span class="na">affinityCookieTtlSec</span><span class="pi">:</span> <span class="m">3600</span>
  <span class="na">cdn</span><span class="pi">:</span>
    <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">cachePolicy</span><span class="pi">:</span>
      <span class="na">includeHost</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">includeProtocol</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">includeQueryString</span><span class="pi">:</span> <span class="no">false</span>
    <span class="na">negativeCaching</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">healthCheck</span><span class="pi">:</span>
    <span class="na">checkIntervalSec</span><span class="pi">:</span> <span class="m">10</span>
    <span class="na">timeoutSec</span><span class="pi">:</span> <span class="m">5</span>
    <span class="na">healthyThreshold</span><span class="pi">:</span> <span class="m">2</span>
    <span class="na">unhealthyThreshold</span><span class="pi">:</span> <span class="m">3</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">HTTP</span>
    <span class="na">requestPath</span><span class="pi">:</span> <span class="s">/health</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">8080</span>

<span class="nn">---</span>
<span class="c1"># Comprehensive Ingress with multiple domains and paths</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">production-ingress</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="na">kubernetes.io/ingress.global-static-ip-name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">production-lb-ip"</span>
    <span class="na">networking.gke.io/managed-certificates</span><span class="pi">:</span> <span class="s2">"</span><span class="s">main-cert,api-cert"</span>
    <span class="na">kubernetes.io/ingress.class</span><span class="pi">:</span> <span class="s2">"</span><span class="s">gce"</span>
    <span class="na">networking.gke.io/v1beta1.FrontendConfig</span><span class="pi">:</span> <span class="s2">"</span><span class="s">advanced-frontend-config"</span>
    <span class="na">cloud.google.com/backend-config</span><span class="pi">:</span> <span class="s1">'</span><span class="s">{"default":</span><span class="nv"> </span><span class="s">"performance-backend-config"}'</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="c1"># Main website</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">example.com</span>
    <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">frontend-service</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">80</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/static/*</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">cdn-service</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">80</span>
  
  <span class="c1"># API services</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">api.example.com</span>
    <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/v1/*</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">api-v1-service</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">8080</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/v2/*</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">api-v2-service</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">8080</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/health</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Exact</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">health-service</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">8080</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="gke-certificate-manager-integration">GKE Certificate Manager Integration</h3>

<p>For modern GKE deployments, Certificate Manager provides superior certificate management:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Using Certificate Manager instead of ManagedCertificate</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">cert-manager-ingress</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="na">kubernetes.io/ingress.global-static-ip-name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">production-ip"</span>
    <span class="na">kubernetes.io/ingress.class</span><span class="pi">:</span> <span class="s2">"</span><span class="s">gce"</span>
    <span class="c1"># Use Certificate Manager instead of ManagedCertificate</span>
    <span class="na">networking.gke.io/certificate-map</span><span class="pi">:</span> <span class="s2">"</span><span class="s">production-cert-map"</span>
    <span class="na">networking.gke.io/v1beta1.FrontendConfig</span><span class="pi">:</span> <span class="s2">"</span><span class="s">frontend-config"</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">example.com</span>
    <span class="c1"># ... routing configuration</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">api.example.com</span>
    <span class="c1"># ... API routing configuration</span>
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="cloud-cdn-integration-and-performance-optimization">Cloud CDN Integration and Performance Optimization</h2>

<p>Cloud CDN integration with HTTP(S) Load Balancers provides global content caching and acceleration.</p>

<p><br /></p>

<h3 id="cdn-architecture-pattern">CDN Architecture Pattern</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph LR
      subgraph "Global CDN Architecture"
        A[User Request] --&gt; B[Google Edge Location]
        B --&gt; C{Cache Hit?}
        C --&gt;|Yes| D[Serve from Cache]
        C --&gt;|No| E["HTTP(S) Load Balancer"]
        E --&gt; F[Backend Service]
        F --&gt; G[Origin Servers]
        G --&gt; H[Cache at Edge]
        H --&gt; D
        
        subgraph "CDN Features"
          I[Global Distribution]
          J[Cache Invalidation]
          K[Custom Cache Keys]
          L[Signed URLs]
        end
      end
      
      style B fill:#ea4335,color:#fff
      style E fill:#4285f4,color:#fff
      style G fill:#34a853,color:#fff
  </div>
</div>

<p><br /></p>

<h3 id="advanced-cdn-configuration">Advanced CDN Configuration</h3>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Backend service with optimized CDN configuration</span>
<span class="nx">resource</span> <span class="s2">"google_compute_backend_service"</span> <span class="s2">"cdn_optimized_backend"</span> <span class="p">{</span>
  <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"cdn-optimized-backend"</span>
  <span class="nx">protocol</span>    <span class="p">=</span> <span class="s2">"HTTP"</span>
  <span class="nx">timeout_sec</span> <span class="p">=</span> <span class="mi">10</span>

  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">web_servers</span><span class="err">.</span><span class="nx">id</span>
  <span class="p">}</span>

  <span class="nx">health_checks</span> <span class="p">=</span> <span class="p">[</span><span class="nx">google_compute_http_health_check</span><span class="err">.</span><span class="nx">default</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>

  <span class="c1"># Enable Cloud CDN with advanced configuration</span>
  <span class="nx">enable_cdn</span> <span class="p">=</span> <span class="kc">true</span>

  <span class="nx">cdn_policy</span> <span class="p">{</span>
    <span class="nx">cache_mode</span>                   <span class="p">=</span> <span class="s2">"CACHE_ALL_STATIC"</span>
    <span class="nx">default_ttl</span>                 <span class="p">=</span> <span class="mi">3600</span>
    <span class="nx">max_ttl</span>                     <span class="p">=</span> <span class="mi">86400</span>
    <span class="nx">client_ttl</span>                  <span class="p">=</span> <span class="mi">1800</span>
    <span class="nx">negative_caching</span>            <span class="p">=</span> <span class="kc">true</span>
    
    <span class="nx">negative_caching_policy</span> <span class="p">{</span>
      <span class="nx">code</span> <span class="p">=</span> <span class="mi">404</span>
      <span class="nx">ttl</span>  <span class="p">=</span> <span class="mi">120</span>
    <span class="p">}</span>
    
    <span class="nx">negative_caching_policy</span> <span class="p">{</span>
      <span class="nx">code</span> <span class="p">=</span> <span class="mi">500</span>
      <span class="nx">ttl</span>  <span class="p">=</span> <span class="mi">60</span>
    <span class="p">}</span>
    
    <span class="c1"># Advanced cache key configuration</span>
    <span class="nx">cache_key_policy</span> <span class="p">{</span>
      <span class="nx">include_host</span>         <span class="p">=</span> <span class="kc">true</span>
      <span class="nx">include_protocol</span>     <span class="p">=</span> <span class="kc">true</span>
      <span class="nx">include_query_string</span> <span class="p">=</span> <span class="kc">false</span>
      <span class="nx">query_string_whitelist</span> <span class="p">=</span> <span class="p">[</span><span class="s2">"version"</span><span class="p">,</span> <span class="s2">"locale"</span><span class="p">,</span> <span class="s2">"format"</span><span class="p">]</span>
      <span class="nx">include_http_headers</span> <span class="p">=</span> <span class="p">[</span><span class="s2">"Accept-Language"</span><span class="p">]</span>
    <span class="p">}</span>
    
    <span class="c1"># Signed URL configuration for protected content</span>
    <span class="nx">signed_url_cache_max_age_sec</span> <span class="p">=</span> <span class="mi">3600</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="performance-optimization-strategies">Performance Optimization Strategies</h3>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Optimization Area</th>
      <th>Technique</th>
      <th>Configuration</th>
      <th>Performance Impact</th>
    </tr>
    <tr>
      <td>Cache Efficiency</td>
      <td>Strategic TTL values</td>
      <td>Short TTL for dynamic, long TTL for static</td>
      <td>Reduced origin load, faster response times</td>
    </tr>
    <tr>
      <td>Cache Keys</td>
      <td>Selective query string caching</td>
      <td>Whitelist only necessary parameters</td>
      <td>Higher cache hit ratio</td>
    </tr>
    <tr>
      <td>Compression</td>
      <td>Enable gzip compression</td>
      <td>Backend service compression</td>
      <td>Reduced bandwidth, faster loading</td>
    </tr>
    <tr>
      <td>Connection Management</td>
      <td>Keep-alive and connection pooling</td>
      <td>Backend service timeouts</td>
      <td>Lower latency, better throughput</td>
    </tr>
  </table>
</div>

<p><br /></p>

<hr />

<h2 id="security-and-access-control">Security and Access Control</h2>

<p>GCP load balancers integrate with Cloud Armor for DDoS protection and web application firewall capabilities.</p>

<p><br /></p>

<h3 id="cloud-armor-integration">Cloud Armor Integration</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph LR
      subgraph "Security Architecture"
        A[Internet Traffic] --&gt; B[Cloud Armor]
        B --&gt; C{Security Rules}
        C --&gt;|Allow| D["HTTP(S) Load Balancer"]
        C --&gt;|Block| E[Blocked Response]
        D --&gt; F[Backend Services]
        
        subgraph "Protection Types"
          G[DDoS Protection]
          H[WAF Rules]
          I[Rate Limiting]
          J[Geo-blocking]
        end
        
        B --&gt; G
        B --&gt; H
        B --&gt; I
        B --&gt; J
      end
      
      style B fill:#ea4335,color:#fff
      style D fill:#4285f4,color:#fff
  </div>
</div>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Cloud Armor security policy</span>
<span class="nx">resource</span> <span class="s2">"google_compute_security_policy"</span> <span class="s2">"security_policy"</span> <span class="p">{</span>
  <span class="nx">name</span> <span class="p">=</span> <span class="s2">"load-balancer-security-policy"</span>

  <span class="c1"># DDoS protection rule</span>
  <span class="nx">rule</span> <span class="p">{</span>
    <span class="nx">action</span>   <span class="p">=</span> <span class="s2">"allow"</span>
    <span class="nx">priority</span> <span class="p">=</span> <span class="s2">"1000"</span>
    <span class="nx">match</span> <span class="p">{</span>
      <span class="nx">versioned_expr</span> <span class="p">=</span> <span class="s2">"SRC_IPS_V1"</span>
      <span class="nx">config</span> <span class="p">{</span>
        <span class="nx">src_ip_ranges</span> <span class="p">=</span> <span class="p">[</span><span class="s2">"*"</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Default allow rule"</span>
    
    <span class="nx">rate_limit_options</span> <span class="p">{</span>
      <span class="nx">conform_action</span> <span class="p">=</span> <span class="s2">"allow"</span>
      <span class="nx">exceed_action</span>  <span class="p">=</span> <span class="s2">"deny(429)"</span>
      <span class="nx">enforce_on_key</span> <span class="p">=</span> <span class="s2">"IP"</span>
      
      <span class="nx">rate_limit_threshold</span> <span class="p">{</span>
        <span class="nx">count</span>        <span class="p">=</span> <span class="mi">100</span>
        <span class="nx">interval_sec</span> <span class="p">=</span> <span class="mi">60</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1"># Block specific countries</span>
  <span class="nx">rule</span> <span class="p">{</span>
    <span class="nx">action</span>   <span class="p">=</span> <span class="s2">"deny(403)"</span>
    <span class="nx">priority</span> <span class="p">=</span> <span class="s2">"2000"</span>
    <span class="nx">match</span> <span class="p">{</span>
      <span class="nx">expr</span> <span class="p">{</span>
        <span class="nx">expression</span> <span class="p">=</span> <span class="s2">"origin.region_code == 'CN' || origin.region_code == 'RU'"</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Block traffic from specific regions"</span>
  <span class="p">}</span>

  <span class="c1"># SQL injection protection</span>
  <span class="nx">rule</span> <span class="p">{</span>
    <span class="nx">action</span>   <span class="p">=</span> <span class="s2">"deny(403)"</span>
    <span class="nx">priority</span> <span class="p">=</span> <span class="s2">"3000"</span>
    <span class="nx">match</span> <span class="p">{</span>
      <span class="nx">expr</span> <span class="p">{</span>
        <span class="nx">expression</span> <span class="p">=</span> <span class="s2">"evaluatePreconfiguredExpr('sqli-stable')"</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Block SQL injection attempts"</span>
  <span class="p">}</span>

  <span class="c1"># XSS protection</span>
  <span class="nx">rule</span> <span class="p">{</span>
    <span class="nx">action</span>   <span class="p">=</span> <span class="s2">"deny(403)"</span>
    <span class="nx">priority</span> <span class="p">=</span> <span class="s2">"4000"</span>
    <span class="nx">match</span> <span class="p">{</span>
      <span class="nx">expr</span> <span class="p">{</span>
        <span class="nx">expression</span> <span class="p">=</span> <span class="s2">"evaluatePreconfiguredExpr('xss-stable')"</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Block XSS attempts"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Apply security policy to backend service</span>
<span class="nx">resource</span> <span class="s2">"google_compute_backend_service"</span> <span class="s2">"secure_backend"</span> <span class="p">{</span>
  <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"secure-backend-service"</span>
  <span class="nx">protocol</span>    <span class="p">=</span> <span class="s2">"HTTP"</span>
  <span class="nx">timeout_sec</span> <span class="p">=</span> <span class="mi">10</span>

  <span class="nx">security_policy</span> <span class="p">=</span> <span class="nx">google_compute_security_policy</span><span class="err">.</span><span class="nx">security_policy</span><span class="err">.</span><span class="nx">id</span>

  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">web_servers</span><span class="err">.</span><span class="nx">id</span>
  <span class="p">}</span>

  <span class="nx">health_checks</span> <span class="p">=</span> <span class="p">[</span><span class="nx">google_compute_http_health_check</span><span class="err">.</span><span class="nx">default</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="cost-optimization-strategies">Cost Optimization Strategies</h2>

<p>Understanding GCP load balancer pricing models enables effective cost optimization.</p>

<p><br /></p>

<h3 id="pricing-structure-analysis">Pricing Structure Analysis</h3>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Load Balancer Type</th>
      <th>Base Cost</th>
      <th>Data Processing</th>
      <th>Additional Costs</th>
      <th>Cost Optimization Tips</th>
    </tr>
    <tr>
      <td>HTTP(S) Load Balancer</td>
      <td>$18/month (first 5 rules)</td>
      <td>$0.008/GB</td>
      <td>$7/month per additional rule</td>
      <td>Consolidate rules, use path-based routing</td>
    </tr>
    <tr>
      <td>Network Load Balancer</td>
      <td>$18/month</td>
      <td>$0.008/GB</td>
      <td>None</td>
      <td>Regional placement, connection pooling</td>
    </tr>
    <tr>
      <td>Internal Load Balancer</td>
      <td>$18/month</td>
      <td>$0.008/GB</td>
      <td>None</td>
      <td>Efficient backend selection</td>
    </tr>
  </table>
</div>

<p><br /></p>

<h3 id="cost-optimization-techniques">Cost Optimization Techniques</h3>

<h4 id="1-rule-consolidation-strategy">1. Rule Consolidation Strategy</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Efficient: Single Ingress with multiple paths</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">consolidated-ingress</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">example.com</span>
    <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/api/v1</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">api-v1-service</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">8080</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/api/v2</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">api-v2-service</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">8080</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">web-service</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">80</span>
</code></pre></div></div>

<h4 id="2-regional-vs-global-decision-matrix">2. Regional vs Global Decision Matrix</h4>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph TB
      A[Traffic Analysis] --&gt; B{User Distribution}
      B --&gt;|Global| C[Global Load Balancer]
      B --&gt;|Regional| D[Regional Load Balancer]
      C --&gt; E[Higher Cost, Better Performance]
      D --&gt; F[Lower Cost, Regional Performance]
      
      G[Application Requirements] --&gt; H{Latency Sensitivity}
      H --&gt;|High| C
      H --&gt;|Medium| I[Evaluate Cost vs Performance]
      H --&gt;|Low| D
      
      style C fill:#ea4335,color:#fff
      style D fill:#34a853,color:#fff
  </div>
</div>

<p><br /></p>

<hr />

<h2 id="monitoring-and-observability">Monitoring and Observability</h2>

<p>Comprehensive monitoring ensures optimal load balancer performance and enables proactive issue resolution.</p>

<p><br /></p>

<h3 id="key-metrics-and-monitoring-strategy">Key Metrics and Monitoring Strategy</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph TB
      subgraph "Load Balancer Monitoring"
        A[Cloud Monitoring] --&gt; B[Request Metrics]
        A --&gt; C[Latency Metrics]
        A --&gt; D[Error Metrics]
        A --&gt; E[Backend Health]
        
        B --&gt; F[Request Count]
        B --&gt; G[Request Rate]
        C --&gt; H[Frontend Latency]
        C --&gt; I[Backend Latency]
        D --&gt; J[4XX Errors]
        D --&gt; K[5XX Errors]
        E --&gt; L[Healthy Backends]
        E --&gt; M[Failed Health Checks]
        
        subgraph "Alerting"
          N[SLO-based Alerts]
          O[Threshold Alerts]
          P[Anomaly Detection]
        end
      end
      
      style A fill:#4285f4,color:#fff
      style N fill:#34a853,color:#fff
  </div>
</div>

<p><br /></p>

<h3 id="terraform-monitoring-configuration">Terraform Monitoring Configuration</h3>

<script src="https://gist.github.com/somaz94/5387eb82004b97cb280e853d62f5658c.js"></script>

<p><br /></p>

<hr />

<h2 id="troubleshooting-common-issues">Troubleshooting Common Issues</h2>

<p><br /></p>

<h3 id="ssl-certificate-issues">SSL Certificate Issues</h3>

<div class="info-box info-box-warning-not-check">
  <strong>Common SSL Certificate Problems</strong>
  <ul>
    <li><strong>Provisioning Stuck:</strong> Verify DNS records point to load balancer IP</li>
    <li><strong>Domain Validation Failures:</strong> Ensure domain ownership and accessibility</li>
    <li><strong>Certificate Not Attached:</strong> Check load balancer configuration and certificate map</li>
    <li><strong>Mixed Content Warnings:</strong> Ensure all resources use HTTPS</li>
  </ul>
</div>

<h4 id="diagnostic-commands">Diagnostic Commands</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check certificate status</span>
gcloud compute ssl-certificates describe certificate-name

<span class="c"># Verify DNS resolution</span>
nslookup your-domain.com

<span class="c"># Test certificate validity</span>
openssl s_client <span class="nt">-connect</span> your-domain.com:443 <span class="nt">-servername</span> your-domain.com

<span class="c"># Check GKE ManagedCertificate status</span>
kubectl describe managedcertificate certificate-name
</code></pre></div></div>

<p><br /></p>

<h3 id="backend-service-health-issues">Backend Service Health Issues</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check backend service health</span>
gcloud compute backend-services get-health backend-service-name <span class="nt">--global</span>

<span class="c"># Verify health check configuration</span>
gcloud compute health-checks describe health-check-name

<span class="c"># Test health check endpoint manually</span>
curl <span class="nt">-I</span> http://backend-ip:port/health

<span class="c"># Check firewall rules for health check traffic</span>
gcloud compute firewall-rules list <span class="nt">--filter</span><span class="o">=</span><span class="s2">"direction:INGRESS"</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="performance-optimization-troubleshooting">Performance Optimization Troubleshooting</h3>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Enhanced backend configuration for performance</span>
<span class="nx">resource</span> <span class="s2">"google_compute_backend_service"</span> <span class="s2">"optimized_backend"</span> <span class="p">{</span>
  <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"optimized-backend-service"</span>
  <span class="nx">protocol</span>    <span class="p">=</span> <span class="s2">"HTTP"</span>
  <span class="nx">timeout_sec</span> <span class="p">=</span> <span class="mi">30</span>

  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">web_servers</span><span class="err">.</span><span class="nx">id</span>
    
    <span class="c1"># Connection balancing mode</span>
    <span class="nx">balancing_mode</span>  <span class="p">=</span> <span class="s2">"UTILIZATION"</span>
    <span class="nx">max_utilization</span> <span class="p">=</span> <span class="mf">0.8</span>
    
    <span class="c1"># Connection draining</span>
    <span class="nx">capacity_scaler</span> <span class="p">=</span> <span class="mf">1.0</span>
  <span class="p">}</span>

  <span class="nx">health_checks</span> <span class="p">=</span> <span class="p">[</span><span class="nx">google_compute_health_check</span><span class="err">.</span><span class="nx">optimized_health</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>

  <span class="c1"># Connection draining</span>
  <span class="nx">connection_draining_timeout_sec</span> <span class="p">=</span> <span class="mi">300</span>

  <span class="c1"># Session affinity for stateful applications</span>
  <span class="nx">session_affinity</span> <span class="p">=</span> <span class="s2">"CLIENT_IP"</span>

  <span class="c1"># Load balancing algorithm</span>
  <span class="nx">locality_lb_policy</span> <span class="p">=</span> <span class="s2">"ROUND_ROBIN"</span>

  <span class="c1"># Circuit breaker configuration</span>
  <span class="nx">circuit_breakers</span> <span class="p">{</span>
    <span class="nx">max_requests_per_connection</span> <span class="p">=</span> <span class="mi">10</span>
    <span class="nx">max_connections</span>            <span class="p">=</span> <span class="mi">100</span>
    <span class="nx">max_pending_requests</span>       <span class="p">=</span> <span class="mi">10</span>
    <span class="nx">max_requests</span>               <span class="p">=</span> <span class="mi">100</span>
    <span class="nx">max_retries</span>               <span class="p">=</span> <span class="mi">3</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="advanced-use-cases-and-patterns">Advanced Use Cases and Patterns</h2>

<p><br /></p>

<h3 id="multi-region-deployment-pattern">Multi-Region Deployment Pattern</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph TB
      subgraph "Global Multi-Region Architecture"
        A[Global Load Balancer] --&gt; B[Region: us-central1]
        A --&gt; C[Region: europe-west1]
        A --&gt; D[Region: asia-southeast1]
        
        B --&gt; E[GKE Cluster US]
        C --&gt; F[GKE Cluster EU]
        D --&gt; G[GKE Cluster ASIA]
        
        E --&gt; H[Application Pods US]
        F --&gt; I[Application Pods EU]
        G --&gt; J[Application Pods ASIA]
        
        subgraph "Failover Strategy"
          K[Health-based Routing]
          L[Geographic Routing]
          M[Latency-based Routing]
        end
        
        A --&gt; K
        A --&gt; L
        A --&gt; M
      end
      
      style A fill:#ea4335,color:#fff
      style E fill:#4285f4,color:#fff
      style F fill:#4285f4,color:#fff
      style G fill:#4285f4,color:#fff
  </div>
</div>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Multi-region backend service configuration</span>
<span class="nx">resource</span> <span class="s2">"google_compute_backend_service"</span> <span class="s2">"global_backend"</span> <span class="p">{</span>
  <span class="nx">name</span>        <span class="p">=</span> <span class="s2">"global-multi-region-backend"</span>
  <span class="nx">protocol</span>    <span class="p">=</span> <span class="s2">"HTTP"</span>
  <span class="nx">timeout_sec</span> <span class="p">=</span> <span class="mi">30</span>
  
  <span class="c1"># US region backend</span>
  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">us_central1</span><span class="err">.</span><span class="nx">id</span>
    <span class="nx">balancing_mode</span> <span class="p">=</span> <span class="s2">"RATE"</span>
    <span class="nx">max_rate</span> <span class="p">=</span> <span class="mi">1000</span>
    <span class="nx">capacity_scaler</span> <span class="p">=</span> <span class="mf">1.0</span>
  <span class="p">}</span>
  
  <span class="c1"># Europe region backend</span>
  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">europe_west1</span><span class="err">.</span><span class="nx">id</span>
    <span class="nx">balancing_mode</span> <span class="p">=</span> <span class="s2">"RATE"</span>
    <span class="nx">max_rate</span> <span class="p">=</span> <span class="mi">1000</span>
    <span class="nx">capacity_scaler</span> <span class="p">=</span> <span class="mf">1.0</span>
  <span class="p">}</span>
  
  <span class="c1"># Asia region backend</span>
  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">asia_southeast1</span><span class="err">.</span><span class="nx">id</span>
    <span class="nx">balancing_mode</span> <span class="p">=</span> <span class="s2">"RATE"</span>
    <span class="nx">max_rate</span> <span class="p">=</span> <span class="mi">1000</span>
    <span class="nx">capacity_scaler</span> <span class="p">=</span> <span class="mf">1.0</span>
  <span class="p">}</span>

  <span class="nx">health_checks</span> <span class="p">=</span> <span class="p">[</span><span class="nx">google_compute_health_check</span><span class="err">.</span><span class="nx">global_health</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>
  
  <span class="c1"># Locality preferences for optimal routing</span>
  <span class="nx">locality_lb_policy</span> <span class="p">=</span> <span class="s2">"MAGLEV"</span>
  
  <span class="c1"># Consistent hash for session affinity across regions</span>
  <span class="nx">consistent_hash</span> <span class="p">{</span>
    <span class="nx">minimum_ring_size</span> <span class="p">=</span> <span class="mi">1024</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="blue-green-deployment-with-load-balancers">Blue-Green Deployment with Load Balancers</h3>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Blue-Green deployment configuration</span>
<span class="nx">resource</span> <span class="s2">"google_compute_url_map"</span> <span class="s2">"blue_green_url_map"</span> <span class="p">{</span>
  <span class="nx">name</span>            <span class="p">=</span> <span class="s2">"blue-green-url-map"</span>
  <span class="nx">default_service</span> <span class="p">=</span> <span class="nx">google_compute_backend_service</span><span class="err">.</span><span class="nx">blue_backend</span><span class="err">.</span><span class="nx">id</span>

  <span class="nx">host_rule</span> <span class="p">{</span>
    <span class="nx">hosts</span>        <span class="p">=</span> <span class="p">[</span><span class="s2">"app.example.com"</span><span class="p">]</span>
    <span class="nx">path_matcher</span> <span class="p">=</span> <span class="s2">"blue-green-matcher"</span>
  <span class="p">}</span>

  <span class="nx">path_matcher</span> <span class="p">{</span>
    <span class="nx">name</span>            <span class="p">=</span> <span class="s2">"blue-green-matcher"</span>
    <span class="nx">default_service</span> <span class="p">=</span> <span class="nx">var</span><span class="err">.</span><span class="nx">active_environment</span> <span class="p">==</span> <span class="s2">"blue"</span> <span class="err">?</span> <span class="nx">google_compute_backend_service</span><span class="err">.</span><span class="nx">blue_backend</span><span class="err">.</span><span class="nx">id</span> <span class="err">:</span> <span class="nx">google_compute_backend_service</span><span class="err">.</span><span class="nx">green_backend</span><span class="err">.</span><span class="nx">id</span>

    <span class="c1"># Canary testing route</span>
    <span class="nx">path_rule</span> <span class="p">{</span>
      <span class="nx">paths</span>   <span class="p">=</span> <span class="p">[</span><span class="s2">"/canary/*"</span><span class="p">]</span>
      <span class="nx">service</span> <span class="p">=</span> <span class="nx">google_compute_backend_service</span><span class="err">.</span><span class="nx">green_backend</span><span class="err">.</span><span class="nx">id</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Blue environment backend</span>
<span class="nx">resource</span> <span class="s2">"google_compute_backend_service"</span> <span class="s2">"blue_backend"</span> <span class="p">{</span>
  <span class="nx">name</span>     <span class="p">=</span> <span class="s2">"blue-backend-service"</span>
  <span class="nx">protocol</span> <span class="p">=</span> <span class="s2">"HTTP"</span>
  
  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">blue_environment</span><span class="err">.</span><span class="nx">id</span>
  <span class="p">}</span>
  
  <span class="nx">health_checks</span> <span class="p">=</span> <span class="p">[</span><span class="nx">google_compute_health_check</span><span class="err">.</span><span class="nx">app_health</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Green environment backend</span>
<span class="nx">resource</span> <span class="s2">"google_compute_backend_service"</span> <span class="s2">"green_backend"</span> <span class="p">{</span>
  <span class="nx">name</span>     <span class="p">=</span> <span class="s2">"green-backend-service"</span>
  <span class="nx">protocol</span> <span class="p">=</span> <span class="s2">"HTTP"</span>
  
  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_instance_group</span><span class="err">.</span><span class="nx">green_environment</span><span class="err">.</span><span class="nx">id</span>
  <span class="p">}</span>
  
  <span class="nx">health_checks</span> <span class="p">=</span> <span class="p">[</span><span class="nx">google_compute_health_check</span><span class="err">.</span><span class="nx">app_health</span><span class="err">.</span><span class="nx">id</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="migration-strategies">Migration Strategies</h2>

<p><br /></p>

<h3 id="from-other-cloud-providers">From Other Cloud Providers</h3>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Source</th>
      <th>Target GCP Load Balancer</th>
      <th>Key Considerations</th>
      <th>Migration Approach</th>
    </tr>
    <tr>
      <td>AWS ALB</td>
      <td>HTTP(S) Load Balancer</td>
      <td>Path-based routing, SSL certificates</td>
      <td>Parallel deployment with DNS cutover</td>
    </tr>
    <tr>
      <td>AWS NLB</td>
      <td>Network Load Balancer</td>
      <td>Source IP preservation, health checks</td>
      <td>Direct migration with IP preservation</td>
    </tr>
    <tr>
      <td>Azure Application Gateway</td>
      <td>HTTP(S) Load Balancer</td>
      <td>WAF rules, URL rewriting</td>
      <td>Feature mapping and testing</td>
    </tr>
    <tr>
      <td>Azure Load Balancer</td>
      <td>Network Load Balancer</td>
      <td>Health probe configuration</td>
      <td>Health check adaptation</td>
    </tr>
  </table>
</div>

<p><br /></p>

<h3 id="migration-checklist">Migration Checklist</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Pre-migration assessment</span>
<span class="c"># 1. Document current load balancer configuration</span>
aws elbv2 describe-load-balancers <span class="o">&gt;</span> current-lb-config.json

<span class="c"># 2. Analyze traffic patterns</span>
aws cloudwatch get-metric-statistics <span class="nt">--namespace</span> AWS/ApplicationELB <span class="nt">--metric-name</span> RequestCount

<span class="c"># 3. Export SSL certificates</span>
aws acm list-certificates

<span class="c"># Migration steps</span>
<span class="c"># 1. Create equivalent GCP resources</span>
terraform plan <span class="nt">-out</span><span class="o">=</span>migration.tfplan

<span class="c"># 2. Configure DNS for testing</span>
<span class="c"># Create CNAME records pointing to GCP load balancer</span>

<span class="c"># 3. Validate functionality</span>
curl <span class="nt">-H</span> <span class="s2">"Host: app.example.com"</span> http://gcp-lb-ip/health

<span class="c"># 4. Gradual traffic migration</span>
<span class="c"># Update DNS TTL to low values</span>
<span class="c"># Gradually shift traffic using weighted DNS</span>

<span class="c"># 5. Monitor and validate</span>
gcloud logging <span class="nb">read</span> <span class="s2">"resource.type=http_load_balancer"</span>
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="future-proofing-and-emerging-technologies">Future-Proofing and Emerging Technologies</h2>

<p><br /></p>

<h3 id="integration-with-emerging-gcp-services">Integration with Emerging GCP Services</h3>

<div style="width: 100%; margin: auto; margin-top: 20px;">
  <div class="mermaid">
    graph LR
      subgraph "Next-Generation Load Balancing"
        A["HTTP(S) Load Balancer"] --&gt; B[Cloud Run]
        A --&gt; C[Cloud Functions]
        A --&gt; D[Vertex AI Endpoints]
        
        E[Service Mesh] --&gt; F[Istio Integration]
        E --&gt; G[Traffic Director]
        
        H[Edge Computing] --&gt; I[Cloud CDN]
        H --&gt; J[Edge Locations]
        
        subgraph "AI/ML Integration"
          K[Intelligent Routing]
          L[Predictive Scaling]
          M[Anomaly Detection]
        end
      end
      
      style A fill:#4285f4,color:#fff
      style B fill:#34a853,color:#fff
      style K fill:#ea4335,color:#fff
  </div>
</div>

<p><br /></p>

<h3 id="serverless-integration-patterns">Serverless Integration Patterns</h3>

<div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Cloud Run integration with HTTP(S) Load Balancer</span>
<span class="nx">resource</span> <span class="s2">"google_cloud_run_service"</span> <span class="s2">"api_service"</span> <span class="p">{</span>
  <span class="nx">name</span>     <span class="p">=</span> <span class="s2">"api-service"</span>
  <span class="nx">location</span> <span class="p">=</span> <span class="s2">"us-central1"</span>

  <span class="nx">template</span> <span class="p">{</span>
    <span class="nx">spec</span> <span class="p">{</span>
      <span class="nx">containers</span> <span class="p">{</span>
        <span class="nx">image</span> <span class="p">=</span> <span class="s2">"gcr.io/project/api:latest"</span>
        
        <span class="nx">resources</span> <span class="p">{</span>
          <span class="nx">limits</span> <span class="p">=</span> <span class="p">{</span>
            <span class="nx">cpu</span>    <span class="p">=</span> <span class="s2">"2"</span>
            <span class="nx">memory</span> <span class="p">=</span> <span class="s2">"2Gi"</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">traffic</span> <span class="p">{</span>
    <span class="nx">percent</span>         <span class="p">=</span> <span class="mi">100</span>
    <span class="nx">latest_revision</span> <span class="p">=</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Network Endpoint Group for Cloud Run</span>
<span class="nx">resource</span> <span class="s2">"google_compute_region_network_endpoint_group"</span> <span class="s2">"cloud_run_neg"</span> <span class="p">{</span>
  <span class="nx">name</span>                  <span class="p">=</span> <span class="s2">"cloud-run-neg"</span>
  <span class="nx">network_endpoint_type</span> <span class="p">=</span> <span class="s2">"SERVERLESS"</span>
  <span class="nx">region</span>                <span class="p">=</span> <span class="s2">"us-central1"</span>
  
  <span class="nx">cloud_run</span> <span class="p">{</span>
    <span class="nx">service</span> <span class="p">=</span> <span class="nx">google_cloud_run_service</span><span class="err">.</span><span class="nx">api_service</span><span class="err">.</span><span class="nx">name</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Backend service for serverless</span>
<span class="nx">resource</span> <span class="s2">"google_compute_backend_service"</span> <span class="s2">"serverless_backend"</span> <span class="p">{</span>
  <span class="nx">name</span> <span class="p">=</span> <span class="s2">"serverless-backend-service"</span>
  
  <span class="nx">backend</span> <span class="p">{</span>
    <span class="nx">group</span> <span class="p">=</span> <span class="nx">google_compute_region_network_endpoint_group</span><span class="err">.</span><span class="nx">cloud_run_neg</span><span class="err">.</span><span class="nx">id</span>
  <span class="p">}</span>
  
  <span class="c1"># Serverless-optimized configuration</span>
  <span class="nx">timeout_sec</span> <span class="p">=</span> <span class="mi">300</span>
  <span class="nx">protocol</span>    <span class="p">=</span> <span class="s2">"HTTP"</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<hr />

<h2 id="conclusion">Conclusion</h2>

<p>GCP’s load balancing ecosystem provides comprehensive solutions for modern cloud applications, from simple web services to complex microservices architectures. The choice between HTTP(S), Network, and Internal load balancers depends on specific application requirements, traffic patterns, and architectural constraints.</p>

<p><br /></p>

<h3 id="key-decision-factors">Key Decision Factors</h3>

<div class="table-container">
  <table class="table-beauty">
    <tr>
      <th>Factor</th>
      <th>HTTP(S) Load Balancer</th>
      <th>Network Load Balancer</th>
      <th>Internal Load Balancer</th>
    </tr>
    <tr>
      <td>Application Layer</td>
      <td>✅ Layer 7 features</td>
      <td>❌ Layer 4 only</td>
      <td>✅ Layer 7 features</td>
    </tr>
    <tr>
      <td>Global Distribution</td>
      <td>✅ Global anycast</td>
      <td>❌ Regional only</td>
      <td>❌ Regional only</td>
    </tr>
    <tr>
      <td>Protocol Support</td>
      <td>HTTP/HTTPS only</td>
      <td>✅ TCP/UDP/ESP/GRE</td>
      <td>HTTP/HTTPS only</td>
    </tr>
    <tr>
      <td>SSL Termination</td>
      <td>✅ Advanced SSL management</td>
      <td>❌ Pass-through only</td>
      <td>✅ SSL termination</td>
    </tr>
    <tr>
      <td>CDN Integration</td>
      <td>✅ Native Cloud CDN</td>
      <td>❌ Not applicable</td>
      <td>❌ Internal only</td>
    </tr>
  </table>
</div>

<p><br /></p>

<h3 id="best-practices-summary">Best Practices Summary</h3>

<ol>
  <li><strong>Choose the Right Type</strong>: Match load balancer capabilities to application requirements</li>
  <li><strong>SSL Strategy</strong>: Use Certificate Manager for complex domain structures</li>
  <li><strong>Performance Optimization</strong>: Leverage CDN, compression, and connection pooling</li>
  <li><strong>Security</strong>: Implement Cloud Armor for DDoS and WAF protection</li>
  <li><strong>Cost Management</strong>: Consolidate rules and optimize regional placement</li>
  <li><strong>Monitoring</strong>: Set up comprehensive observability and alerting</li>
  <li><strong>Automation</strong>: Use Terraform for consistent infrastructure deployment</li>
</ol>

<p><br /></p>

<h3 id="looking-forward">Looking Forward</h3>

<p>The evolution of GCP load balancing continues with enhanced serverless integration, AI-powered traffic optimization, and deeper service mesh integration. Organizations should design their load balancing strategy with flexibility to adapt to emerging technologies while maintaining current operational excellence.</p>

<p>The integration of load balancers with emerging technologies like Cloud Run, Vertex AI, and advanced networking features positions GCP as a platform capable of supporting next-generation application architectures. Understanding these fundamentals provides the foundation for leveraging future enhancements and maintaining competitive advantage in cloud-native development.</p>

<p><br /></p>

<hr />

<h2 id="references">References</h2>

<ul>
  <li><a href="https://cloud.google.com/load-balancing/docs/load-balancing-overview">GCP Load Balancing Overview</a></li>
  <li><a href="https://cloud.google.com/load-balancing/docs/https">HTTP(S) Load Balancing</a></li>
  <li><a href="https://cloud.google.com/load-balancing/docs/network">Network Load Balancing</a></li>
  <li><a href="https://cloud.google.com/load-balancing/docs/internal">Internal Load Balancing</a></li>
  <li><a href="https://cloud.google.com/certificate-manager/docs">Certificate Manager</a></li>
  <li><a href="https://cloud.google.com/cdn/docs">Cloud CDN Documentation</a></li>
  <li><a href="https://cloud.google.com/armor/docs">Cloud Armor Documentation</a></li>
  <li><a href="https://cloud.google.com/kubernetes-engine/docs/concepts/ingress">GKE Ingress Documentation</a></li>
  <li><a href="https://registry.terraform.io/providers/hashicorp/google/latest">Terraform Google Provider</a></li>
  <li><a href="https://cloud.google.com/products/calculator">GCP Pricing Calculator</a></li>
</ul>


                <!-- Pagination links -->


            </article>

            
                <aside class="see-also">
                    <h2>See also</h2>
                    <ul>
                        
                        
                        
                            <li>
                                <a href="/category/aws/aws-vpc-peering-transit-gateway/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1767769488/aws-network-1_y4kc1r.png">
                                    
                                    <h3>AWS Network Connection Methods Complete Comparison - VPC Peering vs Transit Gateway vs VPN</h3>
                                </a>
                            </li>
                        
                            <li>
                                <a href="/category/ai/llm-ollama-open-webui/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1770607787/ollama-openwebui-llm-1_dl6rlu.png">
                                    
                                    <h3>Building an On-Premises LLM System with Ollama + Open WebUI</h3>
                                </a>
                            </li>
                        
                            <li>
                                <a href="/category/container/docker-image-optimization/">
                                    
                                        <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1767693107/docker-image-opt-1_bfyljd.png">
                                    
                                    <h3>Docker Image Optimization Practical Guide</h3>
                                </a>
                            </li>
                        
                    </ul>
                </aside>
            

        </section>

        <!-- Add time bar only for pages without pagination -->
        
            <div class="time-bar" data-minutes="31">
    <span class="time-completed"></span>
    <span class="time-remaining"></span>
    <div class="bar">
        <span class="completed" style="width:0%;"></span>
        <span class="remaining" style="width:100%;"></span>
    </div>
</div>

            <button class="toggle-preview" onclick="togglePreview()">
    <span>Hide Preview ▼</span>
</button>

<div id="recommendationSection" class="recommendation">
    <div class="message">
        <strong>Why don't you read something next?</strong>
        <div>
            <button>
                <svg><use xlink:href="#icon-arrow-right"></use></svg>
                <span>Go back to top</span>
            </button>
        </div>
    </div>
    <div id="previewSection" class="preview-section">
        
        <a href="/category/aws/aws-vpc-peering-transit-gateway/" class="post-preview">
            <div class="image">
                
                    <img src="https://res.cloudinary.com/dkcm26aem/image/upload/c_scale,w_380/v1767769488/aws-network-1_y4kc1r.png">
                
            </div>
            <h3 class="title">AWS Network Connection Methods Complete Comparison - VPC Peering vs Transit Gateway vs VPN</h3>
        </a>
    </div>
</div>

<style>
.toggle-preview {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #333;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.toggle-preview:hover {
    background: #444;
}

.toggle-preview.visible {
    opacity: 1;
}

.recommendation {
    margin-top: 1000px;
    display: block;
    transition: all 0.3s ease;
}

.recommendation.hidden {
    display: none;
}

.hide-preview {
    margin-left: 10px;
    background: none;
    border: 1px solid #666;
    color: #666;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
}

.hide-preview:hover {
    background: #f0f0f0;
}

.preview-section {
    max-height: 1000px;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
}

.preview-section.hidden {
    max-height: 0;
}
</style>

<script>
function togglePreview() {
    const recommendation = document.getElementById('recommendationSection');
    const button = document.querySelector('.toggle-preview span');
    
    if (recommendation.classList.contains('hidden')) {
        recommendation.classList.remove('hidden');
        button.textContent = 'Hide Preview ▼';
    } else {
        recommendation.classList.add('hidden');
        button.textContent = 'Show Preview ▲';
    }
}

window.addEventListener('scroll', function() {
    const toggleButton = document.querySelector('.toggle-preview');
    const recommendation = document.getElementById('recommendationSection');
    const rect = recommendation.getBoundingClientRect();
    
    if (rect.top <= window.innerHeight) {
        toggleButton.classList.add('visible');
    } else {
        toggleButton.classList.remove('visible');
    }
});
</script>

        

        <!-- Show modal if the post is the last one -->
        

        <!-- Show modal before user leaves the page -->
        

        <!-- Add your newsletter subscription form here -->

        <section class="share">
    <h3>Share</h3>
    <a aria-label="Share on Twitter" href="https://twitter.com/intent/tweet?text=&quot;Complete guide to Google Cloud Platform load balancers including HTTP(S), Network, and Internal Load Balancers with Terraform examples and GKE integration&quot;%20https://somaz.blog/category/gcp/gcp-loadbalancer/%20via%20&#64;twitter_username&hashtags=gcp,load-balancer,kubernetes,networking,terraform,gke,ssl,cdn"
    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Share on Twitter">
        <svg class="icon icon-twitter"><use xlink:href="#icon-twitter"></use></svg>
    </a>
    <a aria-label="Share on Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://somaz.blog/category/gcp/gcp-loadbalancer/"
    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook">
        <svg class="icon icon-facebook"><use xlink:href="#icon-facebook"></use></svg>
    </a>
</section>

        

  <section class="author">
    <div class="details">
      
        <img class="img-rounded" src="/assets/img/uploads/profile.png" alt="Somaz">
      
      <p class="def">Author</p>
      <h3 class="name">
        <a href="/authors/somaz/">Somaz</a>
      </h3>
      <p class="desc">DevOps engineer focused on cloud infrastructure and automation</p>
      <p>
        
          <a href="https://github.com/somaz94" title="Github">
            <svg><use xlink:href="#icon-github"></use></svg>
          </a>
        
        
        
        
        
        
          <a href="https://www.linkedin.com/in/somaz" title="LinkedIn">
            <svg><use xlink:href="#icon-linkedin"></use></svg>
          </a>
        
        
          <a href="https://somaz.tistory.com" title="Tistory">
            <svg><use xlink:href="#icon-tistory"></use></svg>
          </a>
        
      </p>
    </div>
  </section>

  
  
  
  
  
  
  
  

  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Somaz",
      
      "image": "/assets/img/uploads/profile.png",
      
      "jobTitle": "DevOps Engineer",
      "url": "https://somaz.blog/authors/somaz/",
      "sameAs": [
        "https://github.com/somaz94","https://www.linkedin.com/in/somaz","https://{{ author.tistory_username }}.tistory.com"
      ]
  }
  </script>


        

<section class="comments">
    <h3>Comments</h3>
    <div id="disqus_thread"></div>
</section>
<script type="text/javascript">
    var disqus_loaded = false;

    function load_disqus()
    {
        disqus_loaded = true;
        var disqus_shortname = 'https-somaz94-github-io';
        var disqus_title = '';
        var disqus_url = '/category/gcp/gcp-loadbalancer/';
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        var ldr = document.getElementById('disqus_loader');
    };
    window.onscroll = function(e) {
        if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 800)) {
            //hit bottom of page
            if (disqus_loaded==false)
                load_disqus()
        }
    };
</script>



        <footer>
    <p>
      
        <a href="https://github.com/somaz94" title="Github">
          <svg><use xlink:href="#icon-github"></use></svg>
        </a>
      
      
        <a href="https://www.facebook.com/facebook_username" title="Facebook">
          <svg><use xlink:href="#icon-facebook"></use></svg>
        </a>
      
      
        <a href="https://twitter.com/twitter_username" title="Twitter">
          <svg><use xlink:href="#icon-twitter"></use></svg>
        </a>
      
      
        <a href="https://medium.com/@medium_username" title="Medium">
          <svg><use xlink:href="#icon-medium"></use></svg>
        </a>
      
      
        <a href="https://www.instagram.com/instagram_username" title="Instagram">
          <svg><use xlink:href="#icon-instagram"></use></svg>
        </a>
      
      
        <a href="https://www.linkedin.com/in/somaz" title="LinkedIn">
          <svg><use xlink:href="#icon-linkedin"></use></svg>
        </a>
      
      
        <a href="https://somaz.tistory.com" title="Tistory">
          <svg><use xlink:href="#icon-tistory"></use></svg>
        </a>
      
    </p>

    <ul>
  
    
      <li>
        <a href="https://somaz.blog/">Home</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/about">About</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/category">Category</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/contact">Contact</a>
      </li>
    
  
    
      <li>
        <a href="https://somaz.blog/feed.xml">Feed</a>
      </li>
    
  
</ul>


    <p>
      <a href="https://somaz.blog/sitemap.xml" title="sitemap">Sitemap</a> |
      <a href="https://somaz.blog/privacy-policy" title="Privacy Policy">Privacy Policy</a>
    </p>

    <p>
      <span>Somaz Tech Blog</span> <svg class="love"><use xlink:href="#icon-heart"></use></svg>
    </p>
</footer>










<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "somaz",
  "description": "DevOps engineer's tech blog.",
  "url": "https://somaz.blog/",
  "logo": {
      "@type": "ImageObject",
      "url": "https://somaz.blog/assets/img/icons/mediumtile.png",
      "width": "600",
      "height": "315"
  },
  "sameAs": [
    "https://github.com/somaz94","https://www.facebook.com/facebook_username","https://twitter.com/twitter_username","https://medium.com/@medium_username","https://www.instagram.com/instagram_username","https://www.linkedin.com/in/somaz","https://{{ site.tistory_username }}.tistory.com"
  ]
}
</script>

<!-- Include the script that allows Netlify CMS login -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<!-- Include the website scripts -->
<script src="/assets/js/scripts.min.js"></script>

<!-- Include Google Analytics script -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXX-X"></script>
<script>
  var host = window.location.hostname;
  if (host != 'localhost') {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-XXXXXXXX-X');
  }
</script>
  


<!-- Include extra scripts -->



        

        
        
        
        
        
        
        
        
        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "BlogPosting",
            "name": "GCP Load Balancer Complete Comparison Guide",
            "headline": "Master GCP's load balancing solutions with comprehensive analysis and practical implementation",
            "description": "Complete guide to Google Cloud Platform load balancers including HTTP(S), Network, and Internal Load Balancers with Terraform examples and GKE integration",
            "image": "https://res.cloudinary.com/dkcm26aem/image/upload/v1767686138/gcp-loadbalancer-1_mih9pb.png",
            "url": "https://somaz.blog/category/gcp/gcp-loadbalancer/",
            "articleBody": "



Overview

Google Cloud Platform offers a comprehensive suite of load balancing solutions designed to meet diverse application requirements and architectural patterns. From global HTTP(S) load balancing to regional TCP/UDP load balancing, GCP provides the flexibility and performance needed for modern cloud-native applications.

Load balancers serve as the critical entry point for user traffic, ensuring high availability, optimal performance, and seamless scaling. Understanding the nuances of each GCP load balancer type enables architects and engineers to make informed decisions that directly impact application performance, cost efficiency, and operational complexity.

Recent developments in GCP’s load balancing ecosystem have significantly enhanced SSL certificate management capabilities. The introduction of Certificate Manager allows for sophisticated multi-domain certificate handling, while improvements to Cloud CDN integration provide superior content delivery performance.



Why Load Balancer Selection Matters

The choice of load balancer fundamentally shapes your application’s architecture, performance characteristics, and operational overhead. Different load balancer types serve distinct use cases, and selecting the appropriate solution requires understanding traffic patterns, geographic distribution, protocol requirements, and security considerations.

Modern applications demand load balancing solutions that can handle varying traffic loads, provide SSL termination, integrate with content delivery networks, and support advanced routing capabilities. GCP’s load balancing portfolio addresses these requirements while offering seamless integration with other Google Cloud services.





GCP Load Balancer Architecture Overview

GCP load balancers operate at different layers of the OSI model, providing distinct capabilities and performance characteristics:


  
      graph TB
          subgraph &quot;GCP Load Balancer Ecosystem&quot;
              subgraph &quot;Layer 7 (Application)&quot;
                  A[HTTP/S Load Balancer]
                  B[Internal HTTP/S Load Balancer]
              end
              
              subgraph &quot;Layer 4 (Transport)&quot;
                  C[Network Load Balancer]
                  D[Internal TCP/UDP Load Balancer]
              end
              
              subgraph &quot;Global Services&quot;
                  E[Cloud CDN]
                  F[Cloud Armor]
                  G[SSL Certificates]
              end
              
              subgraph &quot;Regional Services&quot;
                  H[Backend Services]
                  I[Health Checks]
                  J[Instance Groups]
              end
              
              A --&amp;gt; E
              A --&amp;gt; F
              A --&amp;gt; G
              B --&amp;gt; H
              C --&amp;gt; I
              D --&amp;gt; J
          end
          
          style A fill:#4285f4,color:#fff
          style C fill:#34a853,color:#fff
          style E fill:#ea4335,color:#fff
  




Load Balancer Comparison Matrix


  
    
      Load Balancer Type
      OSI Layer
      Scope
      Protocol Support
      SSL Termination
      Best Use Cases
    
    
      HTTP(S) Load Balancer
      Layer 7
      Global
      HTTP, HTTPS
      Yes
      Web applications, APIs, microservices
    
    
      Network Load Balancer
      Layer 4
      Regional
      TCP, UDP, ESP, GRE, ICMP
      No
      Gaming, IoT, real-time applications
    
    
      Internal HTTP(S) Load Balancer
      Layer 7
      Regional
      HTTP, HTTPS
      Yes
      Internal microservices, private APIs
    
    
      Internal TCP/UDP Load Balancer
      Layer 4
      Regional
      TCP, UDP
      No
      Database connections, internal services
    
  






HTTP(S) Load Balancer Deep Dive

The HTTP(S) Load Balancer represents GCP’s most feature-rich and globally distributed load balancing solution. Operating at Layer 7, it provides intelligent traffic routing, SSL termination, and seamless integration with Cloud CDN.



Key Capabilities and Features


  
    graph LR
      subgraph &quot;HTTP(S) Load Balancer Features&quot;
        A[Global Anycast IP] --&amp;gt; B[URL-based Routing]
        B --&amp;gt; C[SSL Termination]
        C --&amp;gt; D[Cloud CDN Integration]
        D --&amp;gt; E[Cloud Armor Security]
        E --&amp;gt; F[Backend Service Groups]
        F --&amp;gt; G[Health Checks]
        G --&amp;gt; H[Session Affinity]
      end
      
      style A fill:#4285f4,color:#fff
      style D fill:#34a853,color:#fff
      style E fill:#ea4335,color:#fff
  


Global Anycast IP
The global anycast IP ensures users connect to the nearest Google edge location, minimizing latency and providing optimal performance regardless of geographic location.

Advanced Routing Capabilities
HTTP(S) Load Balancer supports sophisticated routing based on:

  URL paths and patterns
  HTTP headers and cookies
  Geographic location
  Request methods
  Query parameters


SSL Certificate Management
Multiple SSL certificate management options provide flexibility for different organizational needs and technical requirements.



SSL Certificate Management Strategies



1. Certificate Manager (Recommended for Multi-Domain)

Certificate Manager provides the most advanced and flexible SSL certificate management capabilities:

# Certificate Manager with multiple domains
resource &quot;google_certificate_manager_certificate&quot; &quot;multi_domain_cert&quot; {
  name        = &quot;multi-domain-certificate&quot;
  description = &quot;Certificate for multiple domains&quot;
  scope       = &quot;DEFAULT&quot;

  managed {
    domains = [
      &quot;example.com&quot;,
      &quot;www.example.com&quot;,
      &quot;api.example.com&quot;,
      &quot;admin.example.com&quot;
    ]
    dns_authorizations = [
      google_certificate_manager_dns_authorization.main.id,
      google_certificate_manager_dns_authorization.www.id,
      google_certificate_manager_dns_authorization.api.id,
      google_certificate_manager_dns_authorization.admin.id
    ]
  }
}

# DNS authorizations for domain verification
resource &quot;google_certificate_manager_dns_authorization&quot; &quot;main&quot; {
  name   = &quot;main-dns-auth&quot;
  domain = &quot;example.com&quot;
}

resource &quot;google_certificate_manager_dns_authorization&quot; &quot;www&quot; {
  name   = &quot;www-dns-auth&quot;
  domain = &quot;www.example.com&quot;
}

resource &quot;google_certificate_manager_dns_authorization&quot; &quot;api&quot; {
  name   = &quot;api-dns-auth&quot;
  domain = &quot;api.example.com&quot;
}

resource &quot;google_certificate_manager_dns_authorization&quot; &quot;admin&quot; {
  name   = &quot;admin-dns-auth&quot;
  domain = &quot;admin.example.com&quot;
}

# Certificate Map for domain-specific routing
resource &quot;google_certificate_manager_certificate_map&quot; &quot;domain_map&quot; {
  name        = &quot;certificate-map&quot;
  description = &quot;Certificate mapping for multiple domains&quot;
}

resource &quot;google_certificate_manager_certificate_map_entry&quot; &quot;main_entry&quot; {
  name         = &quot;main-cert-entry&quot;
  map          = google_certificate_manager_certificate_map.domain_map.name
  certificates = [google_certificate_manager_certificate.multi_domain_cert.id]
  hostname     = &quot;example.com&quot;
}

resource &quot;google_certificate_manager_certificate_map_entry&quot; &quot;api_entry&quot; {
  name         = &quot;api-cert-entry&quot;
  map          = google_certificate_manager_certificate_map.domain_map.name
  certificates = [google_certificate_manager_certificate.multi_domain_cert.id]
  hostname     = &quot;api.example.com&quot;
}




2. Compute Engine Managed SSL Certificates

For simpler deployments managed through Terraform:

resource &quot;google_compute_managed_ssl_certificate&quot; &quot;default&quot; {
  name = &quot;managed-ssl-cert&quot;
  
  managed {
    domains = [
      &quot;example.com&quot;,
      &quot;www.example.com&quot;,
      &quot;api.example.com&quot;
    ]
  }
}




3. GKE ManagedCertificate Integration

For GKE environments using Kubernetes-native certificate management:

# Separate certificates for each domain (GKE limitation)
apiVersion: networking.gke.io/v1
kind: ManagedCertificate
metadata:
  name: main-domain-cert
spec:
  domains:
    - example.com
---
apiVersion: networking.gke.io/v1
kind: ManagedCertificate
metadata:
  name: api-domain-cert
spec:
  domains:
    - api.example.com




SSL Certificate Management Comparison


  
    
      Method
      Multi-Domain Support
      Management Interface
      Automation
      Best For
    
    
      Certificate Manager
      Yes (unified certificate)
      GCP Console + Terraform
      DNS-based automation
      Complex domain structures
    
    
      Compute Engine Managed SSL
      Yes (unified certificate)
      Terraform
      HTTP-based verification
      Compute Engine environments
    
    
      GKE ManagedCertificate
      One domain per certificate
      Kubernetes YAML
      HTTP-based verification
      Kubernetes-native deployments
    
  






Network Load Balancer

Network Load Balancer operates at Layer 4, providing high-performance load balancing for TCP and UDP traffic with minimal latency overhead.



Architecture and Performance Characteristics


  
    graph TB
      subgraph &quot;Network Load Balancer Architecture&quot;
        A[External IP] --&amp;gt; B[Forwarding Rule]
        B --&amp;gt; C[Target Pool / Backend Service]
        C --&amp;gt; D[Health Check]
        D --&amp;gt; E[Instance Group]
        E --&amp;gt; F[Virtual Machines]
        
        subgraph &quot;Protocol Support&quot;
          G[TCP]
          H[UDP]
          I[ESP]
          J[GRE]
          K[ICMP]
        end
        
        C --&amp;gt; G
        C --&amp;gt; H
        C --&amp;gt; I
        C --&amp;gt; J
        C --&amp;gt; K
      end
      
      style A fill:#34a853,color:#fff
      style F fill:#4285f4,color:#fff
  




Key Features

Source IP Preservation
Network Load Balancer preserves the original client IP address, enabling backend services to see the actual source of requests without additional headers or modifications.

Protocol Flexibility
Support for multiple protocols makes Network Load Balancer ideal for:

  Gaming servers requiring UDP
  VPN gateways using ESP
  Custom protocols over TCP
  IoT device communication


Ultra-Low Latency
Layer 4 operation minimizes processing overhead, providing sub-millisecond latency for time-sensitive applications.



Terraform Configuration Example

# External IP address
resource &quot;google_compute_address&quot; &quot;network_lb_ip&quot; {
  name = &quot;network-lb-external-ip&quot;
}

# Health check for TCP service
resource &quot;google_compute_health_check&quot; &quot;tcp_health_check&quot; {
  name               = &quot;tcp-health-check&quot;
  check_interval_sec = 5
  timeout_sec        = 3
  healthy_threshold  = 2
  unhealthy_threshold = 3

  tcp_health_check {
    port = &quot;8080&quot;
  }
}

# Backend service
resource &quot;google_compute_region_backend_service&quot; &quot;network_backend&quot; {
  name                  = &quot;network-backend-service&quot;
  protocol              = &quot;TCP&quot;
  load_balancing_scheme = &quot;EXTERNAL&quot;
  health_checks         = [google_compute_health_check.tcp_health_check.id]

  backend {
    group = google_compute_instance_group.backend_group.id
  }
}

# Forwarding rule
resource &quot;google_compute_forwarding_rule&quot; &quot;network_lb_rule&quot; {
  name                  = &quot;network-lb-forwarding-rule&quot;
  ip_address            = google_compute_address.network_lb_ip.address
  port_range            = &quot;8080&quot;
  backend_service       = google_compute_region_backend_service.network_backend.id
  load_balancing_scheme = &quot;EXTERNAL&quot;
}






Internal Load Balancers

Internal load balancers provide load balancing for traffic within your VPC network, enabling secure communication between internal services without exposure to the internet.



Internal HTTP(S) Load Balancer


  
    graph LR
      subgraph &quot;Internal HTTP(S) Load Balancer&quot;
        A[Client VMs] --&amp;gt; B[Internal Load Balancer IP]
        B --&amp;gt; C[URL Map]
        C --&amp;gt; D[Backend Service 1]
        C --&amp;gt; E[Backend Service 2]
        D --&amp;gt; F[Microservice A]
        E --&amp;gt; G[Microservice B]
        
        subgraph &quot;Features&quot;
          H[SSL Termination]
          I[Path-based Routing]
          J[Header-based Routing]
          K[Private IP Only]
        end
      end
      
      style B fill:#4285f4,color:#fff
      style F fill:#34a853,color:#fff
      style G fill:#34a853,color:#fff
  




Use Cases for Internal HTTP(S) Load Balancer


  Microservices Architecture: Route requests between internal services based on URL paths
  API Gateway Patterns: Centralize internal API access and routing
  Multi-tier Applications: Load balance between application tiers
  Service Mesh Integration: Complement service mesh solutions with centralized ingress




Internal TCP/UDP Load Balancer

Provides Layer 4 load balancing for internal TCP and UDP traffic:

# Internal TCP/UDP Load Balancer
resource &quot;google_compute_forwarding_rule&quot; &quot;internal_lb&quot; {
  name                  = &quot;internal-tcp-lb&quot;
  load_balancing_scheme = &quot;INTERNAL&quot;
  backend_service       = google_compute_region_backend_service.internal_backend.id
  all_ports             = true
  allow_global_access   = true
  network               = &quot;default&quot;
  subnetwork            = &quot;default&quot;
}

resource &quot;google_compute_region_backend_service&quot; &quot;internal_backend&quot; {
  name                  = &quot;internal-backend-service&quot;
  protocol              = &quot;TCP&quot;
  load_balancing_scheme = &quot;INTERNAL&quot;
  health_checks         = [google_compute_health_check.internal_health.id]

  backend {
    group = google_compute_instance_group.internal_group.id
  }
}






GKE Integration and Ingress Controllers

GKE provides seamless integration with GCP load balancers through Kubernetes Ingress resources and service configurations.



GKE Load Balancer Types


  
    graph TB
      subgraph &quot;GKE Load Balancer Integration&quot;
        A[Kubernetes Service] --&amp;gt; B{Service Type}
        B --&amp;gt;|LoadBalancer| C[Network Load Balancer]
        B --&amp;gt;|ClusterIP| D[Internal Service]
        
        E[Kubernetes Ingress] --&amp;gt; F[&quot;HTTP(S) Load Balancer&quot;]
        F --&amp;gt; G[Backend Services]
        G --&amp;gt; H[NodePort Services]
        H --&amp;gt; I[Pods]
        
        subgraph &quot;Ingress Features&quot;
          J[SSL Termination]
          K[Path Routing]
          L[Host Routing]
          M[Global Static IP]
        end
        
        F --&amp;gt; J
        F --&amp;gt; K
        F --&amp;gt; L
        F --&amp;gt; M
      end
      
      style F fill:#4285f4,color:#fff
      style I fill:#34a853,color:#fff
  




Advanced GKE Ingress Configuration

# Frontend configuration for advanced features
apiVersion: networking.gke.io/v1beta1
kind: FrontendConfig
metadata:
  name: advanced-frontend-config
spec:
  redirectToHttps:
    enabled: true
    responseCodeName: MOVED_PERMANENTLY_DEFAULT
  sslPolicy: &quot;modern-ssl-policy&quot;
  
---
# Backend configuration for performance optimization
apiVersion: cloud.google.com/v1
kind: BackendConfig
metadata:
  name: performance-backend-config
spec:
  timeoutSec: 30
  connectionDraining:
    drainingTimeoutSec: 300
  sessionAffinity:
    affinityType: &quot;CLIENT_IP&quot;
    affinityCookieTtlSec: 3600
  cdn:
    enabled: true
    cachePolicy:
      includeHost: true
      includeProtocol: true
      includeQueryString: false
    negativeCaching: true
  healthCheck:
    checkIntervalSec: 10
    timeoutSec: 5
    healthyThreshold: 2
    unhealthyThreshold: 3
    type: HTTP
    requestPath: /health
    port: 8080

---
# Comprehensive Ingress with multiple domains and paths
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: production-ingress
  annotations:
    kubernetes.io/ingress.global-static-ip-name: &quot;production-lb-ip&quot;
    networking.gke.io/managed-certificates: &quot;main-cert,api-cert&quot;
    kubernetes.io/ingress.class: &quot;gce&quot;
    networking.gke.io/v1beta1.FrontendConfig: &quot;advanced-frontend-config&quot;
    cloud.google.com/backend-config: &apos;{&quot;default&quot;: &quot;performance-backend-config&quot;}&apos;
spec:
  rules:
  # Main website
  - host: example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: frontend-service
            port:
              number: 80
      - path: /static/*
        pathType: Prefix
        backend:
          service:
            name: cdn-service
            port:
              number: 80
  
  # API services
  - host: api.example.com
    http:
      paths:
      - path: /v1/*
        pathType: Prefix
        backend:
          service:
            name: api-v1-service
            port:
              number: 8080
      - path: /v2/*
        pathType: Prefix
        backend:
          service:
            name: api-v2-service
            port:
              number: 8080
      - path: /health
        pathType: Exact
        backend:
          service:
            name: health-service
            port:
              number: 8080




GKE Certificate Manager Integration

For modern GKE deployments, Certificate Manager provides superior certificate management:

# Using Certificate Manager instead of ManagedCertificate
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: cert-manager-ingress
  annotations:
    kubernetes.io/ingress.global-static-ip-name: &quot;production-ip&quot;
    kubernetes.io/ingress.class: &quot;gce&quot;
    # Use Certificate Manager instead of ManagedCertificate
    networking.gke.io/certificate-map: &quot;production-cert-map&quot;
    networking.gke.io/v1beta1.FrontendConfig: &quot;frontend-config&quot;
spec:
  rules:
  - host: example.com
    # ... routing configuration
  - host: api.example.com
    # ... API routing configuration






Cloud CDN Integration and Performance Optimization

Cloud CDN integration with HTTP(S) Load Balancers provides global content caching and acceleration.



CDN Architecture Pattern


  
    graph LR
      subgraph &quot;Global CDN Architecture&quot;
        A[User Request] --&amp;gt; B[Google Edge Location]
        B --&amp;gt; C{Cache Hit?}
        C --&amp;gt;|Yes| D[Serve from Cache]
        C --&amp;gt;|No| E[&quot;HTTP(S) Load Balancer&quot;]
        E --&amp;gt; F[Backend Service]
        F --&amp;gt; G[Origin Servers]
        G --&amp;gt; H[Cache at Edge]
        H --&amp;gt; D
        
        subgraph &quot;CDN Features&quot;
          I[Global Distribution]
          J[Cache Invalidation]
          K[Custom Cache Keys]
          L[Signed URLs]
        end
      end
      
      style B fill:#ea4335,color:#fff
      style E fill:#4285f4,color:#fff
      style G fill:#34a853,color:#fff
  




Advanced CDN Configuration

# Backend service with optimized CDN configuration
resource &quot;google_compute_backend_service&quot; &quot;cdn_optimized_backend&quot; {
  name        = &quot;cdn-optimized-backend&quot;
  protocol    = &quot;HTTP&quot;
  timeout_sec = 10

  backend {
    group = google_compute_instance_group.web_servers.id
  }

  health_checks = [google_compute_http_health_check.default.id]

  # Enable Cloud CDN with advanced configuration
  enable_cdn = true

  cdn_policy {
    cache_mode                   = &quot;CACHE_ALL_STATIC&quot;
    default_ttl                 = 3600
    max_ttl                     = 86400
    client_ttl                  = 1800
    negative_caching            = true
    
    negative_caching_policy {
      code = 404
      ttl  = 120
    }
    
    negative_caching_policy {
      code = 500
      ttl  = 60
    }
    
    # Advanced cache key configuration
    cache_key_policy {
      include_host         = true
      include_protocol     = true
      include_query_string = false
      query_string_whitelist = [&quot;version&quot;, &quot;locale&quot;, &quot;format&quot;]
      include_http_headers = [&quot;Accept-Language&quot;]
    }
    
    # Signed URL configuration for protected content
    signed_url_cache_max_age_sec = 3600
  }
}




Performance Optimization Strategies


  
    
      Optimization Area
      Technique
      Configuration
      Performance Impact
    
    
      Cache Efficiency
      Strategic TTL values
      Short TTL for dynamic, long TTL for static
      Reduced origin load, faster response times
    
    
      Cache Keys
      Selective query string caching
      Whitelist only necessary parameters
      Higher cache hit ratio
    
    
      Compression
      Enable gzip compression
      Backend service compression
      Reduced bandwidth, faster loading
    
    
      Connection Management
      Keep-alive and connection pooling
      Backend service timeouts
      Lower latency, better throughput
    
  






Security and Access Control

GCP load balancers integrate with Cloud Armor for DDoS protection and web application firewall capabilities.



Cloud Armor Integration


  
    graph LR
      subgraph &quot;Security Architecture&quot;
        A[Internet Traffic] --&amp;gt; B[Cloud Armor]
        B --&amp;gt; C{Security Rules}
        C --&amp;gt;|Allow| D[&quot;HTTP(S) Load Balancer&quot;]
        C --&amp;gt;|Block| E[Blocked Response]
        D --&amp;gt; F[Backend Services]
        
        subgraph &quot;Protection Types&quot;
          G[DDoS Protection]
          H[WAF Rules]
          I[Rate Limiting]
          J[Geo-blocking]
        end
        
        B --&amp;gt; G
        B --&amp;gt; H
        B --&amp;gt; I
        B --&amp;gt; J
      end
      
      style B fill:#ea4335,color:#fff
      style D fill:#4285f4,color:#fff
  


# Cloud Armor security policy
resource &quot;google_compute_security_policy&quot; &quot;security_policy&quot; {
  name = &quot;load-balancer-security-policy&quot;

  # DDoS protection rule
  rule {
    action   = &quot;allow&quot;
    priority = &quot;1000&quot;
    match {
      versioned_expr = &quot;SRC_IPS_V1&quot;
      config {
        src_ip_ranges = [&quot;*&quot;]
      }
    }
    description = &quot;Default allow rule&quot;
    
    rate_limit_options {
      conform_action = &quot;allow&quot;
      exceed_action  = &quot;deny(429)&quot;
      enforce_on_key = &quot;IP&quot;
      
      rate_limit_threshold {
        count        = 100
        interval_sec = 60
      }
    }
  }

  # Block specific countries
  rule {
    action   = &quot;deny(403)&quot;
    priority = &quot;2000&quot;
    match {
      expr {
        expression = &quot;origin.region_code == &apos;CN&apos; || origin.region_code == &apos;RU&apos;&quot;
      }
    }
    description = &quot;Block traffic from specific regions&quot;
  }

  # SQL injection protection
  rule {
    action   = &quot;deny(403)&quot;
    priority = &quot;3000&quot;
    match {
      expr {
        expression = &quot;evaluatePreconfiguredExpr(&apos;sqli-stable&apos;)&quot;
      }
    }
    description = &quot;Block SQL injection attempts&quot;
  }

  # XSS protection
  rule {
    action   = &quot;deny(403)&quot;
    priority = &quot;4000&quot;
    match {
      expr {
        expression = &quot;evaluatePreconfiguredExpr(&apos;xss-stable&apos;)&quot;
      }
    }
    description = &quot;Block XSS attempts&quot;
  }
}

# Apply security policy to backend service
resource &quot;google_compute_backend_service&quot; &quot;secure_backend&quot; {
  name        = &quot;secure-backend-service&quot;
  protocol    = &quot;HTTP&quot;
  timeout_sec = 10

  security_policy = google_compute_security_policy.security_policy.id

  backend {
    group = google_compute_instance_group.web_servers.id
  }

  health_checks = [google_compute_http_health_check.default.id]
}






Cost Optimization Strategies

Understanding GCP load balancer pricing models enables effective cost optimization.



Pricing Structure Analysis


  
    
      Load Balancer Type
      Base Cost
      Data Processing
      Additional Costs
      Cost Optimization Tips
    
    
      HTTP(S) Load Balancer
      $18/month (first 5 rules)
      $0.008/GB
      $7/month per additional rule
      Consolidate rules, use path-based routing
    
    
      Network Load Balancer
      $18/month
      $0.008/GB
      None
      Regional placement, connection pooling
    
    
      Internal Load Balancer
      $18/month
      $0.008/GB
      None
      Efficient backend selection
    
  




Cost Optimization Techniques

1. Rule Consolidation Strategy

# Efficient: Single Ingress with multiple paths
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: consolidated-ingress
spec:
  rules:
  - host: example.com
    http:
      paths:
      - path: /api/v1
        pathType: Prefix
        backend:
          service:
            name: api-v1-service
            port:
              number: 8080
      - path: /api/v2
        pathType: Prefix
        backend:
          service:
            name: api-v2-service
            port:
              number: 8080
      - path: /
        pathType: Prefix
        backend:
          service:
            name: web-service
            port:
              number: 80


2. Regional vs Global Decision Matrix


  
    graph TB
      A[Traffic Analysis] --&amp;gt; B{User Distribution}
      B --&amp;gt;|Global| C[Global Load Balancer]
      B --&amp;gt;|Regional| D[Regional Load Balancer]
      C --&amp;gt; E[Higher Cost, Better Performance]
      D --&amp;gt; F[Lower Cost, Regional Performance]
      
      G[Application Requirements] --&amp;gt; H{Latency Sensitivity}
      H --&amp;gt;|High| C
      H --&amp;gt;|Medium| I[Evaluate Cost vs Performance]
      H --&amp;gt;|Low| D
      
      style C fill:#ea4335,color:#fff
      style D fill:#34a853,color:#fff
  






Monitoring and Observability

Comprehensive monitoring ensures optimal load balancer performance and enables proactive issue resolution.



Key Metrics and Monitoring Strategy


  
    graph TB
      subgraph &quot;Load Balancer Monitoring&quot;
        A[Cloud Monitoring] --&amp;gt; B[Request Metrics]
        A --&amp;gt; C[Latency Metrics]
        A --&amp;gt; D[Error Metrics]
        A --&amp;gt; E[Backend Health]
        
        B --&amp;gt; F[Request Count]
        B --&amp;gt; G[Request Rate]
        C --&amp;gt; H[Frontend Latency]
        C --&amp;gt; I[Backend Latency]
        D --&amp;gt; J[4XX Errors]
        D --&amp;gt; K[5XX Errors]
        E --&amp;gt; L[Healthy Backends]
        E --&amp;gt; M[Failed Health Checks]
        
        subgraph &quot;Alerting&quot;
          N[SLO-based Alerts]
          O[Threshold Alerts]
          P[Anomaly Detection]
        end
      end
      
      style A fill:#4285f4,color:#fff
      style N fill:#34a853,color:#fff
  




Terraform Monitoring Configuration







Troubleshooting Common Issues



SSL Certificate Issues


  Common SSL Certificate Problems
  
    Provisioning Stuck: Verify DNS records point to load balancer IP
    Domain Validation Failures: Ensure domain ownership and accessibility
    Certificate Not Attached: Check load balancer configuration and certificate map
    Mixed Content Warnings: Ensure all resources use HTTPS
  


Diagnostic Commands

# Check certificate status
gcloud compute ssl-certificates describe certificate-name

# Verify DNS resolution
nslookup your-domain.com

# Test certificate validity
openssl s_client -connect your-domain.com:443 -servername your-domain.com

# Check GKE ManagedCertificate status
kubectl describe managedcertificate certificate-name




Backend Service Health Issues

# Check backend service health
gcloud compute backend-services get-health backend-service-name --global

# Verify health check configuration
gcloud compute health-checks describe health-check-name

# Test health check endpoint manually
curl -I http://backend-ip:port/health

# Check firewall rules for health check traffic
gcloud compute firewall-rules list --filter=&quot;direction:INGRESS&quot;




Performance Optimization Troubleshooting

# Enhanced backend configuration for performance
resource &quot;google_compute_backend_service&quot; &quot;optimized_backend&quot; {
  name        = &quot;optimized-backend-service&quot;
  protocol    = &quot;HTTP&quot;
  timeout_sec = 30

  backend {
    group = google_compute_instance_group.web_servers.id
    
    # Connection balancing mode
    balancing_mode  = &quot;UTILIZATION&quot;
    max_utilization = 0.8
    
    # Connection draining
    capacity_scaler = 1.0
  }

  health_checks = [google_compute_health_check.optimized_health.id]

  # Connection draining
  connection_draining_timeout_sec = 300

  # Session affinity for stateful applications
  session_affinity = &quot;CLIENT_IP&quot;

  # Load balancing algorithm
  locality_lb_policy = &quot;ROUND_ROBIN&quot;

  # Circuit breaker configuration
  circuit_breakers {
    max_requests_per_connection = 10
    max_connections            = 100
    max_pending_requests       = 10
    max_requests               = 100
    max_retries               = 3
  }
}






Advanced Use Cases and Patterns



Multi-Region Deployment Pattern


  
    graph TB
      subgraph &quot;Global Multi-Region Architecture&quot;
        A[Global Load Balancer] --&amp;gt; B[Region: us-central1]
        A --&amp;gt; C[Region: europe-west1]
        A --&amp;gt; D[Region: asia-southeast1]
        
        B --&amp;gt; E[GKE Cluster US]
        C --&amp;gt; F[GKE Cluster EU]
        D --&amp;gt; G[GKE Cluster ASIA]
        
        E --&amp;gt; H[Application Pods US]
        F --&amp;gt; I[Application Pods EU]
        G --&amp;gt; J[Application Pods ASIA]
        
        subgraph &quot;Failover Strategy&quot;
          K[Health-based Routing]
          L[Geographic Routing]
          M[Latency-based Routing]
        end
        
        A --&amp;gt; K
        A --&amp;gt; L
        A --&amp;gt; M
      end
      
      style A fill:#ea4335,color:#fff
      style E fill:#4285f4,color:#fff
      style F fill:#4285f4,color:#fff
      style G fill:#4285f4,color:#fff
  


# Multi-region backend service configuration
resource &quot;google_compute_backend_service&quot; &quot;global_backend&quot; {
  name        = &quot;global-multi-region-backend&quot;
  protocol    = &quot;HTTP&quot;
  timeout_sec = 30
  
  # US region backend
  backend {
    group = google_compute_instance_group.us_central1.id
    balancing_mode = &quot;RATE&quot;
    max_rate = 1000
    capacity_scaler = 1.0
  }
  
  # Europe region backend
  backend {
    group = google_compute_instance_group.europe_west1.id
    balancing_mode = &quot;RATE&quot;
    max_rate = 1000
    capacity_scaler = 1.0
  }
  
  # Asia region backend
  backend {
    group = google_compute_instance_group.asia_southeast1.id
    balancing_mode = &quot;RATE&quot;
    max_rate = 1000
    capacity_scaler = 1.0
  }

  health_checks = [google_compute_health_check.global_health.id]
  
  # Locality preferences for optimal routing
  locality_lb_policy = &quot;MAGLEV&quot;
  
  # Consistent hash for session affinity across regions
  consistent_hash {
    minimum_ring_size = 1024
  }
}




Blue-Green Deployment with Load Balancers

# Blue-Green deployment configuration
resource &quot;google_compute_url_map&quot; &quot;blue_green_url_map&quot; {
  name            = &quot;blue-green-url-map&quot;
  default_service = google_compute_backend_service.blue_backend.id

  host_rule {
    hosts        = [&quot;app.example.com&quot;]
    path_matcher = &quot;blue-green-matcher&quot;
  }

  path_matcher {
    name            = &quot;blue-green-matcher&quot;
    default_service = var.active_environment == &quot;blue&quot; ? google_compute_backend_service.blue_backend.id : google_compute_backend_service.green_backend.id

    # Canary testing route
    path_rule {
      paths   = [&quot;/canary/*&quot;]
      service = google_compute_backend_service.green_backend.id
    }
  }
}

# Blue environment backend
resource &quot;google_compute_backend_service&quot; &quot;blue_backend&quot; {
  name     = &quot;blue-backend-service&quot;
  protocol = &quot;HTTP&quot;
  
  backend {
    group = google_compute_instance_group.blue_environment.id
  }
  
  health_checks = [google_compute_health_check.app_health.id]
}

# Green environment backend
resource &quot;google_compute_backend_service&quot; &quot;green_backend&quot; {
  name     = &quot;green-backend-service&quot;
  protocol = &quot;HTTP&quot;
  
  backend {
    group = google_compute_instance_group.green_environment.id
  }
  
  health_checks = [google_compute_health_check.app_health.id]
}






Migration Strategies



From Other Cloud Providers


  
    
      Source
      Target GCP Load Balancer
      Key Considerations
      Migration Approach
    
    
      AWS ALB
      HTTP(S) Load Balancer
      Path-based routing, SSL certificates
      Parallel deployment with DNS cutover
    
    
      AWS NLB
      Network Load Balancer
      Source IP preservation, health checks
      Direct migration with IP preservation
    
    
      Azure Application Gateway
      HTTP(S) Load Balancer
      WAF rules, URL rewriting
      Feature mapping and testing
    
    
      Azure Load Balancer
      Network Load Balancer
      Health probe configuration
      Health check adaptation
    
  




Migration Checklist

# Pre-migration assessment
# 1. Document current load balancer configuration
aws elbv2 describe-load-balancers &amp;gt; current-lb-config.json

# 2. Analyze traffic patterns
aws cloudwatch get-metric-statistics --namespace AWS/ApplicationELB --metric-name RequestCount

# 3. Export SSL certificates
aws acm list-certificates

# Migration steps
# 1. Create equivalent GCP resources
terraform plan -out=migration.tfplan

# 2. Configure DNS for testing
# Create CNAME records pointing to GCP load balancer

# 3. Validate functionality
curl -H &quot;Host: app.example.com&quot; http://gcp-lb-ip/health

# 4. Gradual traffic migration
# Update DNS TTL to low values
# Gradually shift traffic using weighted DNS

# 5. Monitor and validate
gcloud logging read &quot;resource.type=http_load_balancer&quot;






Future-Proofing and Emerging Technologies



Integration with Emerging GCP Services


  
    graph LR
      subgraph &quot;Next-Generation Load Balancing&quot;
        A[&quot;HTTP(S) Load Balancer&quot;] --&amp;gt; B[Cloud Run]
        A --&amp;gt; C[Cloud Functions]
        A --&amp;gt; D[Vertex AI Endpoints]
        
        E[Service Mesh] --&amp;gt; F[Istio Integration]
        E --&amp;gt; G[Traffic Director]
        
        H[Edge Computing] --&amp;gt; I[Cloud CDN]
        H --&amp;gt; J[Edge Locations]
        
        subgraph &quot;AI/ML Integration&quot;
          K[Intelligent Routing]
          L[Predictive Scaling]
          M[Anomaly Detection]
        end
      end
      
      style A fill:#4285f4,color:#fff
      style B fill:#34a853,color:#fff
      style K fill:#ea4335,color:#fff
  




Serverless Integration Patterns

# Cloud Run integration with HTTP(S) Load Balancer
resource &quot;google_cloud_run_service&quot; &quot;api_service&quot; {
  name     = &quot;api-service&quot;
  location = &quot;us-central1&quot;

  template {
    spec {
      containers {
        image = &quot;gcr.io/project/api:latest&quot;
        
        resources {
          limits = {
            cpu    = &quot;2&quot;
            memory = &quot;2Gi&quot;
          }
        }
      }
    }
  }

  traffic {
    percent         = 100
    latest_revision = true
  }
}

# Network Endpoint Group for Cloud Run
resource &quot;google_compute_region_network_endpoint_group&quot; &quot;cloud_run_neg&quot; {
  name                  = &quot;cloud-run-neg&quot;
  network_endpoint_type = &quot;SERVERLESS&quot;
  region                = &quot;us-central1&quot;
  
  cloud_run {
    service = google_cloud_run_service.api_service.name
  }
}

# Backend service for serverless
resource &quot;google_compute_backend_service&quot; &quot;serverless_backend&quot; {
  name = &quot;serverless-backend-service&quot;
  
  backend {
    group = google_compute_region_network_endpoint_group.cloud_run_neg.id
  }
  
  # Serverless-optimized configuration
  timeout_sec = 300
  protocol    = &quot;HTTP&quot;
}






Conclusion

GCP’s load balancing ecosystem provides comprehensive solutions for modern cloud applications, from simple web services to complex microservices architectures. The choice between HTTP(S), Network, and Internal load balancers depends on specific application requirements, traffic patterns, and architectural constraints.



Key Decision Factors


  
    
      Factor
      HTTP(S) Load Balancer
      Network Load Balancer
      Internal Load Balancer
    
    
      Application Layer
      ✅ Layer 7 features
      ❌ Layer 4 only
      ✅ Layer 7 features
    
    
      Global Distribution
      ✅ Global anycast
      ❌ Regional only
      ❌ Regional only
    
    
      Protocol Support
      HTTP/HTTPS only
      ✅ TCP/UDP/ESP/GRE
      HTTP/HTTPS only
    
    
      SSL Termination
      ✅ Advanced SSL management
      ❌ Pass-through only
      ✅ SSL termination
    
    
      CDN Integration
      ✅ Native Cloud CDN
      ❌ Not applicable
      ❌ Internal only
    
  




Best Practices Summary


  Choose the Right Type: Match load balancer capabilities to application requirements
  SSL Strategy: Use Certificate Manager for complex domain structures
  Performance Optimization: Leverage CDN, compression, and connection pooling
  Security: Implement Cloud Armor for DDoS and WAF protection
  Cost Management: Consolidate rules and optimize regional placement
  Monitoring: Set up comprehensive observability and alerting
  Automation: Use Terraform for consistent infrastructure deployment




Looking Forward

The evolution of GCP load balancing continues with enhanced serverless integration, AI-powered traffic optimization, and deeper service mesh integration. Organizations should design their load balancing strategy with flexibility to adapt to emerging technologies while maintaining current operational excellence.

The integration of load balancers with emerging technologies like Cloud Run, Vertex AI, and advanced networking features positions GCP as a platform capable of supporting next-generation application architectures. Understanding these fundamentals provides the foundation for leveraging future enhancements and maintaining competitive advantage in cloud-native development.





References


  GCP Load Balancing Overview
  HTTP(S) Load Balancing
  Network Load Balancing
  Internal Load Balancing
  Certificate Manager
  Cloud CDN Documentation
  Cloud Armor Documentation
  GKE Ingress Documentation
  Terraform Google Provider
  GCP Pricing Calculator

",
            "wordcount": "5594",
            "inLanguage": "en",
            "dateCreated": "2026-02-14/",
            "datePublished": "2026-02-14/",
            "dateModified": "2026-02-14/",
            "author": {
                "@type": "Person",
                "name": "Somaz",
                
                "image": "/assets/img/uploads/profile.png",
                
                "jobTitle": "DevOps Engineer",
                "url": "https://somaz.blog/authors/somaz/",
                "sameAs": [
                    "https://github.com/somaz94","https://www.linkedin.com/in/somaz"
                ]
            },
            "publisher": {
                "@type": "Organization",
                "name": "somaz",
                "url": "https://somaz.blog/",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://somaz.blog/assets/img/blog-image.png",
                    "width": "600",
                    "height": "315"
                }
            },
            "mainEntityOfPage": "True",
            "genre": "GCP",
            "articleSection": "GCP",
            "keywords": ["gcp","load-balancer","kubernetes","networking","terraform","gke","ssl","cdn"]
        }
        </script>
    </body>
</html>
